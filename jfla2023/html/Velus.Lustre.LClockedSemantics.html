
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module LClockedSemantics</title>
<meta name="description" content="Documentation of Coq module LClockedSemantics" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module LClockedSemantics</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html">Streams</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#ListNotations">List.ListNotations</a></span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html">Sorting.Permutation</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html">Morphisms</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FMapPositive.html">FSets.FMapPositive</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CommonList.html">CommonList</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.FunctionalEnvironment.html">FunctionalEnvironment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Operators.html">Operators</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoindStreams.html">CoindStreams</a></span> <span class="id"><a href="Velus.IndexedStreams.html">IndexedStreams</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoindIndexed.html">CoindIndexed</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Clocks.html">Clocks</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.StaticEnv.html">Lustre.StaticEnv</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LSyntax.html">Lustre.LSyntax</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html">Lustre.LClocking</a></span> <span class="id"><a href="Velus.Lustre.LOrdered.html">Lustre.LOrdered</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LSemantics.html">Lustre.LSemantics</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="LCLOCKEDSEMANTICS">LCLOCKEDSEMANTICS</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span>   : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span>    : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Cks</span>   : <span class="id"><a href="Velus.Clocks.html#CLOCKS">CLOCKS</a></span>        <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Senv</span>  : <span class="id"><a href="Velus.Lustre.StaticEnv.html#STATICENV">STATICENV</a></span>     <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Syn</span>   : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Clo</span>   : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Lord</span>  : <span class="id"><a href="Velus.Lustre.LOrdered.html#LORDERED">LORDERED</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">CStr</span>  : <span class="id"><a href="Velus.CoindStreams.html#COINDSTREAMS">COINDSTREAMS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Sem</span>   : <span class="id"><a href="Velus.Lustre.LSemantics.html#LSEMANTICS">LSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr">CStr</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr">CStr</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="id"><a name="LCLOCKEDSEMANTICS.IStr">IStr</a></span> := <span class="id"><a href="Velus.IndexedStreams.html#IndexedStreamsFun">IndexedStreamsFun</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="kwd">Import</span> <span class="id"><a name="LCLOCKEDSEMANTICS.CIStr">CIStr</a></span> := <span class="id"><a href="Velus.CoindIndexed.html#CoindIndexedFun">CoindIndexedFun</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr">CStr</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.IStr">IStr</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.history_tl_same_find">history_tl_same_find</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)) (<span class="id">H</span> <span class="id">x</span>) (<span class="id">H</span>' <span class="id">x</span>)) <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)) ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.history_tl">history_tl</a></span> <span class="id">H</span>) <span class="id">x</span>) ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.history_tl">history_tl</a></span> <span class="id">H</span>') <span class="id">x</span>)) <span class="id">vars</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_fenv</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">simpl</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_var_same_find">sem_var_same_find</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">vars</span> <span class="id">id</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)) (<span class="id">H</span>' <span class="id">x</span>) (<span class="id">H</span> <span class="id">x</span>)) <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">id</span> <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">id</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>' <span class="id">id</span> <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hf</span> <span class="id">Hin</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hf</span>. <span class="id">inv</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>, <span class="id">H4</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_same_find">sem_clock_same_find</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">vars</span> <span class="id">ck</span> <span class="id">bs</span> <span class="id">bs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_clock">wc_clock</a></span> <span class="id">vars</span> <span class="id">ck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)) (<span class="id">H</span>' <span class="id">x</span>) (<span class="id">H</span> <span class="id">x</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">vars</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hf</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>. <span class="id">inv</span> <span class="id">H9</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hf</span>. <span class="id">inv</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">apply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span>, <span class="id">H7</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Clocked semantics </h2>
<div class="doc">We add an alignment predicate to the node case of the semantics, which checks that
      every flow in the node is aligned with its clock.
      We also add this constraint for the anonymous outputs of a node.
      This forces us to constrain anonymous streams to appear in history.
      We also constrain the domain of the history to be closed, that is only
      contain the named and anonymous streams of the node.
   </div>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.ClockedSemantics">ClockedSemantics</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">bs</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ck</span> <span class="id">xs</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> Γ <span class="id">x</span> <span class="id">ck</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">xs</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">bs</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">xs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ck</span> <span class="id">xs</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> Γ <span class="id">x</span> <span class="id">ck</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">xs</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">bs</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">xs</span>)).<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span> <span class="id">H</span> <span class="id">bs</span> (<span class="id">env</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.static_env">static_env</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom">FEnv.dom</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">env</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> <span class="id">env</span> <span class="id">H</span> <span class="id">bs</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span> -&gt; <span class="kwd">Prop</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">prefs</span> : <span class="id"><a href="Velus.Common.Common.html#PS.t">PS.t</a></span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.ClockedSemantics.G">G</a></span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.PSyn">PSyn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.prefs">prefs</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope">sem_scope</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">A</span> : <span class="kwd">Type</span>}.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope.sem_exp">sem_exp</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope.sem_block">sem_block</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope.A">A</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.scope">scope</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope.A">A</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sscope">Sscope</a></span> : <span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">Hi</span>' <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">bs</span> <span class="id">locs</span> <span class="id">blks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">Hi</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">Hl</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">ck</span> <span class="id">cx</span> <span class="id">e0</span> <span class="id">clx</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">x</span>, (<span class="id">ty</span>, <span class="id">ck</span>, <span class="id">cx</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">e0</span>, <span class="id">clx</span>))) <span class="id">locs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">vs0</span> <span class="id">vs1</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope.sem_exp">sem_exp</a></span> (<span class="id">Hi</span> + <span class="id">Hi</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">e0</span> [<span class="id">vs0</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">Hi</span>' <span class="id">x</span> <span class="id">vs1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.fby">fby</a></span> <span class="id">vs0</span> <span class="id">vs1</span> <span class="id">vs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">Hl</span>' <span class="id">x</span> <span class="id">vs</span>) -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) (<span class="id">Hi</span> + <span class="id">Hi</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">bs</span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope.sem_block">sem_block</a></span> (<span class="id">Hi</span> + <span class="id">Hi</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">blks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_scope_ck</span> (<span class="id">Hi</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.sem_scope">sem_scope</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sconst">Sconst</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">c</span> <span class="id">cs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cs</span> ≡ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const">const</a></span> <span class="id">bs</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">bs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Econst">Econst</a></span> <span class="id">c</span>) [<span class="id">cs</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Senum">Senum</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">k</span> <span class="id">ty</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">es</span> ≡ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enum">enum</a></span> <span class="id">b</span> <span class="id">k</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eenum">Eenum</a></span> <span class="id">k</span> <span class="id">ty</span>) [<span class="id">es</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Svar">Svar</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Evar">Evar</a></span> <span class="id">x</span> <span class="id">ann</span>) [<span class="id">s</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Slast">Slast</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Elast">Elast</a></span> <span class="id">x</span> <span class="id">ann</span>) [<span class="id">s</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sunop">Sunop</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">op</span> <span class="id">ty</span> <span class="id">s</span> <span class="id">o</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span> = [<span class="id">ty</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.lift1">lift1</a></span> <span class="id">op</span> <span class="id">ty</span> <span class="id">s</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eunop">Eunop</a></span> <span class="id">op</span> <span class="id">e</span> <span class="id">ann</span>) [<span class="id">o</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sbinop">Sbinop</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">op</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">o</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e1</span> [<span class="id">s1</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e2</span> [<span class="id">s2</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e1</span> = [<span class="id">ty1</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e2</span> = [<span class="id">ty2</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.lift2">lift2</a></span> <span class="id">op</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">ann</span>) [<span class="id">o</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sextcall">Sextcall</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">tyout</span> <span class="id">ck</span> <span class="id">tyins</span> <span class="id">ss</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">ty</span> <span class="id">cty</span> =&gt; <span class="id">ty</span> = <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.Tprimitive">Tprimitive</a></span> <span class="id">cty</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typesof">typesof</a></span> <span class="id">es</span>) <span class="id">tyins</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.liftn">liftn</a></span> (<span class="kwd">fun</span> <span class="id">ss</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.sem_extern">sem_extern</a></span> <span class="id">f</span> <span class="id">tyins</span> <span class="id">ss</span> <span class="id">tyout</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eextcall">Eextcall</a></span> <span class="id">f</span> <span class="id">es</span> (<span class="id">tyout</span>, <span class="id">ck</span>)) [<span class="id">vs</span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sfby">Sfby</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">s0ss</span> <span class="id">sss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">e0s</span> <span class="id">s0ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">sss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.fby">fby</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">s0ss</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">sss</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Efby">Efby</a></span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sarrow">Sarrow</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">s0ss</span> <span class="id">sss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">e0s</span> <span class="id">s0ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">sss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.arrow">arrow</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">s0ss</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">sss</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Earrow">Earrow</a></span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Swhen">Swhen</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">s</span> <span class="id">k</span> <span class="id">es</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">s</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when">when</a></span> <span class="id">k</span> <span class="id">s</span>' <span class="id">s</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ewhen">Ewhen</a></span> <span class="id">es</span> (<span class="id">x</span>, <span class="id">tx</span>) <span class="id">k</span> <span class="id">lann</span>) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Smerge">Smerge</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">s</span> <span class="id">es</span> <span class="id">lann</span> <span class="id">vs</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.merge">merge</a></span> <span class="id">s</span>) <span class="id">vs</span> <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Emerge">Emerge</a></span> (<span class="id">x</span>, <span class="id">tx</span>) <span class="id">es</span> <span class="id">lann</span>) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.ScaseTotal">ScaseTotal</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">s</span> <span class="id">es</span> <span class="id">tys</span> <span class="id">ck</span> <span class="id">vs</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> (<span class="tactic">case</span> <span class="id">s</span>) <span class="id">vs</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">tys</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ecase">Ecase</a></span> <span class="id">e</span> <span class="id">es</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id">tys</span>, <span class="id">ck</span>)) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.ScaseDefault">ScaseDefault</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">s</span> <span class="id">es</span> <span class="id">d</span> <span class="id">lann</span> <span class="id">vs</span> <span class="id">vd</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.wt_streams">wt_streams</a></span> [<span class="id">s</span>] (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">d</span> <span class="id">vd</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> (<span class="tactic">case</span> <span class="id">s</span>) <span class="id">vs</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">vd</span>)) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ecase">Ecase</a></span> <span class="id">e</span> <span class="id">es</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>) <span class="id">lann</span>) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sapp">Sapp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">er</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span> <span class="id">rs</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">r</span> =&gt; <span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">r</span>]) <span class="id">er</span> <span class="id">rs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.bools_ofs">bools_ofs</a></span> <span class="id">rs</span> <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id">sem_node_ck</span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) <span class="id">os</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eapp">Eapp</a></span> <span class="id">f</span> <span class="id">es</span> <span class="id">er</span> <span class="id">lann</span>) <span class="id">os</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.equation">equation</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="LCLOCKEDSEMANTICS.Seq">Seq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">xs</span> <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>)) <span class="id">xs</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_equation_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id">xs</span>, <span class="id">es</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sbeq">Sbeq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_equation_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Beq">Beq</a></span> <span class="id">eq</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sreset">Sreset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">blocks</span> <span class="id">er</span> <span class="id">sr</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">H</span> <span class="id">b</span> <span class="id">er</span> [<span class="id">sr</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.bools_of">bools_of</a></span> <span class="id">sr</span> <span class="id">r</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id">sem_block_ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">b</span>)) <span class="id">blocks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block_ck</span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Breset">Breset</a></span> <span class="id">blocks</span> <span class="id">er</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Sswitch">Sswitch</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">ec</span> <span class="id">branches</span> <span class="id">sc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_exp_ck</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">ec</span> [<span class="id">sc</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.wt_streams">wt_streams</a></span> [<span class="id">sc</span>] (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">ec</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">blks</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">Hi</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.when_hist">Sem.when_hist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">blks</span>) <span class="id">Hi</span> <span class="id">sc</span> <span class="id">Hi</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="kwd">let</span> <span class="id">bi</span> := <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb">fwhenb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">blks</span>) <span class="id">sc</span> <span class="id">b</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_branch">sem_branch</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id">sem_block_ck</span> <span class="id">Hi</span>' <span class="id">bi</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">blks</span>)) <span class="id">branches</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block_ck</span> <span class="id">Hi</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Bswitch">Bswitch</a></span> <span class="id">ec</span> <span class="id">branches</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKEDSEMANTICS.Slocal">Slocal</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">scope</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span>' =&gt; <span class="id">sem_exp_ck</span> <span class="id">Hi</span>' <span class="id">bs</span>) (<span class="kwd">fun</span> <span class="id">Hi</span>' =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id">sem_block_ck</span> <span class="id">Hi</span>' <span class="id">bs</span>)) <span class="id">Hi</span> <span class="id">bs</span> <span class="id">scope</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block_ck</span> <span class="id">Hi</span> <span class="id">bs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Blocal">Blocal</a></span> <span class="id">scope</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="LCLOCKEDSEMANTICS.Snode">Snode</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ss</span> <span class="id">os</span> <span class="id">n</span> <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.find_node">find_node</a></span> <span class="id">f</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics.G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span>)) <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span>)) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block_ck</span> (<span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.empty">FEnv.empty</a></span> <span class="id">_</span>) <span class="id">b</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_block">n_block</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span> = <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span> (<span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.empty">FEnv.empty</a></span> <span class="id">_</span>) <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_inout">senv_of_inout</a></span> (<span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span>) ++ <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_node_ck</span> <span class="id">f</span> <span class="id">ss</span> <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ClockedSemantics">ClockedSemantics</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_scope">sem_scope</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_branch">sem_branch</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_block">sem_block</a></span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_exp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_scope</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_conjs</span>; <span class="tactic">subst</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_block</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_exp</span>' := (<span class="id">Syn.inv_exp</span> || <span class="id">Clo.inv_exp</span> || <span class="id">Sem.inv_exp</span> || <span class="id">inv_exp</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_scope</span>' := (<span class="id">Syn.inv_scope</span> || <span class="id">Clo.inv_scope</span> || <span class="id">Sem.inv_scope</span> || <span class="id">inv_scope</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_branch</span>' := (<span class="id">Syn.inv_branch</span> || <span class="id">Clo.inv_branch</span> || <span class="id">Sem.inv_branch</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">inv_block</span>' := (<span class="id">Syn.inv_block</span> || <span class="id">Clo.inv_block</span> || <span class="id">Sem.inv_block</span> || <span class="id">inv_block</span>).<br/>
<br/>
<div class="doc">Custom induction schemes </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2">sem_exp_ind2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">prefs</span> <span class="id">PSyn</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">prefs</span> <span class="id">PSyn</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.P_equation">P_equation</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.equation">equation</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.P_transitions">P_transitions</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> * (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.enumtag">enumtag</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)) -&gt; (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.enumtag">enumtag</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.synchronous">synchronous</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.enumtag">enumtag</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)) -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.P_node">P_node</a></span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.ConstCase">ConstCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">c</span> <span class="id">cs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cs</span> ≡ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const">const</a></span> <span class="id">b</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Econst">Econst</a></span> <span class="id">c</span>) [<span class="id">cs</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.EnumCase">EnumCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">k</span> <span class="id">ty</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">es</span> ≡ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enum">enum</a></span> <span class="id">b</span> <span class="id">k</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eenum">Eenum</a></span> <span class="id">k</span> <span class="id">ty</span>) [<span class="id">es</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.VarCase">VarCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Evar">Evar</a></span> <span class="id">x</span> <span class="id">ann</span>) [<span class="id">s</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.LastCase">LastCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Elast">Elast</a></span> <span class="id">x</span> <span class="id">ann</span>) [<span class="id">s</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.UnopCase">UnopCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">op</span> <span class="id">ty</span> <span class="id">s</span> <span class="id">o</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span> = [<span class="id">ty</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.lift1">lift1</a></span> <span class="id">op</span> <span class="id">ty</span> <span class="id">s</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eunop">Eunop</a></span> <span class="id">op</span> <span class="id">e</span> <span class="id">ann</span>) [<span class="id">o</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.BinopCase">BinopCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">op</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">o</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e1</span> [<span class="id">s1</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e1</span> [<span class="id">s1</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e2</span> [<span class="id">s2</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e2</span> [<span class="id">s2</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e1</span> = [<span class="id">ty1</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e2</span> = [<span class="id">ty2</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.lift2">lift2</a></span> <span class="id">op</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">ann</span>) [<span class="id">o</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.ExtcallCase">ExtcallCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">tyout</span> <span class="id">ck</span> <span class="id">tyins</span> <span class="id">ss</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">cty</span> <span class="id">ty</span> =&gt; <span class="id">cty</span> = <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.Tprimitive">Tprimitive</a></span> <span class="id">ty</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typesof">typesof</a></span> <span class="id">es</span>) <span class="id">tyins</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.liftn">liftn</a></span> (<span class="kwd">fun</span> <span class="id">ss</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.sem_extern">sem_extern</a></span> <span class="id">f</span> <span class="id">tyins</span> <span class="id">ss</span> <span class="id">tyout</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span>  <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eextcall">Eextcall</a></span> <span class="id">f</span> <span class="id">es</span> (<span class="id">tyout</span>, <span class="id">ck</span>)) [<span class="id">vs</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.FbyCase">FbyCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">s0ss</span> <span class="id">sss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">e0s</span> <span class="id">s0ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">e0s</span> <span class="id">s0ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">sss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">sss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.fby">fby</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">s0ss</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">sss</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Efby">Efby</a></span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.ArrowCase">ArrowCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">s0ss</span> <span class="id">sss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">e0s</span> <span class="id">s0ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">e0s</span> <span class="id">s0ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">sss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">sss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.arrow">arrow</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">s0ss</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">sss</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Earrow">Earrow</a></span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.WhenCase">WhenCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">s</span> <span class="id">k</span> <span class="id">es</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">s</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when">when</a></span> <span class="id">k</span> <span class="id">s</span>' <span class="id">s</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ewhen">Ewhen</a></span> <span class="id">es</span> (<span class="id">x</span>, <span class="id">tx</span>) <span class="id">k</span> <span class="id">lann</span>) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.MergeCase">MergeCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">s</span> <span class="id">es</span> <span class="id">lann</span> <span class="id">vs</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.merge">merge</a></span> <span class="id">s</span>) <span class="id">vs</span> <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Emerge">Emerge</a></span> (<span class="id">x</span>, <span class="id">tx</span>) <span class="id">es</span> <span class="id">lann</span>) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.CaseTotalCase">CaseTotalCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">s</span> <span class="id">es</span> <span class="id">tys</span> <span class="id">ck</span> <span class="id">vs</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> (<span class="tactic">case</span> <span class="id">s</span>) <span class="id">vs</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">tys</span>) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ecase">Ecase</a></span> <span class="id">e</span> <span class="id">es</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id">tys</span>, <span class="id">ck</span>)) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.CaseDefaultCase">CaseDefaultCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">s</span> <span class="id">es</span> <span class="id">d</span> <span class="id">lann</span> <span class="id">vs</span> <span class="id">vd</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">s</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.wt_streams">wt_streams</a></span> [<span class="id">s</span>] (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">d</span> <span class="id">vd</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">d</span> <span class="id">vd</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> (<span class="tactic">case</span> <span class="id">s</span>) <span class="id">vs</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">vd</span>)) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Ecase">Ecase</a></span> <span class="id">e</span> <span class="id">es</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>) <span class="id">lann</span>) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.AppCase">AppCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">er</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span> <span class="id">sr</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">r</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">r</span>]) <span class="id">er</span> <span class="id">sr</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">r</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">r</span>]) <span class="id">er</span> <span class="id">sr</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.bools_ofs">bools_ofs</a></span> <span class="id">sr</span> <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) <span class="id">os</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_node">P_node</a></span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) <span class="id">os</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Eapp">Eapp</a></span> <span class="id">f</span> <span class="id">es</span> <span class="id">er</span> <span class="id">lann</span>) <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.Equation">Equation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">xs</span> <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>)) <span class="id">xs</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_equation">P_equation</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id">xs</span>, <span class="id">es</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.BeqCase">BeqCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_equation">P_equation</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Beq">Beq</a></span> <span class="id">eq</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.BresetCase">BresetCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">blocks</span> <span class="id">er</span> <span class="id">sr</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">er</span> [<span class="id">sr</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">er</span> [<span class="id">sr</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.bools_of">bools_of</a></span> <span class="id">sr</span> <span class="id">r</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">b</span>)) <span class="id">blocks</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">b</span>)) <span class="id">blocks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Breset">Breset</a></span> <span class="id">blocks</span> <span class="id">er</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.BswitchCase">BswitchCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">ec</span> <span class="id">branches</span> <span class="id">sc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">ec</span> [<span class="id">sc</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">ec</span> [<span class="id">sc</span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.wt_streams">wt_streams</a></span> [<span class="id">sc</span>] (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.typeof">typeof</a></span> <span class="id">ec</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">blks</span> =&gt; <span class="tactic">exists</span> <span class="id">Hi</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.when_hist">Sem.when_hist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">blks</span>) <span class="id">Hi</span> <span class="id">sc</span> <span class="id">Hi</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="kwd">let</span> <span class="id">bi</span> := <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb">fwhenb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">blks</span>) <span class="id">sc</span> <span class="id">b</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_branch">sem_branch</a></span> (<span class="kwd">fun</span> <span class="id">blks</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">Hi</span>' <span class="id">bi</span>) <span class="id">blks</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">Hi</span>' <span class="id">bi</span>) <span class="id">blks</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">blks</span>)) <span class="id">branches</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">Hi</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Bswitch">Bswitch</a></span> <span class="id">ec</span> <span class="id">branches</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.BlocalCase">BlocalCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">scope</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span>' <span class="id">e</span> <span class="id">vs</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">Hi</span>' <span class="id">bs</span> <span class="id">e</span> <span class="id">vs</span> /\ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">Hi</span>' <span class="id">bs</span> <span class="id">e</span> <span class="id">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span>' <span class="id">blks</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">Hi</span>' <span class="id">bs</span>) <span class="id">blks</span> /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">Hi</span>' <span class="id">bs</span>) <span class="id">blks</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hi</span> <span class="id">bs</span> <span class="id">scope</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">Hi</span> <span class="id">bs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Blocal">Blocal</a></span> <span class="id">scope</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ind2.Node">Node</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ss</span> <span class="id">os</span> <span class="id">n</span> <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.find_node">find_node</a></span> <span class="id">f</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span>)) <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span>)) <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> (<span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.empty">FEnv.empty</a></span> <span class="id">_</span>) <span class="id">b</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_block">n_block</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> (<span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.empty">FEnv.empty</a></span> <span class="id">_</span>) <span class="id">b</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_block">n_block</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span> = <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span> (<span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.empty">FEnv.empty</a></span> <span class="id">_</span>) <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_inout">senv_of_inout</a></span> (<span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span>) ++ <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_node">P_node</a></span> <span class="id">f</span> <span class="id">ss</span> <span class="id">os</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">SolveForall</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> ?<span class="id">P1</span> ?<span class="id">l</span> |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> ?<span class="id">P2</span> ?<span class="id">l</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> ?<span class="id">P1</span> ?<span class="id">l1</span> ?<span class="id">l2</span> |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> ?<span class="id">P2</span> ?<span class="id">l1</span> ?<span class="id">l2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ck_ind2">sem_exp_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span>) (<span class="id">b</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">e</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span>) (<span class="id">ss</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">ss</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">struct</span> <span class="id">Sem</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_exp">P_exp</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_equation_ck_ind2">sem_equation_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span>) (<span class="id">b</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">e</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.equation">equation</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">struct</span> <span class="id">Sem</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_equation">P_equation</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_ck_ind2">sem_block_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history">Sem.history</a></span>) (<span class="id">b</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">d</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">struct</span> <span class="id">Sem</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_block">P_block</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_node_ck_ind2">sem_node_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id">ss</span> <span class="id">os</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.G">G</a></span> <span class="id">f</span> <span class="id">ss</span> <span class="id">os</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">struct</span> <span class="id">Sem</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.P_node">P_node</a></span> <span class="id">f</span> <span class="id">ss</span> <span class="id">os</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.ConstCase">ConstCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.EnumCase">EnumCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.VarCase">VarCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.LastCase">LastCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.UnopCase">UnopCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.BinopCase">BinopCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.ExtcallCase">ExtcallCase</a></span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H3</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.FbyCase">FbyCase</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H3</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.ArrowCase">ArrowCase</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H3</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.WhenCase">WhenCase</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H3</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.MergeCase">MergeCase</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H3</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H2</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">IHForall2Brs</span> <span class="id">H2</span> <span class="id">H3</span>. <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.CaseTotalCase">CaseTotalCase</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H2</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">IHForall2Brs</span> <span class="id">H2</span> <span class="id">H3</span>. <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.CaseDefaultCase">CaseDefaultCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> - <span class="id">sem_exp_ck_ind2</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H3</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">IHForall2Brs</span> <span class="id">H1</span> <span class="id">H3</span>. <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> - <span class="id">sem_exp_ck_ind2</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.AppCase">AppCase</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H3</span> <span class="id">H4</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.Equation">Equation</a></span> <span class="kwd">with</span> (<span class="id">ss</span>:=<span class="id">ss</span>); <span class="tactic">eauto</span>; <span class="tactic">clear</span> <span class="id">H2</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.BeqCase">BeqCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.BresetCase">BresetCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H3</span> <span class="id">k</span>). <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.BswitchCase">BswitchCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">SolveForall</span>. <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_conjs</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.BlocalCase">BlocalCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. 2:<span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">SolveForall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">H3</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 3 <span class="id">esplit</span>; <span class="tactic">eauto</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2.Node">Node</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ind2">sem_exp_ind2</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_defined">sem_block_defined</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : <span class="kwd">forall</span> <span class="id">blk</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.Is_defined_in">Syn.Is_defined_in</a></span> <span class="id">x</span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">blk</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block_ind2">block_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hsem</span> <span class="id">Hdef</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;equation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> (?&amp;?&amp;?); <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_In">sem_var_In</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H8</span> 0). <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map_in_iff">FEnv.map_in_iff</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">inv_branch</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In_refines">FEnv.In_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">inv_scope</span>'. <span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_In">FEnv.union_In</a></span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> [|<span class="id">Hin</span>']; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="id">take</span> (~ <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">_</span> &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id">it</span> <span class="kwd">in</span> <span class="id">Hin</span>'. <span class="id">inv</span> <span class="id">Hin</span>'. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_refines">sem_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_refines">sem_exp_refines</a></span> : <span class="kwd">forall</span> <span class="id">b</span> <span class="id">e</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">e</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">b</span> <span class="id">e</span> <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof6')">Proof with</span></div>
<div class="proofscript" id="proof6">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:(<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_equation_refines">sem_equation_refines</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">b</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">equ</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">b</span> <span class="id">equ</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof7')">Proof with</span></div>
<div class="proofscript" id="proof7">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Seq">Seq</a></span> <span class="kwd">with</span> (<span class="id">ss</span>:=<span class="id">ss</span>); <span class="id">simpl_Forall</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_refines">sem_exp_refines</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_refines">sc_vars_refines</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> Γ -&gt; <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' -&gt; <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">b</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Href1</span> <span class="id">Href2</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Hsc1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_var_refines</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id">Href2</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_In">sem_var_In</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_refines">sem_scope_refines</a></span> {<span class="id">A</span>} <span class="id">P_sem</span> : <span class="kwd">forall</span> <span class="id">locs</span> (<span class="id">blk</span>: <span class="id">A</span>) <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">e</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">e</span>) <span class="id">P_sem</span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_sem</span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_sem</span> (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">blk</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">e</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">e</span>) <span class="id">P_sem</span> (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span> <span class="id">Hind</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">H</span> + <span class="id">Hi</span>' ⊑ <span class="id">H</span>' + <span class="id">Hi</span>') <span class="kwd">as</span> <span class="id">Href2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_refines1">FEnv.union_refines1</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonStreams.html#EqStrel_Reflexive">EqStrel_Reflexive</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hin</span>. <span class="id">edestruct</span> <span class="id">H7</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">esplit</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_refines">sem_exp_refines</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H8</span> <span class="kwd">as</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Hsc1</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">sem_var_union3</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">sem_var_union</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> [(?&amp;?)|]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">H1</span>, <span class="id">H4</span>. <span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">senv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_refines">sem_block_refines</a></span> : <span class="kwd">forall</span> <span class="id">blk</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">bs</span> <span class="id">blk</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">blk</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block_ind2">block_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;eq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_refines">sem_equation_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_refines">sem_exp_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H8</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>; [|<span class="tactic">eauto</span>]; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.refines_mask">refines_mask</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_refines">sem_exp_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> (<span class="id">Href1</span>&amp;?). <span class="tactic">split</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; [|<span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ?? <span class="id">Hfind</span>. <span class="tactic">apply</span> <span class="id">Href1</span> <span class="kwd">in</span> <span class="id">Hfind</span> <span class="kwd">as</span> (?&amp;<span class="id">Hfilter</span>&amp;<span class="id">Hfind</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Href</span> <span class="kwd">in</span> <span class="id">Hfind</span>' <span class="kwd">as</span> (?&amp;?&amp;?). <span class="tactic">do</span> 2 <span class="id">esplit</span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_refines">sem_scope_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_refines1">sem_scope_refines1</a></span> : <span class="kwd">forall</span> <span class="id">locs</span> <span class="id">blk</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">e</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>)) (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">e</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>)) (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_refines">sem_scope_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_refines">sem_block_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_refines3">sem_scope_refines3</a></span> {<span class="id">T</span>} : <span class="kwd">forall</span> <span class="id">locs</span> (<span class="id">blk</span>: <span class="id">_</span> * <span class="id">T</span>) <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">e</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">blks</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">blks</span>)) (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">e</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span> <span class="id">blks</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">blks</span>)) (<span class="id">H</span>', <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_refines">sem_scope_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">destruct_conjs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_refines">sem_block_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_refines">sem_refines</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_change_lasts">sem_change_lasts</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_change_lasts">sem_exp_change_lasts</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.wx_exp">wx_exp</a></span> Γ <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>') <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof13')">Proof with</span></div>
<div class="proofscript" id="proof13">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Nisl</span> <span class="id">Hwt</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Nisl</span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:(<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H8</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>); <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_equation_change_lasts">sem_equation_change_lasts</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">b</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.wx_equation">wx_equation</a></span> Γ <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>') <span class="id">b</span> <span class="id">eq</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof14')">Proof with</span></div>
<div class="proofscript" id="proof14">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ????? [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Nil</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (?&amp;?). <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">instantiate</span> (1:=<span class="id">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_change_lasts">sem_exp_change_lasts</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_change_lasts">sc_vars_change_lasts</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id">H</span>, <span class="id">Hl</span>') <span class="id">b</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnl</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">_</span> <span class="id">Hla</span>. <span class="tactic">apply</span> <span class="id">Hnl</span> <span class="kwd">in</span> <span class="id">Hla</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_change_lasts">sem_scope_change_lasts</a></span> {<span class="id">A</span>} <span class="id">P_nolast</span> <span class="id">P_wx</span> <span class="id">P_sem</span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">bs</span> <span class="id">locs</span> (<span class="id">blks</span>: <span class="id">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nolast_scope">nolast_scope</a></span> <span class="id">P_nolast</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.wx_scope">wx_scope</a></span> <span class="id">P_wx</span> Γ (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>) <span class="id">P_sem</span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">Hl</span>', <span class="id">P_nolast</span> <span class="id">blks</span> -&gt; (<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt; <span class="id">P_wx</span> Γ <span class="id">blks</span> -&gt; <span class="id">P_sem</span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">blks</span> -&gt; <span class="id">P_sem</span> (<span class="id">H</span>, <span class="id">Hl</span>') <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>) <span class="id">P_sem</span> (<span class="id">H</span>, <span class="id">Hl</span>') <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnl</span> <span class="id">Nil</span> <span class="id">Hwx</span> <span class="id">Hsem</span> <span class="id">Hind</span>; <span class="id">inv</span> <span class="id">Hnl</span>; <span class="id">inv</span> <span class="id">Hwx</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) <span class="id">x</span>) <span class="kwd">as</span> <span class="id">Nil2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> * <span class="id">contra</span>. <span class="id">inv</span> <span class="id">contra</span>. <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> (Γ++<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) <span class="id">x</span>) <span class="kwd">as</span> <span class="id">Nil</span>' <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.NoLast_app">NoLast_app</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hin</span>. <span class="id">simpl_Forall</span>. <span class="id">edestruct</span> <span class="id">H11</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">esplit</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_change_lasts">sem_exp_change_lasts</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars_change_lasts">sc_vars_change_lasts</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_change_lasts">sem_block_change_lasts</a></span> : <span class="kwd">forall</span> <span class="id">blk</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nolast_block">nolast_block</a></span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.wx_block">wx_block</a></span> Γ <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>') <span class="id">b</span> <span class="id">blk</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof17')">Proof with</span></div>
<div class="proofscript" id="proof17">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lclocking</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">blk</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block_ind2">block_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hnl</span> <span class="id">Nil</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hnl</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;equation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_change_lasts">sem_equation_change_lasts</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_change_lasts">sem_exp_change_lasts</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">k</span>; <span class="tactic">specialize</span> (<span class="id">H11</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_change_lasts">sem_exp_change_lasts</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>. <span class="tactic">do</span> 2 <span class="id">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">instantiate</span> (1:=(<span class="id">_</span>,<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.empty">FEnv.empty</a></span> <span class="id">_</span>)). <span class="tactic">destruct</span> <span class="id">H3</span>; <span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ?? <span class="id">Hempty</span>. <span class="id">inv</span> <span class="id">Hempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">repeat</span> <span class="id">inv_branch</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;locals&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_change_lasts">sem_scope_change_lasts</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_change_lasts">sem_change_lasts</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp">Sem.sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_equation">Sem.sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_block">Sem.sem_block</a></span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom">local_hist_dom</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>' : <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom">FEnv.dom</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom">FEnv.dom</a></span> (<span class="id">H</span> + <span class="id">H</span>') (<span class="id">xs</span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">locs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom1</span> <span class="id">Hdom2</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hdom1</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_In">FEnv.union_In</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, <span class="id">Hdom1</span>, <span class="id">Hdom2</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom_ub">local_hist_dom_ub</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>' : <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> (<span class="id">H</span> + <span class="id">H</span>') (<span class="id">xs</span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">locs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom1</span> <span class="id">Hdom2</span> ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_In">FEnv.union_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, &lt;-<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span>, &lt;-<span class="id">Hdom2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom_lb">local_hist_dom_lb</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>' : <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_lb">FEnv.dom_lb</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_lb">FEnv.dom_lb</a></span> (<span class="id">H</span> + <span class="id">H</span>') (<span class="id">xs</span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">locs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom1</span> <span class="id">Hdom2</span> ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_In">FEnv.union_In</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, &lt;-<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span>, &lt;-<span class="id">Hdom2</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom_ub_last">local_hist_dom_ub_last</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>' : <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> (<span class="id">H</span> + <span class="id">H</span>') (<span class="id">xs</span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">locs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom1</span> <span class="id">Hdom2</span> ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_In">FEnv.union_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>. <span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast_senv_of_locs">IsLast_senv_of_locs</a></span>, <span class="id">Hdom2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom_ub_refines">local_hist_dom_ub_refines</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>': <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> <span class="id">locs</span> -&gt; ~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span> <span class="id">xs</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span> + <span class="id">H</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnd</span> <span class="id">Hdom1</span> <span class="id">Hdom2</span> ?? <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>; [<span class="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union2">FEnv.union2</a></span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.not_find_In">FEnv.not_find_In</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hdom2</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">contra</span>. <span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hdom1</span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom_ub_refines_last">local_hist_dom_ub_refines_last</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>': <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> <span class="id">locs</span> -&gt; ~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span> <span class="id">xs</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span> + <span class="id">H</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnd</span> <span class="id">Hdom1</span> <span class="id">Hdom2</span> ?? <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>; [<span class="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union2">FEnv.union2</a></span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.not_find_In">FEnv.not_find_In</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hdom2</span>. <span class="tactic">intro</span> <span class="id">contra</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast_senv_of_locs">IsLast_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hdom1</span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_dom_refines">local_hist_dom_refines</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">locs</span> (<span class="id">H</span> <span class="id">H</span>': <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.t">FEnv.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> <span class="id">locs</span> -&gt; ~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span> <span class="id">xs</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom">FEnv.dom</a></span> <span class="id">H</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span> + <span class="id">H</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnd</span> <span class="id">Hdom1</span> <span class="id">Hdom2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.local_hist_dom_ub_refines">local_hist_dom_ub_refines</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_dom_ub">FEnv.dom_dom_ub</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_app">sc_vars_app</a></span> : <span class="kwd">forall</span> Γ1 Γ2 <span class="id">Hi</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> Γ1 -&gt; ~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> Γ2) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ1 <span class="id">Hi</span> <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ2 <span class="id">Hi</span> <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> (Γ1 ++ Γ2) <span class="id">Hi</span> <span class="id">bs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnd</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>) (<span class="id">Hsc3</span>&amp;<span class="id">Hsc4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span> * <span class="id">Hck</span>; [|<span class="tactic">intros</span> <span class="id">Hca</span>]; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock_app">HasClock_app</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast_app">IsLast_app</a></span> <span class="kwd">in</span> <span class="id">Hca</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hca</span>, <span class="id">Hck</span>; <span class="tactic">eauto</span>; <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id">Hnd</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_incl">sc_vars_incl</a></span> : <span class="kwd">forall</span> Γ1 Γ2 <span class="id">Hi</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> Γ2 Γ1 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ1 <span class="id">Hi</span> <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ2 <span class="id">Hi</span> <span class="id">bs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hincl</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">senv</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.local_hist_sc_vars">local_hist_sc_vars</a></span> : <span class="kwd">forall</span> (Γ Γ': <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.static_env">static_env</a></span>) <span class="id">locs</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> <span class="id">locs</span> -&gt; ~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">Hl</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">Hl</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ' (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) (<span class="id">H</span> + <span class="id">H</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> (Γ' ++ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) (<span class="id">H</span> + <span class="id">H</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">bs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hincl</span> <span class="id">Hnd</span> <span class="id">Hdom1</span> <span class="id">Hdom2</span> <span class="id">Hvars</span> <span class="id">Hlasts</span> <span class="id">Hsc1</span> <span class="id">Hsc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">H</span> ⊑ <span class="id">H</span> + <span class="id">H</span>') <span class="kwd">as</span> <span class="id">Href1</span> <span class="tactic">by</span> <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.local_hist_dom_ub_refines">local_hist_dom_ub_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars_app">sc_vars_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hin1</span> <span class="id">Hin2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.InMembers_senv_of_locs">InMembers_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">Hin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hincl</span>; <span class="tactic">eauto</span>. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hsc1</span> <span class="kwd">as</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc1l</span>). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hv</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>, <span class="id">Hsc1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_union">sem_var_union</a></span> <span class="kwd">in</span> <span class="id">Hv</span> <span class="kwd">as</span> [<span class="id">Hv</span>|<span class="id">Hv</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_In">sem_var_In</a></span>, <span class="id">Hvars</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hck</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hincl</span>; <span class="tactic">eauto</span>. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hlast</span> <span class="id">Hv</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>, <span class="id">Hsc1l</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_union">sem_var_union</a></span> <span class="kwd">in</span> <span class="id">Hv</span> <span class="kwd">as</span> [<span class="id">Hv</span>|<span class="id">Hv</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_In">sem_var_In</a></span>, <span class="id">Hlasts</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast_senv_of_locs">IsLast_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hck</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hincl</span>; <span class="tactic">eauto</span>. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">local_hist_sc_vars</span>' : <span class="kwd">forall</span> (Γ Γ': <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.static_env">static_env</a></span>) <span class="id">locs</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">Hl</span> <span class="id">Hl</span>' <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> <span class="id">locs</span> -&gt; ~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> (@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp">exp</a></span> <span class="id">locs</span>) <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ' <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ' (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) (<span class="id">H</span> + <span class="id">H</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> (Γ' ++ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) (<span class="id">H</span> + <span class="id">H</span>', <span class="id">Hl</span> + <span class="id">Hl</span>') <span class="id">bs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hincl</span> <span class="id">Hnd</span> <span class="id">Hdom1</span> <span class="id">Hvars</span> <span class="id">Hlast</span> <span class="id">Hsc1</span> <span class="id">Hsc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">H</span> ⊑ <span class="id">H</span> + <span class="id">H</span>') <span class="kwd">as</span> <span class="id">Href1</span> <span class="tactic">by</span> <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.local_hist_dom_ub_refines">local_hist_dom_ub_refines</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars_app">sc_vars_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hin1</span> <span class="id">Hin2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.InMembers_senv_of_locs">InMembers_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">Hin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hincl</span>; <span class="tactic">eauto</span>. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hsc1</span> <span class="kwd">as</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc1l</span>). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hv</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>, <span class="id">Hsc1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_union">sem_var_union</a></span> <span class="kwd">in</span> <span class="id">Hv</span> <span class="kwd">as</span> [<span class="id">Hv</span>|<span class="id">Hv</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_In">sem_var_In</a></span>, <span class="id">Hvars</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hck</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">Hnd</span>, <span class="id">Hincl</span>; <span class="tactic">eauto</span>. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">Hlast</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">Morphism properties </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_exp">sem_exp</a></span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> <span class="id">_</span> ==&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">sc_vars_morph</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ?? <span class="id">Hperm</span> ?? (<span class="id">EH1</span>&amp;<span class="id">EH2</span>) ?? <span class="id">Heq2</span> (?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;-<span class="id">Hperm</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">EH1</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Heq2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;-<span class="id">Hperm</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hperm</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">EH2</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">EH1</span>, &lt;-<span class="id">Heq2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">clocked_node_morph</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">Hb</span> ? (<span class="id">Hdom</span>&amp;<span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">Hb</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">clocked_node_morph_Proper</span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.EqSts">EqSts</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">sem_exp_ck_morph</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">EH</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">Eb</span> <span class="id">e</span> <span class="id">xs</span> <span class="id">xs</span>' <span class="id">Exs</span> <span class="id">Hsem</span>. <span class="id">revert</span> <span class="id">xs</span> <span class="id">xs</span>' <span class="id">Hsem</span> <span class="id">Exs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.EqSts">EqSts</a></span> <span class="kwd">in</span> *; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>. <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Eb</span>, &lt;-<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>. <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Eb</span>, &lt;-<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>. <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH</span>&amp;<span class="id">_</span>). <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>, &lt;-<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>. <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">EH</span>). <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>, &lt;-<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHe</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="id">take</span> (<span class="id">_</span> ≡ <span class="id">y</span>) <span class="id">and</span> <span class="tactic">rewrite</span> &lt;-<span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHe1</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHe2</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="id">take</span> (<span class="id">_</span> ≡ <span class="id">y</span>) <span class="id">and</span> <span class="tactic">rewrite</span> &lt;-<span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Sextcall">Sextcall</a></span> <span class="kwd">with</span> (<span class="id">ss</span>:=<span class="id">ss</span>); <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="id">take</span> (<span class="id">_</span> ≡ <span class="id">y</span>) <span class="id">and</span> <span class="tactic">rewrite</span> &lt;-<span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Sfby">Sfby</a></span> <span class="kwd">with</span> (<span class="id">s0ss</span>:=<span class="id">s0ss</span>) (<span class="id">sss</span>:=<span class="id">sss</span>); <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">take</span> (<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">xs</span>', <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id">it</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall3_EqSt">Forall3_EqSt</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Sarrow">Sarrow</a></span> <span class="kwd">with</span> (<span class="id">s0ss</span>:=<span class="id">s0ss</span>) (<span class="id">sss</span>:=<span class="id">sss</span>); <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">take</span> (<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">xs</span>', <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id">it</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall3_EqSt">Forall3_EqSt</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Swhen">Swhen</a></span> <span class="kwd">with</span> (<span class="id">ss</span>:=<span class="id">ss</span>); <span class="tactic">eauto</span>; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">take</span> (<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">xs</span>', <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id">it</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH</span>&amp;<span class="id">_</span>). <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall2_EqSt">Forall2_EqSt</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH</span>&amp;<span class="id">_</span>). <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">instantiate</span> (1:=<span class="id">vs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>. <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall2_EqSt">Forall2_EqSt</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHe</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>. <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall3_EqSt_Proper">Forall3_EqSt_Proper</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.ScaseDefault">ScaseDefault</a></span> <span class="kwd">with</span> (<span class="id">vd</span>:=<span class="id">vd</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHe</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>. <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall3_EqSt_Proper">Forall3_EqSt_Proper</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Sapp">Sapp</a></span> <span class="kwd">with</span> (<span class="id">ss</span>:=<span class="id">ss</span>) (<span class="id">rs</span>:=<span class="id">rs</span>); <span class="tactic">eauto</span>; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">take</span> (<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">xs</span>', <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id">it</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">k</span>; <span class="id">take</span> (<span class="kwd">forall</span> <span class="id">k</span>, <span class="id">_</span>) <span class="id">and</span> <span class="tactic">specialize</span> (<span class="id">it</span> <span class="id">k</span>); <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.Forall2_EqSt">Forall2_EqSt</a></span>; <span class="tactic">eauto</span>. <span class="id">solve_proper</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id">G</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">sem_equation_ck_morph</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span>; <span class="tactic">intros</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">EH</span> <span class="id">xs</span> <span class="id">xs</span>' <span class="id">Exss</span> <span class="id">eq</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hsem</span> <span class="kwd">as</span> [????? <span class="id">Hseme</span> <span class="id">Hsemv</span>]. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_morph">sem_exp_ck_morph</a></span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH</span>&amp;<span class="id">_</span>). <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_ck_morph">sem_scope_ck_morph</a></span> {<span class="id">A</span>} <span class="id">P_blk1</span> (<span class="id">P_blk2</span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span>) {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Hi1</span> <span class="id">Hi2</span> <span class="id">bs1</span> <span class="id">bs2</span> <span class="id">locs</span> (<span class="id">blks</span>: <span class="id">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">Hi</span> <span class="id">bs1</span>) <span class="id">P_blk1</span> <span class="id">Hi1</span> <span class="id">bs1</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> <span class="id">Hi1</span> <span class="id">Hi2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">bs1</span> ≡ <span class="id">bs2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">Hi1</span> <span class="id">Hi2</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> <span class="id">Hi1</span> <span class="id">Hi2</span> -&gt; <span class="id">P_blk1</span> <span class="id">Hi1</span> <span class="id">blks</span> -&gt; <span class="id">P_blk2</span> <span class="id">Hi2</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">Hi</span> <span class="id">bs2</span>) <span class="id">P_blk2</span> <span class="id">Hi2</span> <span class="id">bs2</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsem</span> <span class="id">EH</span> <span class="id">Eb</span> <span class="id">Hind</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hi2</span> <span class="kwd">as</span> (<span class="id">Hi2</span>&amp;<span class="id">Hl2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> (<span class="id">Hi</span>+<span class="id">Hi</span>',<span class="id">Hl</span>+<span class="id">Hl</span>') (<span class="id">Hi2</span>+<span class="id">Hi</span>',<span class="id">Hl2</span>+<span class="id">Hl</span>')) <span class="kwd">as</span> <span class="id">EH</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH1</span>&amp;<span class="id">EH2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_Equiv">FEnv.union_Equiv</a></span>; <span class="tactic">auto</span>; <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="id">destruct_conjs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">esplit</span>; <span class="tactic">eauto</span>). <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>', &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>', &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">sem_block_ck_morph</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span>. <span class="tactic">intros</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">EH</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">Hbs</span> <span class="id">b</span> <span class="id">Hsem</span>. <span class="id">revert</span> <span class="id">H</span>' <span class="id">bs</span>' <span class="id">EH</span> <span class="id">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_ind2">sem_block_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">P_block</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">b</span> =&gt; <span class="kwd">forall</span> <span class="id">H</span>' <span class="id">bs</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> <span class="id">H</span> <span class="id">H</span>' -&gt; <span class="id">bs</span> ≡ <span class="id">bs</span>' -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span> <span class="id">H</span>' <span class="id">bs</span>' <span class="id">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_exp</span> := <span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_equation</span> := <span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_node</span> := <span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>); <span class="tactic">intros</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id">_</span> ≡ <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">Eb</span>; <span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">EH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck_morph">sem_equation_ck_morph</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_morph">sem_exp_ck_morph</a></span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H4</span> <span class="id">k</span>) <span class="kwd">as</span> (<span class="id">Hsem1</span>&amp;<span class="id">Hsem1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">Hsem1</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hsem1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? (?&amp;?). <span class="tactic">eapply</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH1</span>&amp;<span class="id">EH2</span>); <span class="tactic">split</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span>. <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH1</span>. <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>, &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>. <span class="id">inv_branch</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>. 2:<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH1</span>&amp;<span class="id">EH2</span>); <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_hist">when_hist</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>. <span class="tactic">split</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">EH1</span> <span class="tactic">at</span> 1. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">EH2</span> <span class="tactic">at</span> 1. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H6</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>. <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>. <span class="tactic">destruct</span> <span class="id">Hi</span> <span class="kwd">as</span> (<span class="id">Hi</span>&amp;<span class="id">Hl</span>), <span class="id">H</span>' <span class="kwd">as</span> (<span class="id">Hi2</span>&amp;<span class="id">Hl2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_scope</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.history_equiv">history_equiv</a></span> (<span class="id">Hi</span>+<span class="id">Hi</span>',<span class="id">Hl</span>+<span class="id">Hl</span>') (<span class="id">Hi2</span>+<span class="id">Hi</span>',<span class="id">Hl2</span>+<span class="id">Hl</span>')) <span class="kwd">as</span> <span class="id">EH</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">EH</span> <span class="kwd">as</span> (<span class="id">EH1</span>&amp;<span class="id">EH2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_Equiv">FEnv.union_Equiv</a></span>; <span class="tactic">auto</span>; <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">H5</span>; <span class="tactic">eauto</span>. <span class="id">destruct_conjs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">esplit</span>; <span class="tactic">eauto</span>). <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>', &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">EH</span>', &lt;-<span class="id">Eb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id">G</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.EqSts">EqSts</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span> ==&gt; @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.EqSts">EqSts</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">sem_node_ck_morph</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span>; <span class="tactic">intros</span> <span class="id">f</span> <span class="id">xss</span> <span class="id">xss</span>' <span class="id">Exss</span> <span class="id">yss</span> <span class="id">yss</span>' <span class="id">Eyss</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">instantiate</span> (1 := <span class="id">H</span>). <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Exss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Eyss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_morph">sem_block_ck_morph</a></span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Exss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node_morph">clocked_node_morph</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Exss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_restrict">sem_restrict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_restrict.HwcG">HwcG</a></span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.wx_exp">wx_exp</a></span> Γ <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ), <span class="id">Hl</span>) <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">vs</span> <span class="id">Hwt</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:(<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_restrict">sem_var_restrict</a></span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar">IsVar</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:(<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ?? <span class="id">Hin</span> <span class="id">Hse</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H8</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>). <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_equation_restrict">sem_equation_restrict</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">b</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.wx_equation">wx_equation</a></span> Γ <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ), <span class="id">Hl</span>) <span class="id">b</span> <span class="id">eq</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof37')">Proof with</span></div>
<div class="proofscript" id="proof37">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ???? [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (?&amp;?). <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">instantiate</span> (1:=<span class="id">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_restrict">sem_var_restrict</a></span>... <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_restrict">sc_vars_restrict</a></span> : <span class="kwd">forall</span> <span class="id">locs</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">locs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_clock">wc_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span> Γ)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span> <span class="id">locs</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> <span class="id">locs</span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> <span class="id">locs</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ), <span class="id">Hl</span>) <span class="id">bs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hincl</span> <span class="id">Hwc1</span> (?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">simpl_Forall</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_restrict_inv">sem_var_restrict_inv</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_restrict">sem_clock_restrict</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_clock_wx_clock">wc_clock_wx_clock</a></span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwc1</span>; <span class="tactic">eauto</span>. 2:<span class="id">solve_In</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_restrict">sem_clock_restrict</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_clock_wx_clock">wc_clock_wx_clock</a></span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwc1</span>; <span class="tactic">eauto</span>. 2:<span class="id">solve_In</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_restrict">sem_scope_restrict</a></span> {<span class="id">A</span>} (<span class="id">P_wc</span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span>) (<span class="id">sem_block</span> : <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> Γ <span class="id">Hi</span> <span class="id">Hl</span> <span class="id">bs</span> <span class="id">locs</span> (<span class="id">blks</span> : <span class="id">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_scope">wc_scope</a></span> <span class="id">P_wc</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> Γ (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> <span class="id">Hi</span>' <span class="id">bs</span>) <span class="id">sem_block</span> (<span class="id">Hi</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> Γ <span class="id">Hi</span> <span class="id">Hi</span>' <span class="id">Hl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_wc</span> Γ <span class="id">blks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block</span> (<span class="id">Hi</span>, <span class="id">Hl</span>) <span class="id">blks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span>) <span class="id">Hi</span>' (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">Hi</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sem_block</span> (<span class="id">Hi</span>', <span class="id">Hl</span>) <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> <span class="id">Hi</span>' <span class="id">bs</span>) <span class="id">sem_block</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">Hi</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ), <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwenv</span> <span class="id">Hwc</span> <span class="id">Hsem</span> <span class="id">Hind</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span>) (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> (<span class="id">Hi</span> + <span class="id">Hi</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (Γ ++ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">Hi</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) + <span class="id">Hi</span>')) <span class="kwd">as</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">simpl</span>. <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ?. <span class="tactic">unfold</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union">FEnv.union</a></span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Hi</span>' <span class="id">x</span>) <span class="id">eqn</span>:<span class="id">HHi</span>'; [|<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#mem_ident">mem_ident</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:<span class="id">Hmem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">replace</span> (<span class="id"><a href="Velus.Common.Common.html#mem_ident">mem_ident</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#mem_ident_spec">mem_ident_spec</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.map_fst_senv_of_locs">map_fst_senv_of_locs</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, &lt;-2 <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span>, <span class="id">H6</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">replace</span> (<span class="id"><a href="Velus.Common.Common.html#mem_ident">mem_ident</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#mem_ident_spec">mem_ident_spec</a></span> <span class="kwd">in</span> *. <span class="id">solve_In</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">replace</span> (<span class="id"><a href="Velus.Common.Common.html#mem_ident">mem_ident</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#not_true_iff_false">Bool.not_true_iff_false</a></span>, <span class="id"><a href="Velus.Common.Common.html#mem_ident_spec">mem_ident_spec</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Hmem</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.map_fst_senv_of_locs">map_fst_senv_of_locs</a></span> <span class="kwd">in</span> <span class="id">Hmem</span>. <span class="tactic">destruct</span> <span class="id">Hmem</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.not_find_In">FEnv.not_find_In</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">H6</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsVar_senv_of_locs">IsVar_senv_of_locs</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Sscope">Sscope</a></span> <span class="kwd">with</span> (<span class="id">Hi</span>':=<span class="id">Hi</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hin</span>. <span class="id">edestruct</span> <span class="id">H9</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">esplit</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lclocking</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_refines">sem_exp_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars_morph">sc_vars_morph</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars_restrict">sc_vars_restrict</a></span>. 6:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5:{ <span class="id">simpl_Forall</span>. <span class="id">simpl_In</span>. <span class="id">simpl_Forall</span>. <span class="tactic">eauto</span>. } <span class="id">all</span>:<span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id">solve_incl_app</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">Hind</span> <span class="kwd">with</span> (Γ:=Γ++<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.senv_of_locs">senv_of_locs</a></span> <span class="id">locs</span>) <span class="kwd">in</span> <span class="id">H11</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env_app">wc_env_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>. <span class="id">simpl_In</span>. <span class="id">simpl_Forall</span>. <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_restrict">sem_block_restrict</a></span> : <span class="kwd">forall</span> <span class="id">blk</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_block">wc_block</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> Γ <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">b</span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ), <span class="id">Hl</span>) <span class="id">b</span> <span class="id">blk</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof40')">Proof with</span></div>
<div class="proofscript" id="proof40">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lclocking</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">blk</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block_ind2">block_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hwenv1</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;equation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_restrict">sem_equation_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">k</span>; <span class="tactic">specialize</span> (<span class="id">H11</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_refines">sem_block_refines</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">setoid_rewrite</span> &lt;-<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict_map">FEnv.restrict_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>. <span class="tactic">repeat</span> (<span class="id">Clo.inv_branch</span> || <span class="id">inv_branch</span>). <span class="tactic">do</span> 2 <span class="id">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id">simpl_Forall</span>. <span class="tactic">constructor</span>. <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">with</span> (Γ:=Γ'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="tactic">intros</span> (?&amp;?) <span class="id">Hin</span>. <span class="id">simpl_In</span>. <span class="id">edestruct</span> <span class="id">H6</span> <span class="kwd">as</span> (?&amp;<span class="id">Heq</span>); <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">senv</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>. <span class="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> (<span class="id">Href1</span>&amp;<span class="id">Href2</span>). <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ?? <span class="id">Hfind</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict_find_inv">FEnv.restrict_find_inv</a></span> <span class="kwd">in</span> <span class="id">Hfind</span> <span class="kwd">as</span> (<span class="id">Hin</span>&amp;<span class="id">Hfind</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Href1</span> <span class="kwd">in</span> <span class="id">Hfind</span> <span class="kwd">as</span> (?&amp;<span class="id">Hfilter</span>&amp;<span class="id">Hfind</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict_find">FEnv.restrict_find</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_In</span>. <span class="id">edestruct</span> <span class="id">H6</span> <span class="kwd">as</span> (?&amp;?); <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">senv</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;locals&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_restrict">sem_scope_restrict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_morph">sem_block_ck_morph</a></span>, <span class="id">H</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>. <span class="tactic">split</span>; [<span class="id">now</span> <span class="tactic">symmetry</span>|<span class="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_restrict1">sem_scope_restrict1</a></span> : <span class="kwd">forall</span> <span class="id">locs</span> <span class="id">blk</span> Γ <span class="id">H</span> <span class="id">Hl</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_scope">wc_scope</a></span> (<span class="kwd">fun</span> Γ =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_block">wc_block</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> Γ)) <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> Γ (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>)) (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> (<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">Hi</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict.G">G</a></span> <span class="id">Hi</span> <span class="id">bs</span>)) (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.restrict">FEnv.restrict</a></span> <span class="id">H</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ), <span class="id">Hl</span>) <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blk</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_restrict">sem_scope_restrict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_morph">sem_block_ck_morph</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_restrict">sem_block_restrict</a></span>; <span class="tactic">eauto</span>; [<span class="tactic">split</span>|]; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_restrict">sem_restrict</a></span>.<br/>
<br/>
<h2> Properties of the <span class="bracket"><span class="id">global</span></span> environment </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">sem_cons</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">_</span> -&gt; ?<span class="id">R</span> |- ?<span class="id">R</span> =&gt; <span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">destruct_conjs</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">Sem.sem_cons</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_ck_cons">sem_block_ck_cons</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">nd</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">nds</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">bck</span> <span class="id">Hi</span> <span class="id">bk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">Hi</span> <span class="id">bk</span> <span class="id">bck</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_block">Is_node_in_block</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">bck</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">nds</span>) <span class="id">Hi</span> <span class="id">bk</span> <span class="id">bck</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hord</span> <span class="id">Hsem</span> <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_ind2">sem_block_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_exp</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">e</span> <span class="id">ss</span> =&gt; ~ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_exp">Is_node_in_exp</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> <span class="id">nds</span>) <span class="id">H</span> <span class="id">bk</span> <span class="id">e</span> <span class="id">ss</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_equation</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">eq</span> =&gt; ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_eq">Is_node_in_eq</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> <span class="id">nds</span>) <span class="id">H</span> <span class="id">bk</span> <span class="id">eq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_block</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">d</span> =&gt; ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_block">Is_node_in_block</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> <span class="id">nds</span>) <span class="id">H</span> <span class="id">bk</span> <span class="id">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_node</span> := <span class="kwd">fun</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> =&gt; <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) &lt;&gt; <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> <span class="id">nds</span>) <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>). 21:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">sem_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.find_node_later_not_Is_node_in">find_node_later_not_Is_node_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_node_ck_cons">sem_node_ck_cons</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">nd</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">nds</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) &lt;&gt; <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">nds</span>) <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hord</span> <span class="id">Hsem</span> <span class="id">Hnf</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.find_node_other">find_node_other</a></span> <span class="kwd">with</span> (1:=<span class="id">Hnf</span>) <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_cons">sem_block_ck_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.find_node_later_not_Is_node_in">find_node_later_not_Is_node_in</a></span> <span class="kwd">with</span> (1:=<span class="id">Hord</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sem_block_ck_cons</span>' {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">nd</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">nds</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">bck</span> <span class="id">Hi</span> <span class="id">bk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">nds</span>) <span class="id">Hi</span> <span class="id">bk</span> <span class="id">bck</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_block">Is_node_in_block</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">bck</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">Hi</span> <span class="id">bk</span> <span class="id">bck</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hord</span> <span class="id">Hsem</span> <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_ind2">sem_block_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_exp</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">e</span> <span class="id">ss</span> =&gt; ~ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_exp">Is_node_in_exp</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">H</span> <span class="id">bk</span> <span class="id">e</span> <span class="id">ss</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_equation</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">eq</span> =&gt; ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_eq">Is_node_in_eq</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">H</span> <span class="id">bk</span> <span class="id">eq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_block</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">d</span> =&gt; ~<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Is_node_in_block">Is_node_in_block</a></span> <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">H</span> <span class="id">bk</span> <span class="id">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_node</span> := <span class="kwd">fun</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> =&gt; <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) &lt;&gt; <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types0</span> <span class="id">externs0</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>). 21:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">sem_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.find_node_later_not_Is_node_in">find_node_later_not_Is_node_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id">sem_node_ck_cons</span>' {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">nd</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">nds</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">nds</span>) <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">nd</span>.(<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span>) &lt;&gt; <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">nd</span>::<span class="id">nds</span>)) <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hord</span> <span class="id">Hsem</span> <span class="id">Hnf</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.find_node_other">find_node_other</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">sem_block_ck_cons</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.find_node_later_not_Is_node_in">find_node_later_not_Is_node_in</a></span> <span class="kwd">with</span> (1:=<span class="id">Hord</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_node_ck_cons_iff">sem_node_ck_cons_iff</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">nds</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">n</span>::<span class="id">nds</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span> <span class="id">n</span> &lt;&gt; <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> <span class="id">nds</span>) <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> (<span class="kwd">Global</span> <span class="id">types</span> <span class="id">externs</span> (<span class="id">n</span>::<span class="id">nds</span>)) <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hord</span> <span class="id">Hname</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">sem_node_ck_cons</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck_cons">sem_node_ck_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_ck_sem">sem_ck_sem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span> -&gt; <span class="kwd">Prop</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">prefs</span>: <span class="id"><a href="Velus.Common.Common.html#PS.t">PS.t</a></span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.PSyn">PSyn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.prefs">prefs</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_ck_sem_exp">sem_exp_ck_sem_exp</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_ind2">sem_exp_ck_ind2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_equation</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_block</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">b</span> <span class="id">blk</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_block">sem_block</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">blk</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_node</span> := <span class="kwd">fun</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>). 21:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="tactic">intros</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">intros</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">specialize</span> (<span class="id">H6</span> <span class="id">k</span>) <span class="kwd">as</span> (?&amp;?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">specialize</span> (<span class="id">H4</span> <span class="id">k</span>) <span class="kwd">as</span> (?&amp;?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>. <span class="id">inv_branch</span>'. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv_scope</span>'; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">H3</span>; <span class="tactic">eauto</span>; <span class="id">destruct_conjs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 3 <span class="id">esplit</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exps_ck_sem_exps">sem_exps_ck_sem_exps</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem.G">G</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_sem_exp">sem_exp_ck_sem_exp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ck_sem">sem_ck_sem</a></span>.<br/>
<br/>
<div class="doc">Build the alignment proof </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_when">sc_when</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">k</span> <span class="id">ck</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">ys</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when">when</a></span> <span class="id">k</span> <span class="id">ys</span> <span class="id">xs</span> <span class="id">rs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Con">Con</a></span> <span class="id">ck</span> <span class="id">x</span> (<span class="id">ty</span>, <span class="id">k</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">rs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hv</span> <span class="id">Hsemck</span> <span class="id">Hwhen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_when">ac_when</a></span> <span class="kwd">in</span> <span class="id">Hwhen</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hwhen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enums_of_nth">enums_of_nth</a></span>; <span class="tactic">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_spec">when_spec</a></span> <span class="kwd">in</span> <span class="id">Hwhen</span> <span class="kwd">as</span> [(<span class="id">Hy</span>&amp;<span class="id">Hx</span>&amp;<span class="id">Hr</span>)|[(?&amp;?&amp;<span class="id">Hy</span>&amp;<span class="id">Hx</span>&amp;?&amp;<span class="id">Hr</span>)|(?&amp;<span class="id">Hy</span>&amp;<span class="id">Hx</span>&amp;<span class="id">Hr</span>)]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">left</span>. <span class="tactic">intuition</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span>. <span class="tactic">setoid_rewrite</span> <span class="id">Hr</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">right</span>; <span class="tactic">right</span>. <span class="tactic">eexists</span>. <span class="tactic">intuition</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span>. <span class="tactic">setoid_rewrite</span> <span class="id">Hr</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">right</span>; <span class="tactic">left</span>. <span class="tactic">intuition</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span>. <span class="tactic">setoid_rewrite</span> <span class="id">Hr</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_merge">sc_merge</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vs</span> &lt;&gt; [] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">vs</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Con">Con</a></span> <span class="id">ck</span> <span class="id">x</span> (<span class="id">tx</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">vs</span>))) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">vs</span>))) <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.merge">merge</a></span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">ss</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hlen</span> <span class="id">Hsemv</span> <span class="id">Hsv</span> <span class="id">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsv</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_merge">ac_merge</a></span> <span class="kwd">in</span> <span class="id">Hmerge</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">H12</span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hsemv</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Is_free_in_clock">Is_free_in_clock</a></span> : <span class="id">clocks</span> <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_parent">sc_parent</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> <span class="id">lck</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span>) <span class="id">lck</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">ss</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">ck</span> <span class="id">lck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span>' =&gt; <span class="id">ck</span>' = <span class="id">ck</span> \/ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.clock_parent">clock_parent</a></span> <span class="id">ck</span> <span class="id">ck</span>') <span class="id">lck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id">ss</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsc</span> <span class="id">Hin</span> <span class="id">Hparent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_left">Forall2_in_left</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hsc</span> <span class="id">Hin</span>) <span class="kwd">as</span> [<span class="id">s</span> (<span class="id">Hins</span> &amp; <span class="id">Hsc0</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>. <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">s</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sub_clock">sub_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">s</span>')) <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="kwd">as</span> <span class="id">Hf</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> * <span class="id">Hx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_right">Forall2_in_right</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hsc</span> <span class="id">Hx0</span>) <span class="kwd">as</span> [? (<span class="id">Hx1</span>&amp;<span class="id">Hsc1</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hx1</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hx1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">with</span> (2 := <span class="id">Hsc1</span>) <span class="kwd">in</span> <span class="id">Hsc0</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hsc0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sub_clock_parent">sub_clock_parent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sub_clock_sclocksof">sub_clock_sclocksof</a></span> <span class="kwd">in</span> <span class="id">Hf</span>; <span class="tactic">auto</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span> <span class="id">ck</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">x</span>, <span class="id">ck</span>) <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Is_free_in_clock">Is_free_in_clock</a></span> <span class="id">i</span> <span class="id">ck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">ick</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">i</span>, <span class="id">ick</span>) <span class="id">vars</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">WC</span> <span class="id">Ix</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">x</span> <span class="id">Ix</span>. <span class="tactic">induction</span> <span class="id">ck</span>; <span class="id">inv</span> <span class="id">Hfree</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">WC</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">WC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_has_base">sc_has_base</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">bck</span> <span class="id">sub</span> (<span class="id">n</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">ncks</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">nck</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.stripname">stripname</a></span> <span class="id">nck</span>)) <span class="id">ncks</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">ss</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) <span class="id">ncks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">bck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id">ss</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">WCin</span> <span class="id">Hscin</span> <span class="id">WIi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_env_has_Cbase">wc_env_has_Cbase</a></span> <span class="id">_</span> <span class="id">WCin</span>) <span class="kwd">as</span> [<span class="id">i</span> <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_ingt0">n_ingt0</a></span> <span class="id">n</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated_parent">WellInstantiated_parent</a></span> <span class="kwd">in</span> <span class="id">WIi</span> <span class="kwd">as</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span> =&gt; (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">x</span> = <span class="id">bck</span> \/ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.clock_parent">clock_parent</a></span> <span class="id">bck</span> <span class="id">x</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">ck</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ncks</span>) <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_parent">sc_parent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_left">Forall2_in_left</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WIi</span> <span class="id">Hin</span>) <span class="kwd">as</span> [?(?&amp;?&amp; <span class="id">H14</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H14</span>. <span class="id">inv</span> <span class="id">H14</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_inst_mask">sc_inst_mask</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.instck">instck</a></span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">ck</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">bck</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="tactic">exists</span> <span class="id">H</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">b</span>) <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">cks</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Is_free_in_clock">Is_free_in_clock</a></span> <span class="id">x</span> <span class="id">ck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sub</span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">v1</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">v2</span>)) (<span class="id">H</span> <span class="id">x</span>) (<span class="id">H</span>' <span class="id">x</span>'))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">ck</span>' <span class="id">cks</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof54')">Proof with</span></div>
<div class="proofscript" id="proof54">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lcsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinst</span> <span class="id">Hbck</span> <span class="id">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hbck</span> <span class="id">n</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hbck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hk</span> ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">count</a></span> <span class="id">rs</span>) # <span class="id">n</span>)) <span class="kwd">as</span> [<span class="id">H</span> [<span class="id">Hck</span> <span class="id">Henv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> <span class="id">Hck</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id">n</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eqb_refl">Nat.eqb_refl</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Is_free_in_clock">Is_free_in_clock</a></span> <span class="id">x</span> <span class="id">ck</span> -&gt; <span class="id">sub</span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>) <span class="id">x</span>) ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id">n</span>) <span class="id">x</span>')) <span class="kwd">as</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> * <span class="id">Hfree</span> <span class="id">Hsub</span>. <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">Hfree</span> <span class="id">Hsub</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history_find_orel_unmask">tr_history_find_orel_unmask</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">n</span>) <span class="kwd">in</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#relation_equivalence">relation_equivalence</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id">v1</span> = (<span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">count</a></span> <span class="id">rs</span>) # <span class="id">n</span> =? (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">count</a></span> <span class="id">rs</span>) # <span class="id">n</span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op.value">value</a></span>))) <span class="kwd">as</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">x1</span> <span class="id">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eqb_refl">Nat.eqb_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span>' <span class="id">bck</span> <span class="id">cks</span> <span class="id">sub</span> <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>. <span class="id">inv</span> <span class="id">Hck</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hcase</span>]. <span class="id">cases_eqn</span> <span class="id">Hcase</span>. <span class="id">inv</span> <span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">econstructor</span>;<span class="tactic">eauto</span>. 5:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Son_abs2">IStr.Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">i</span> <span class="id">i0</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_inst_unmask">sc_inst_unmask</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span> <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.instck">instck</a></span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">ck</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">ck</span>' <span class="id">cks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">bck</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Is_free_in_clock">Is_free_in_clock</a></span> <span class="id">x</span> <span class="id">ck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sub</span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">v1</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">v2</span>)) (<span class="id">H</span> <span class="id">x</span>) (<span class="id">H</span>' <span class="id">x</span>')) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">b</span>) <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">cks</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof55')">Proof with</span></div>
<div class="proofscript" id="proof55">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lcsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id">n</span>). <span class="tactic">specialize</span> (<span class="id">Hbck</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">n</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Is_free_in_clock">Is_free_in_clock</a></span> <span class="id">x</span> <span class="id">ck</span> -&gt; <span class="id">sub</span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id">v1</span> = (<span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">CStr.count</a></span> <span class="id">rs</span>) # <span class="id">n</span> =? <span class="id">k</span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>)) ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>) <span class="id">x</span>) ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id">n</span>) <span class="id">x</span>')) <span class="kwd">as</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> * <span class="id">Hfree</span> <span class="id">Hsub</span>. <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">Hfree</span> <span class="id">Hsub</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history_find_orel_unmask">tr_history_find_orel_unmask</a></span> <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">eauto</span>. } <span class="tactic">clear</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span>' <span class="id">bck</span> <span class="id">cks</span> <span class="id">sub</span> <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id">_</span> =? <span class="id">k</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">indexedstreams</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_instant_det">IStr.sem_clock_instant_det</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hck</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">indexedstreams</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hcase</span>]. <span class="id">cases_eqn</span> <span class="id">Hcase</span>. <span class="id">inv</span> <span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> (<span class="id">_</span> =? <span class="id">k</span>) <span class="id">eqn</span>:<span class="id">Hcount</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">econstructor</span>;<span class="tactic">eauto</span>. 5:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Son_abs2">IStr.Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">i</span> <span class="id">i0</span> <span class="id">n</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id">Hcount</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>':=<span class="id">b</span>') <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span>, &lt;- <span class="id">H4</span> <span class="kwd">in</span> <span class="id">Hcase0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H4</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>':=<span class="id">b</span>') <span class="kwd">in</span> <span class="id">Hcase0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id">Htrue</span>:=<span class="id">H4</span>). <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_instant_true_inv">IStr.sem_clock_instant_true_inv</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>:=<span class="id">b</span>) (<span class="id">b</span>':=<span class="id">b</span>') (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> <span class="id">Hcase0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2,3:<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">n</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id">Hcount</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,3:<span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>':=<span class="id">b</span>') (<span class="id">b</span>:=<span class="id">b</span>) (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-5:<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> *; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>... 2:<span class="tactic">rewrite</span> &lt;-<span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.inst_in_eqst_mask">inst_in_eqst_mask</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">vs</span> <span class="id">i</span> <span class="id">ck</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">i</span>, <span class="id">ck</span>) <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) <span class="id">xs</span> <span class="id">ys</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">Hi</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) <span class="id">vs</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">s</span>) <span class="id">o</span>) <span class="id">ys</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sub</span> <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id">v1</span> ≡ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span> <span class="id">v2</span>) (<span class="id">Hi</span> <span class="id">i</span>) (<span class="id">H</span> <span class="id">i</span>').<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span> <span class="id">WI</span> <span class="id">Hsvi</span> <span class="id">Hsvo</span> <span class="id">i</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1:=<span class="id">Hsvi</span>) <span class="kwd">in</span> <span class="id">Hsvo</span>. <span class="tactic">clear</span> <span class="id">Hsvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">WI</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">WI</span> <span class="kwd">as</span> [? <span class="id">WI</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In_nth">In_nth</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">n</span>' [<span class="id">Hlen</span> <span class="id">Hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">n</span>' <span class="id">ys</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) <span class="id">eqn</span>:<span class="id">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">WI</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id">Hin</span> <span class="id">Hy</span>) <span class="kwd">as</span> ((?&amp;?&amp;?&amp;?)&amp;<span class="id">Hinst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">Sub</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_inside_mask">sc_inside_mask</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">es</span> <span class="id">ss0</span> <span class="id">bck</span> <span class="id">sub</span> (<span class="id">n</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x1</span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x1</span> <span class="id">s</span>) <span class="id">o</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">Hi</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">Hi</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">xc</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>))).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hse</span> <span class="id">WCin</span> <span class="id">Hscin</span> <span class="id">WIi</span> <span class="id">Hsv</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsv</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1 := <span class="id">WIi</span>) <span class="kwd">in</span> <span class="id">Hscin</span> <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x</span> &amp; <span class="id">ck</span>) <span class="id">xs</span>  <span class="id">Hxin</span> ? ((<span class="id">yck</span> &amp; <span class="id">ny</span>) &amp; <span class="id">Hyin</span> &amp; (<span class="id">Hsub</span> &amp; <span class="id">Hinst</span>) &amp; <span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_mask">ac_mask</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of_mask">clocks_of_mask</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_inst_unmask">sc_inst_unmask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_has_base">sc_has_base</a></span>; <span class="tactic">eauto</span>. <span class="id">simpl_Forall</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">Hxin</span> <span class="id">WCin</span> <span class="id">WIi</span> <span class="id">Hse</span> <span class="id">Hsv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">i</span>' <span class="id">Free</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WCin</span> <span class="id">Hxin</span> <span class="id">Free</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.inst_in_eqst_mask">inst_in_eqst_mask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">Hsv</span>. <span class="id">simpl_Forall</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKEDSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span> := <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enum">enum</a></span> <span class="id">b</span> 0.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_outside_mask">sc_outside_mask</a></span> {<span class="id">PSyn1</span> <span class="id">PSyn2</span> <span class="id">prefs1</span> <span class="id">prefs2</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">G</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn1</span> <span class="id">prefs1</span>) <span class="id">H</span> <span class="id">es</span> <span class="id">b</span> Γ <span class="id">ncks</span> <span class="id">ss0</span> <span class="id">ss</span> <span class="id">bck</span> <span class="id">sub</span> (<span class="id">n</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.node">node</a></span> <span class="id">PSyn2</span> <span class="id">prefs2</span>) <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o1</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x0</span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x0</span> <span class="id">s</span>) <span class="id">o1</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x0</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x0</span> <span class="id">s</span>) <span class="id">o</span>) <span class="id">ncks</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.wc_env">wc_env</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) <span class="id">ncks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="tactic">exists</span> <span class="id">Hi</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">Hi</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">xc</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) <span class="id">ss</span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">Hi</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">Hi</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) <span class="id">ss</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">ncks</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">ss</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsvar</span> <span class="id">Hse2</span> <span class="id">WCin</span> <span class="id">WCinout</span> <span class="id">Hscin</span> <span class="id">WIi</span> <span class="id">WIo</span> <span class="id">Hk</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ncks</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) <span class="kwd">as</span> <span class="id">Hlen1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">WIo</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">WIo</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ncks</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ss</span>) <span class="kwd">as</span> <span class="id">Hlen2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">specialize</span> (<span class="id">Hk</span> 0) <span class="kwd">as</span> (?&amp;<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Hf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">Hf</span>. <span class="id">simpl_Forall</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [? ?] ? ? [? ?] ? <span class="id">Hlen</span> <span class="id">Hnth1</span> <span class="id">Hnth2</span>; <span class="tactic">simpl</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_inst_mask">sc_inst_mask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">WIo</span> <span class="kwd">as</span> [? <span class="id">WIo</span>]. <span class="tactic">setoid_rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">WIo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hlen1</span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">WIo</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">Hnth1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WIo</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_has_base">sc_has_base</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hk</span> <span class="id">k</span>) <span class="kwd">as</span> (<span class="id">Hi</span>&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">Hi</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [? <span class="id">Hck</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hlen1</span> <span class="kwd">in</span> <span class="id">Hlen</span>. <span class="tactic">setoid_rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>)) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of_mask">clocks_of_mask</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">map_nth</span>' <span class="kwd">with</span> (<span class="id">l</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">d</span>':=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="kwd">in</span> <span class="id">Hck</span>. <span class="id">erewrite</span> <span class="id">map_nth</span>' <span class="kwd">with</span> (<span class="id">l</span>:=<span class="id">ss</span>), <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_mask">ac_mask</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. 1,2:<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">i</span> <span class="id">i</span>' <span class="id">Free</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">n0</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) (1%<span class="id">positive</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>)) <span class="kwd">as</span> (<span class="id">yck</span>, <span class="id">ny</span>) <span class="id">eqn</span>:<span class="id">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">yck</span>, <span class="id">ny</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>))) <span class="kwd">as</span> <span class="id">Hyin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>. <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hy</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WCinout</span> <span class="id">Hyin2</span> <span class="id">Free</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.inst_in_eqst_mask">inst_in_eqst_mask</a></span> <span class="kwd">with</span> (<span class="id">vs</span>:=(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>++<span class="id">ss</span>)). 1,5:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> *. <span class="id">simpl_Forall</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_var_refines_iff">sem_var_refines_iff</a></span> : <span class="kwd">forall</span> <span class="id">dom</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_lb">FEnv.dom_lb</a></span> <span class="id">H</span> <span class="id">dom</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">List.In</a></span> <span class="id">x</span> <span class="id">dom</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span> &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>' <span class="id">x</span> <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hdom</span> <span class="id">Hin</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">sem_var_refines</span>''; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_refines_iff">sem_clock_refines_iff</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">ck</span> <span class="id">bs</span> <span class="id">bs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> ⊑ <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Is_free_in_clock">Is_free_in_clock</a></span> <span class="id">x</span> <span class="id">ck</span> -&gt; <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>' -&gt; <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> <span class="id">H</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof60')">Proof with</span></div>
<div class="proofscript" id="proof60">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lcsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hin</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_clock_refines">sem_clock_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">ck</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">H</span> <span class="id">H</span>' <span class="id">Href</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hin</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hf</span>. <span class="tactic">apply</span> <span class="id">Hin</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">sem_var_refines</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hin</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_var_In">sem_var_In</a></span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_subclock">sc_vars_subclock</a></span> Γ Γ' : <span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">Hi</span>) <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ck</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> Γ' <span class="id">x</span> <span class="id">ck</span>' -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> Γ <span class="id">x</span> <span class="id">ck</span> /\ <span class="id">ck</span>' = <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ' <span class="id">x</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">Hi</span> <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ' <span class="id">Hi</span> <span class="id">bs</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsemck</span> <span class="id">Hck</span> <span class="id">Hla</span> (<span class="id">Hinv1</span>&amp;<span class="id">Hinv2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hasck</span> <span class="id">Hv</span>. <span class="id">edestruct</span> <span class="id">Hck</span> <span class="kwd">as</span> (<span class="id">Hasck</span>'&amp;?); <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hinv1</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>; <span class="tactic">eauto</span>. <span class="tactic">constructor</span>; <span class="tactic">symmetry</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hasck</span> <span class="id">Hasl</span> <span class="id">Hv</span>. <span class="id">edestruct</span> <span class="id">Hck</span> <span class="kwd">as</span> (<span class="id">Hasck</span>'&amp;?); <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hinv2</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>; <span class="tactic">eauto</span>. <span class="tactic">constructor</span>; <span class="tactic">symmetry</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> more `mask` properties </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.history_mask_count">history_mask_count</a></span> : <span class="kwd">forall</span> <span class="id">r</span> <span class="id">H</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.mask_hist">mask_hist</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">count</a></span> <span class="id">r</span>) # <span class="id">n</span> <span class="id">r</span> <span class="id">H</span>) <span class="id">n</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * ?. <span class="id">simpl_fenv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">H</span> <span class="id">x</span>); <span class="tactic">simpl</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream">tr_Stream</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv_nth">maskv_nth</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eqb_refl">Nat.eqb_refl</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_var_instant_mask_hist_count">sem_var_instant_mask_hist_count</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">n</span> <span class="id">r</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>) <span class="id">x</span> <span class="id">v</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_history">CIStr.tr_history</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.mask_hist">mask_hist</a></span> ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">count</a></span> <span class="id">r</span>) # <span class="id">n</span>) <span class="id">r</span> <span class="id">H</span>) <span class="id">n</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant_morph">IStr.sem_var_instant_morph</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. 1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.history_mask_count">history_mask_count</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_mask">sem_clock_mask</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' <span class="id">k</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.mask_hist">mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">bs</span>) <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">bs</span>').<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Hck</span>; <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_mask">sem_var_mask</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_mask">ac_mask</a></span>, <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enums_of_nth">enums_of_nth</a></span>; <span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv_nth">maskv_nth</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">_</span> =? <span class="id">_</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enums_of_nth">enums_of_nth</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">n</span>) <span class="kwd">in</span> <span class="id">H10</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_unmask">sem_clock_unmask</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.mask_hist">mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">bs</span>) <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">bs</span>')) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>'.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hck</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> ((<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.count">count</a></span> <span class="id">r</span>) # <span class="id">n</span>) <span class="id">n</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eqb_refl">Nat.eqb_refl</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">bs</span>' <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant_mask_hist_count">sem_var_instant_mask_hist_count</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>; <span class="tactic">eapply</span> <span class="id">IHck</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant_mask_hist_count">sem_var_instant_mask_hist_count</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>; <span class="tactic">eapply</span> <span class="id">IHck</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant_mask_hist_count">sem_var_instant_mask_hist_count</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Son_abs2">IStr.Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">IHck</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> <span class="id">IHck</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_mask">sc_vars_mask</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">b</span> <span class="id">r</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">b</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * (<span class="id">Hinv1</span>&amp;<span class="id">Hinv2</span>). <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hv</span>|<span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hl</span> <span class="id">Hv</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_mask_inv">sem_var_mask_inv</a></span> <span class="kwd">in</span> <span class="id">Hv</span> <span class="kwd">as</span> (?&amp;<span class="id">Hv</span>&amp;<span class="id">Heq</span>); <span class="tactic">rewrite</span> <span class="id">Heq</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_mask">ac_mask</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_mask">sem_clock_mask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_unmask">sc_vars_unmask</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">b</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.mask_hist">Sem.mask_hist</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">H</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb">maskb</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">b</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">b</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinv</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hv</span>|<span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hl</span> <span class="id">Hv</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_unmask">sem_clock_unmask</a></span>; <span class="tactic">intros</span> <span class="id">k</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Hinv</span> <span class="id">k</span>) <span class="kwd">as</span> (<span class="id">Hinv1</span>&amp;<span class="id">Hinv2</span>); <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_mask">ac_mask</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">eapply</span> <span class="id">Hinv1</span>|<span class="tactic">eapply</span> <span class="id">Hinv2</span>]; <span class="tactic">simpl</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_mask">sem_var_mask</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_filter">sem_clock_filter</a></span> : <span class="kwd">forall</span> <span class="id">Hi</span> <span class="id">Hi</span>' <span class="id">bs</span> <span class="id">ck</span> <span class="id">k</span> <span class="id">sc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">sc</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">Hi</span>' (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb">fwhenb</a></span> <span class="id">k</span> <span class="id">sc</span> <span class="id">bs</span>) <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb">fwhenb</a></span> <span class="id">k</span> <span class="id">sc</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">sc</span>)).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsemck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#ntheq_eqst">ntheq_eqst</a></span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> 2 <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb_nth">fwhenb_nth</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">_</span> ==<span class="id">b</span> <span class="id">_</span>) <span class="id">eqn</span>:<span class="id">Heqsc</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue_eqb_eq">svalue_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">Heqsc</span>. <span class="tactic">setoid_rewrite</span> <span class="id">Heqsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>. <span class="tactic">specialize</span> (<span class="id">Hsemck</span> <span class="id">n</span>). <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream_nth">tr_Stream_nth</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>. <span class="tactic">setoid_rewrite</span> <span class="id">Heqsc</span> <span class="kwd">in</span> <span class="id">Hsemck</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_instant_true_inv">IStr.sem_clock_instant_true_inv</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_when">sc_vars_when</a></span> : <span class="kwd">forall</span> Γ Γ' <span class="id">Hi</span> <span class="id">Hl</span> <span class="id">Hi</span>' <span class="id">Hl</span>' <span class="id">bs</span> <span class="id">ck</span> <span class="id">e</span> <span class="id">sc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ (<span class="id">Hi</span>, <span class="id">Hl</span>) <span class="id">bs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">Hi</span> <span class="id">bs</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">sc</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ck</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> Γ' <span class="id">x</span> <span class="id">ck</span>' -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.HasClock">HasClock</a></span> Γ <span class="id">x</span> <span class="id">ck</span> /\ <span class="id">ck</span>' = <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Cbase">Cbase</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ' <span class="id">x</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.IsLast">IsLast</a></span> Γ <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.when_hist">Sem.when_hist</a></span> <span class="id">e</span> (<span class="id">Hi</span>, <span class="id">Hl</span>) <span class="id">sc</span> (<span class="id">Hi</span>', <span class="id">Hl</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ' (<span class="id">Hi</span>', <span class="id">Hl</span>') (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb">fwhenb</a></span> <span class="id">e</span> <span class="id">sc</span> <span class="id">bs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>) <span class="id">Hsemck</span> <span class="id">Hclocks</span> <span class="id">Hlasts</span> (<span class="id">Hw1</span>&amp;<span class="id">Hw2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Hclocks</span> <span class="kwd">as</span> (?&amp;?); <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_when_inv">sem_var_when_inv</a></span> <span class="kwd">in</span> <span class="id">Hv</span> <span class="kwd">as</span> (?&amp;<span class="id">Hv</span>&amp;<span class="id">Hwhen</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_fwhen">when_fwhen</a></span> <span class="kwd">in</span> <span class="id">Hwhen</span>. <span class="tactic">rewrite</span> <span class="id">Hwhen</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_fwhen">ac_fwhen</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb_both_slower">fwhenb_both_slower</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sc_slower">sc_slower</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_aligned">ac_aligned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Hsc1</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hsemck</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_slower">ac_slower</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hck</span> <span class="id">Hla</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Hclocks</span> <span class="kwd">as</span> (?&amp;?); <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_when_inv">sem_var_when_inv</a></span> <span class="kwd">in</span> <span class="id">Hv</span> <span class="kwd">as</span> (?&amp;<span class="id">Hv</span>&amp;<span class="id">Hwhen</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_fwhen">when_fwhen</a></span> <span class="kwd">in</span> <span class="id">Hwhen</span>. <span class="tactic">rewrite</span> <span class="id">Hwhen</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_fwhen">ac_fwhen</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb_both_slower">fwhenb_both_slower</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sc_slower">sc_slower</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_aligned">ac_aligned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Hsc2</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">in</span> <span class="id">Hsemck</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hsemck</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_slower">ac_slower</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_vars_slower_hist">sc_vars_slower_hist</a></span> : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_ub">FEnv.dom_ub</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> Γ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.slower_hist">slower_hist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * (<span class="id">Hsc</span>&amp;<span class="id">_</span>) <span class="id">Hdom</span> ?? <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.In">FEnv.In</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>)) <span class="kwd">as</span> <span class="id">Henvin</span> <span class="tactic">by</span> (<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="tactic">exists</span> <span class="id">e</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">x</span>, <span class="id">e</span>) Γ) <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">Hdom</span> <span class="kwd">in</span> <span class="id">Henvin</span>. <span class="id">simpl_In</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">vs</span>) <span class="kwd">as</span> <span class="id">Hv</span> <span class="tactic">by</span> (<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hsc</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">senv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sc_slower">sc_slower</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_aligned">ac_aligned</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Alignment of streams produced by expressions </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exp_sem_var">sem_exp_sem_var</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) Γ <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span>) <span class="id">o</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclockof">nclockof</a></span> <span class="id">e</span>) <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclockof">nclockof</a></span> <span class="id">e</span>)) <span class="kwd">as</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.length_nclockof_numstreams">length_nclockof_numstreams</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lclocking</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">repeat</span> <span class="tactic">constructor</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">simpl_Forall</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall">Forall2_forall</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_exps_sem_var">sem_exps_sem_var</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) Γ <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x</span> <span class="id">s</span>) <span class="id">o</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">vs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_sem_var">sem_exp_sem_var</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sc_outside_mask</span>' {<span class="id">PSyn</span> <span class="id">prefs</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">f</span> <span class="id">n</span> <span class="id">H</span> <span class="id">b</span> Γ <span class="id">ncks</span> <span class="id">es</span> <span class="id">rs</span> <span class="id">ss</span> <span class="id">vs</span> <span class="id">bck</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.find_node">find_node</a></span> <span class="id">f</span> <span class="id">G</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id">G</span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">rs</span>) <span class="id">vs</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x0</span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">x0</span> <span class="id">s</span>) <span class="id">o</span>) <span class="id">ncks</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span> <span class="id">sub</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, (<span class="id">_</span>, <span class="id">ck</span>, <span class="id">_</span>)) =&gt; (<span class="id">x</span>, <span class="id">ck</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) <span class="id">ncks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">ncks</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">vs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hfind</span> <span class="id">Hwc</span> <span class="id">Hseme</span> <span class="id">Hsem</span> <span class="id">Hvars</span> <span class="id">Hcki</span> <span class="id">Hwi</span> <span class="id">Hwo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_outside_mask">sc_outside_mask</a></span> <span class="kwd">with</span> (<span class="id">rs</span>:=<span class="id">rs</span>) (<span class="id">es</span>:=<span class="id">es</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">HwcG</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exps_sem_var">sem_exps_sem_var</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exps_ck_sem_exps">sem_exps_ck_sem_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hsem</span> <span class="id">k</span>). <span class="id">inv</span> <span class="id">Hsem</span>. <span class="tactic">rewrite</span> <span class="id">Hfind</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H0</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H6</span> <span class="kwd">as</span> (?&amp;<span class="id">Hinv</span>). <span class="tactic">clear</span> - <span class="id">H3</span> <span class="id">Hinv</span>. <span class="tactic">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> (<span class="id">Hinv</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.idents">idents</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idck">idck</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv.idty">idty</a></span> <span class="kwd">in</span> *. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hinv</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="id">simpl_app</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>; <span class="tactic">right</span>; <span class="id">solve_In</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id">sc_exps</span>' {<span class="id">PSyn</span> <span class="id">prefs</span>} : <span class="kwd">forall</span> (<span class="id">G</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) <span class="id">H</span> <span class="id">b</span> Γ <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="kwd">forall</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clockof">clockof</a></span> <span class="id">e</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">vs</span>)) <span class="id">es</span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hf</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">es</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ss</span>) <span class="kwd">as</span> <span class="id">Hlength</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Forall2_ignore2</span>' <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#flat_map_concat_map">flat_map_concat_map</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_concat">Forall2_concat</a></span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hf</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.Forall2Brs_sc_exp1">Forall2Brs_sc_exp1</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> Γ <span class="id">ck</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">es</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="kwd">forall</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clockof">clockof</a></span> <span class="id">e</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">vs</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">es</span>)) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">es</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">es</span>)) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">i</span>, <span class="id">es</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Con">Con</a></span> <span class="id">ck</span> <span class="id">x</span> (<span class="id">tx</span>, <span class="id">i</span>))) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>)) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs">Forall2Brs</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">i</span>, <span class="id">v</span>) =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Con">Con</a></span> <span class="id">ck</span> <span class="id">x</span> (<span class="id">tx</span>, <span class="id">i</span>)) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">v</span>))) <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">Hf</span> <span class="id">Hwc</span> <span class="id">Hck</span> <span class="id">Hse</span>; <span class="id">inv</span> <span class="id">Hf</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hck</span>; <span class="id">inv</span> <span class="id">Hse</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHes</span> <span class="kwd">in</span> <span class="id">H3</span>. 2-4:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_exps</span>' <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H2</span> <span class="id">H3</span> <span class="id">H6</span> <span class="id">H11</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">vs</span> <span class="id">vs2</span> <span class="id">H11</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H6</span>. <span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">vs1</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es0</span>). <span class="tactic">clear</span> <span class="id">vs1</span> <span class="id">es0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vs0</span> <span class="id">cks</span> <span class="id">vs1</span> <span class="id">vs2</span> <span class="id">Hf</span>. <span class="id">revert</span> <span class="id">cks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hf</span>; <span class="tactic">intros</span> * <span class="id">Hck1</span> <span class="id">Hck2</span> <span class="id">Hck3</span>; <span class="id">inv</span> <span class="id">Hck1</span>; <span class="id">inv</span> <span class="id">Hck2</span>; <span class="id">inv</span> <span class="id">Hck3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_exp">sc_exp</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clockof">clockof</a></span> <span class="id">e</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">vs</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hinv</span>. <span class="id">revert</span> <span class="id">vs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;const&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_const">ac_const</a></span>. <span class="id">now</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;enum&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_enum">ac_enum</a></span>. <span class="id">now</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hinv</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">senv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;last&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hinv</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_lift1">ac_lift1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe1</span> <span class="kwd">in</span> <span class="id">H9</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H9</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_lift2">ac_lift2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;extcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_exps</span>', <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.liftn">liftn</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_liftn">ac_liftn</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>); <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="id">simpl_Forall</span>; <span class="id">simpl_In</span>; <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_exps</span>' <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H15</span> <span class="id">H0</span>. <span class="id">revert</span> <span class="id">H0</span>. <span class="tactic">generalize</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">e0s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H15</span>; <span class="tactic">intros</span> ? <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.ac_fby1">ac_fby1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_exps</span>' <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H15</span> <span class="id">H0</span>. <span class="id">revert</span> <span class="id">H0</span>. <span class="tactic">generalize</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">e0s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H15</span>; <span class="tactic">intros</span> ? <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.ac_arrow1">ac_arrow1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_exps</span>' <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_eq">Forall_eq</a></span> <span class="kwd">with</span> (<span class="id">l2</span>:=<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H15</span> <span class="id">H16</span> <span class="id">H0</span>. <span class="id">revert</span> <span class="id">tys</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H16</span>; <span class="tactic">intros</span> * <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_when">sc_when</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs0</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">tys</span>) <span class="kwd">as</span> <span class="id">Hlen1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_length1">Forall2Brs_length1</a></span> <span class="kwd">in</span> <span class="id">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_sem_exp">sem_exp_ck_sem_exp</a></span> <span class="kwd">with</span> <span class="id">lclocking</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">es</span> <span class="kwd">as</span> [|(?&amp;?)]; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H15</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">rewrite</span> <span class="id">H9</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hlen2</span>:=<span class="id">H15</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_length2">Forall2Brs_length2</a></span> <span class="kwd">in</span> <span class="id">Hlen2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Forall2Brs_sc_exp1">Forall2Brs_sc_exp1</a></span> <span class="kwd">in</span> <span class="id">H15</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H16</span> <span class="kwd">as</span> (<span class="id">Hlen3</span>&amp;<span class="id">Hmerge</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> &lt;-<span class="id">Hlen3</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_merge">sc_merge</a></span> <span class="kwd">in</span> <span class="id">Hmerge</span>. 1,3:<span class="tactic">eauto</span>. 4,5:<span class="tactic">eauto</span>. 3:<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hlen2</span>; [|<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>; <span class="tactic">rewrite</span> <span class="id">Hlen1</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">instantiate</span> (1:=[]). <span class="tactic">instantiate</span> (1:=[]) <span class="kwd">in</span> <span class="id">Hlen2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">n</span> <span class="id">vs0</span> []), <span class="id">es</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H15</span>; [|<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> (?&amp;?) ?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">Hlen1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs0</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">tys</span>) <span class="kwd">as</span> <span class="id">Hlen1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_length1">Forall2Brs_length1</a></span> <span class="kwd">in</span> <span class="id">H21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id">simpl_Forall</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_sem_exp">sem_exp_ck_sem_exp</a></span> <span class="kwd">with</span> <span class="id">lclocking</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">es</span> <span class="kwd">as</span> [|(?&amp;?)]; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H21</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H11</span>. <span class="tactic">rewrite</span> <span class="id">H15</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_forall3">Forall3_forall3</a></span> <span class="kwd">in</span> <span class="id">H22</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hcase</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> &lt;-<span class="id">H3</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_case">ac_case</a></span> <span class="kwd">in</span> <span class="id">Hcase</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="tactic">instantiate</span> (2:=[]). 4:<span class="tactic">instantiate</span> (2:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>). 3-5:<span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>. 2:<span class="tactic">rewrite</span> <span class="id">Hlen1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">H20</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H20</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H20</span>. <span class="id">inv</span> <span class="id">H20</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs0</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">tys</span>) <span class="kwd">as</span> <span class="id">Hlen1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_length1">Forall2Brs_length1</a></span> <span class="kwd">in</span> <span class="id">H21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (?&amp;?) ?. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_sem_exp">sem_exp_ck_sem_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H9</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lclocking</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">es</span> <span class="kwd">as</span> [|(?&amp;?)]; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H21</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H11</span>. <span class="tactic">rewrite</span> <span class="id">H15</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_forall3">Forall3_forall3</a></span> <span class="kwd">in</span> <span class="id">H23</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hcase</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> &lt;-<span class="id">H3</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_case">ac_case</a></span> <span class="kwd">in</span> <span class="id">Hcase</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="tactic">instantiate</span> (2:=[]). 4:<span class="tactic">instantiate</span> (2:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>). 3-5:<span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>. 2:<span class="tactic">rewrite</span> <span class="id">Hlen1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">H16</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H16</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H16</span>. <span class="id">inv</span> <span class="id">H16</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_ext">map_ext</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_outside_mask</span>' <span class="kwd">with</span> (<span class="id">es</span>:=<span class="id">es</span>); <span class="tactic">eauto</span>. 3:<span class="tactic">intros</span> (?&amp;?); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall">Forall2_forall</a></span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">intros</span> (?&amp;?) ??; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H19</span> 0). <span class="id">inv</span> <span class="id">H19</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">sc_exps</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_exps">sc_exps</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">b</span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> <span class="id">vss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">vss</span>)).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hsc</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_exps</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_exp">sc_exp</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sc_exps2">sc_exps2</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>) : <span class="kwd">forall</span> Γ <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_vars">sc_vars</a></span> Γ <span class="id">H</span> <span class="id">b</span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id">G</span> Γ) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> [<span class="id">v</span>]) <span class="id">es</span> <span class="id">vss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>) <span class="id">b</span>) (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">vss</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hsc</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sc_exp">sc_exp</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.wc_global_Ordered_nodes">wc_global_Ordered_nodes</a></span> {<span class="id">PSyn</span> <span class="id">prefs</span>} : <span class="kwd">forall</span> (<span class="id">G</span>: @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id">PSyn</span> <span class="id">prefs</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> <span class="id">G</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">Hwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.wl_global_Ordered_nodes">wl_global_Ordered_nodes</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">lclocking</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Another version of semantics equivalence, including sem_clock_inputs </h2>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_ref">sem_ref</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn1</span> <span class="id">PSyn2</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span> -&gt; <span class="kwd">Prop</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">pref1</span> <span class="id">pref2</span> : <span class="id"><a href="Velus.Common.Common.html#PS.t">PS.t</a></span>}.<br/>
<br/>
<div class="doc">We develop a notion of refinement over globals :
        <span class="bracket"><span class="id">node_sem_refines</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">f</span></span> means that if <span class="bracket"><span class="id">f</span></span> exists and has a given semantic in <span class="bracket"><span class="id">G</span></span>,
        then it also exists and has the same semantic in <span class="bracket"><span class="id">G</span>'</span>.
        This is just a shorthand definition, but is useful when proving the correctness
        of transformation passes over the Lustre AST.
     </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKEDSEMANTICS.node_sem_refines">node_sem_refines</a></span> (<span class="id">G</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.PSyn1">PSyn1</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.pref1">pref1</a></span>) (<span class="id">G</span>' : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.PSyn2">PSyn2</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.pref2">pref2</a></span>) <span class="id">f</span> : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ins</span> <span class="id">outs</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id">G</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id">G</span>' <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> (<span class="id">G</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.PSyn1">PSyn1</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.pref1">pref1</a></span>) (<span class="id">G</span>' : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.PSyn2">PSyn2</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref.pref2">pref2</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.node_sem_refines">node_sem_refines</a></span> <span class="id">G</span> <span class="id">G</span>' <span class="id">f</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#sem_exp_ck">sem_exp_ck</a></span> : <span class="id">core</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_ref_sem_exp">sem_ref_sem_exp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> <span class="id">G</span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof80')">Proof with</span></div>
<div class="proofscript" id="proof80">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;extcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ?? <span class="id">Hin</span> <span class="id">Hse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ?? <span class="id">Hin</span> <span class="id">Hse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;(default)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ?? <span class="id">Hin</span> <span class="id">Hse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Exists</span>; <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ?? <span class="id">Hin1</span> <span class="id">Hin2</span> <span class="id">Hse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>... <span class="tactic">instantiate</span> (1:=<span class="id">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H13</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Href</span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskv">maskv</a></span> <span class="id">k</span> <span class="id">bs</span>) <span class="id">vs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Href</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_ref_sem_equation">sem_ref_sem_equation</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> <span class="id">G</span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Href</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref_sem_exp">sem_ref_sem_exp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_ref_sem_block">sem_ref_sem_block</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">blk</span> <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> <span class="id">G</span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">blk</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">blk</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">blk</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block_ind2">block_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;equation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref_sem_equation">sem_ref_sem_equation</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref_sem_exp">sem_ref_sem_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H8</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref_sem_exp">sem_ref_sem_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>; <span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_branch</span>'; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="id">inv_scope</span>'; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">H6</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 3 <span class="id">esplit</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref_sem_exp">sem_ref_sem_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.global_sem_ref_nil">global_sem_ref_nil</a></span> : <span class="kwd">forall</span> <span class="id">enms1</span> <span class="id">enms2</span> <span class="id">exts1</span> <span class="id">exts2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> (<span class="kwd">Global</span> <span class="id">enms1</span> <span class="id">exts1</span> []) (<span class="kwd">Global</span> <span class="id">enms2</span> <span class="id">exts2</span> []).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.find_node">find_node</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.global_sem_ref_cons">global_sem_ref_cons</a></span> : <span class="kwd">forall</span> <span class="id">enms1</span> <span class="id">enms2</span> <span class="id">exts1</span> <span class="id">exts2</span> <span class="id">nds</span> <span class="id">nds</span>' <span class="id">n</span> <span class="id">n</span>' <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">enms1</span> <span class="id">exts1</span> (<span class="id">n</span>::<span class="id">nds</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="kwd">Global</span> <span class="id">enms2</span> <span class="id">exts2</span> (<span class="id">n</span>'::<span class="id">nds</span>')) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span> <span class="id">n</span> = <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span> <span class="id">n</span>' = <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> (<span class="kwd">Global</span> <span class="id">enms1</span> <span class="id">exts1</span> <span class="id">nds</span>) (<span class="kwd">Global</span> <span class="id">enms2</span> <span class="id">exts2</span> <span class="id">nds</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.node_sem_refines">node_sem_refines</a></span> (<span class="kwd">Global</span> <span class="id">enms1</span> <span class="id">exts1</span> (<span class="id">n</span>::<span class="id">nds</span>)) (<span class="kwd">Global</span> <span class="id">enms2</span> <span class="id">exts2</span> (<span class="id">n</span>'::<span class="id">nds</span>')) <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.global_sem_refines">global_sem_refines</a></span> (<span class="kwd">Global</span> <span class="id">enms1</span> <span class="id">exts1</span> (<span class="id">n</span>::<span class="id">nds</span>)) (<span class="kwd">Global</span> <span class="id">enms2</span> <span class="id">exts2</span> (<span class="id">n</span>'::<span class="id">nds</span>')).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof84')">Proof with</span></div>
<div class="proofscript" id="proof84">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hord1</span> <span class="id">Hord2</span> <span class="id">Hname1</span> <span class="id">Hname2</span> <span class="id">Hglob</span> <span class="id">Hnode</span> <span class="id">f0</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#ident_eq_dec">ident_eq_dec</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.n_name">n_name</a></span> <span class="id">n</span>) <span class="id">f0</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id">Hnode</span> <span class="id">ins</span> <span class="id">outs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hnode</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">setoid_rewrite</span> &lt;-<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck_cons_iff">sem_node_ck_cons_iff</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hglob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck_cons_iff">sem_node_ck_cons_iff</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_ref">sem_ref</a></span>.<br/>
<br/>
<h2> Execution of a node with absent inputs </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_var_instant_absent">sem_var_instant_absent</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">H</span>) <span class="id">x</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Var</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_instant">IStr.sem_var_instant</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_fenv</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Var</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">sem_var_instant_absent</span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_false">sem_clock_false</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">ck</span> <span class="id">b</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock">IStr.sem_clock</a></span> <span class="id">b</span> <span class="id">H</span> <span class="id">ck</span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock">IStr.sem_clock</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) (<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id">H</span> <span class="id">n</span>)) <span class="id">ck</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Sem</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Sem</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Sem</span>. <span class="tactic">generalize</span> (<span class="id">b</span> <span class="id">n</span>) (<span class="id">b</span>' <span class="id">n</span>). <span class="tactic">clear</span> <span class="id">b</span> <span class="id">b</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Sem</span>; <span class="id">inv</span> <span class="id">Sem</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_instant">IStr.sem_clock_instant</a></span> <span class="kwd">with</span> <span class="id">lcsem</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_node_absent">sem_node_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">PSyn</span> : <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.block">block</a></span> -&gt; <span class="kwd">Prop</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">prefs</span> : <span class="id"><a href="Velus.Common.Common.html#PS.t">PS.t</a></span>}.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.Forall2_sem_exp_absent">Forall2_sem_exp_absent</a></span>: <span class="kwd">forall</span> (<span class="id">f</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span>)) (<span class="id">G</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_absent.PSyn">PSyn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_absent.prefs">prefs</a></span>) <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">vs</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> (<span class="id">f</span> <span class="id">vs</span>)) <span class="id">es</span> <span class="id">ss</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span>) <span class="id">es</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">f</span> <span class="id">ss</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Sem</span>. <span class="id">simpl_Forall</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Forall2_sem_exp_absent</span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">H</span>) <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Var</span>. <span class="id">inv</span> <span class="id">Var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. 2:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_fenv</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">sem_var_absent</span> : <span class="id">lcsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_var_absent_inv">sem_var_absent_inv</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">H</span>) <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">v</span>', <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">x</span> <span class="id">v</span>' /\ <span class="id">v</span> ≡ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Var</span>. <span class="id">inv</span> <span class="id">Var</span>. <span class="id">simpl_fenv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_absent">sem_clock_absent</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">H</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">ck</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_false">sem_clock_false</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id">n</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map_map">FEnv.map_map</a></span>. <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map_map">FEnv.map_map</a></span> <span class="kwd">in</span> <span class="id">Hck</span>. 2,3:<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#eq_Reflexive">eq_Reflexive</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> 2 <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.tr_Stream_const">tr_Stream_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.clocks_of_false">clocks_of_false</a></span>: <span class="kwd">forall</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.svalue">svalue</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">ss</span>) ≡ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#ntheq_eqst">ntheq_eqst</a></span>. <span class="tactic">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.clocks_of_nth">clocks_of_nth</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ss</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.fby_absent">fby_absent</a></span> {<span class="id">A</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.fby">fby</a></span> <span class="id">A</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">CoFix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonStreams.html#const_Cons">CommonStreams.const_Cons</a></span>. <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.arrow_absent">arrow_absent</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.arrow">arrow</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">CoFix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonStreams.html#const_Cons">CommonStreams.const_Cons</a></span>. <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.clocked_node_absent">clocked_node_absent</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">Hl</span> <span class="id">bs</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span> (<span class="id">H</span>, <span class="id">Hl</span>) <span class="id">bs</span> <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">H</span>, <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hl</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">vars</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node">clocked_node</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * (<span class="id">Hdom</span>&amp;<span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.dom_map">FEnv.dom_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hsc</span> <span class="kwd">as</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>). <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent_inv">sem_var_absent_inv</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_Streams_const">ac_Streams_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_absent">sem_clock_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent_inv">sem_var_absent_inv</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_Streams_const">ac_Streams_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_absent">sem_clock_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_scope_absent">sem_scope_absent</a></span> {<span class="id">A</span>} <span class="id">P_exp1</span> <span class="id">P_blk1</span> (<span class="id">P_exp2</span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span>) (<span class="id">P_blk2</span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">locs</span> (<span class="id">blks</span>: <span class="id">A</span>) <span class="id">Hi</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> <span class="id">P_exp1</span> <span class="id">P_blk1</span> <span class="id">Hi</span> <span class="id">bs</span> (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">Hi1</span> <span class="id">Hl1</span> <span class="id">Hi2</span> <span class="id">Hl2</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_exp1</span> (<span class="id">Hi1</span>, <span class="id">Hl1</span>) <span class="id">e</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span>) <span class="id">Hi2</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hi1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span>) <span class="id">Hl2</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hl1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_exp2</span> (<span class="id">Hi2</span>, <span class="id">Hl2</span>) <span class="id">e</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">vs</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">Hi1</span> <span class="id">Hl1</span> <span class="id">Hi2</span> <span class="id">Hl2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_blk1</span> (<span class="id">Hi1</span>, <span class="id">Hl1</span>) <span class="id">blks</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span>) <span class="id">Hi2</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hi1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.Equiv">FEnv.Equiv</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">_</span>) <span class="id">Hl2</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hl1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P_blk2</span> (<span class="id">Hi2</span>, <span class="id">Hl2</span>) <span class="id">blks</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_ck">sem_scope_ck</a></span> <span class="id">P_exp2</span> <span class="id">P_blk2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">Hi</span>), <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">Hi</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) (<span class="kwd">Scope</span> <span class="id">locs</span> <span class="id">blks</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsem</span> <span class="id">Hexp</span> <span class="id">Hblk</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.Sscope">Sscope</a></span> <span class="kwd">with</span> (<span class="id">Hi</span>':=<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hi</span>') (<span class="id">Hl</span>':=<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">Hl</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map_in_iff">FEnv.map_in_iff</a></span>, <span class="id">H1</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map_in_iff">FEnv.map_in_iff</a></span>, <span class="id">H2</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> * <span class="id">Hin</span>. <span class="id">edestruct</span> <span class="id">H3</span>; <span class="id">destruct_conjs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 3 <span class="id">esplit</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>. 2,4:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.fby_absent">fby_absent</a></span>. <span class="tactic">eapply</span> <span class="id">Hexp</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_map">FEnv.union_map</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonStreams.html#EqStrel_Reflexive">EqStrel_Reflexive</a></span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H6</span> <span class="kwd">as</span> (<span class="id">Hsc1</span>&amp;<span class="id">Hsc2</span>). <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_map">FEnv.union_map</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonStreams.html#EqStrel_Reflexive">EqStrel_Reflexive</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent_inv">sem_var_absent_inv</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_Streams_const">ac_Streams_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_absent">sem_clock_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- 2 <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_map">FEnv.union_map</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonStreams.html#EqStrel_Reflexive">EqStrel_Reflexive</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent_inv">sem_var_absent_inv</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_Streams_const">ac_Streams_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_clock_absent">sem_clock_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">Hblk</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.union_map">FEnv.union_map</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonStreams.html#EqStrel_Reflexive">EqStrel_Reflexive</a></span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_block_absent">sem_block_absent</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">G</span> : @<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn.global">global</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_absent.PSyn">PSyn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_absent.prefs">prefs</a></span>) <span class="id">H</span> <span class="id">bs</span> <span class="id">bck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">bck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>), <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">bck</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof96')">Proof with</span></div>
<div class="proofscript" id="proof96">
 <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lcsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_ind2">sem_block_ck_ind2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">P_exp</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">_</span> <span class="id">e</span> <span class="id">vs</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck">sem_exp_ck</a></span> <span class="id">G</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>), <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">e</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">vs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_equation</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">_</span> <span class="id">eq</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_equation_ck">sem_equation_ck</a></span> <span class="id">G</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>), <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">eq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_block</span> := <span class="kwd">fun</span> <span class="id">H</span> <span class="id">_</span> <span class="id">bck</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck">sem_block_ck</a></span> <span class="id">G</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">H</span>), <span class="id"><a href="Velus.FunctionalEnvironment.html#FEnv.map">FEnv.map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">H</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">bck</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_node</span> := <span class="kwd">fun</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck">sem_node_ck</a></span> <span class="id">G</span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">xs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux.absent">absent</a></span>) <span class="id">ys</span>));<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>; <span class="tactic">intros</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Econst&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#ntheq_eqst">ntheq_eqst</a></span>. <span class="tactic">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>. <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_false">const_false</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eenum&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#ntheq_eqst">ntheq_eqst</a></span>. <span class="tactic">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>. <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enum_false">enum_false</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Evar&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Elast&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eunop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.lift1_spec">lift1_spec</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>. <span class="tactic">split</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Ebinop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.lift2_spec">lift2_spec</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eextcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ???? <span class="id">Hsem</span>; <span class="tactic">eapply</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.liftn_spec">liftn_spec</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>. <span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_concat">Forall_concat</a></span>|]; <span class="id">simpl_Forall</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Efby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">erewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ???? <span class="id">Hsem</span>; <span class="tactic">eapply</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_map">concat_map</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_1">Forall3_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_2">Forall3_map_2</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_3">Forall3_map_3</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_impl_In">Forall3_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> * <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.fby_absent">fby_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Earrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">erewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ???? <span class="id">Hsem</span>; <span class="tactic">eapply</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_map">concat_map</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_1">Forall3_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_2">Forall3_map_2</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_3">Forall3_map_3</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_impl_In">Forall3_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> * <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.arrow_absent">arrow_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Ewhen&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ???? <span class="id">Hsem</span>; <span class="tactic">eapply</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_map">concat_map</a></span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_spec">when_spec</a></span>. <span class="tactic">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Emerge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_map_2">Forall2Brs_map_2</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.merge_spec">merge_spec</a></span>. <span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_map">Forall_map</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (?&amp;?) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_map_2">Forall2Brs_map_2</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_1">Forall3_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_2">Forall3_map_2</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_3">Forall3_map_3</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_2">Forall3_map_2</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_impl_In">Forall3_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.case_spec">case_spec</a></span>. <span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_map">Forall_map</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (?&amp;?) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;(default)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H13</span>. <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonStreams.html#SForall_forall">SForall_forall</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_map_2">Forall2Brs_map_2</a></span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem.Forall2Brs_impl_In">Forall2Brs_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_1">Forall3_map_1</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_map">concat_map</a></span>, 2 <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_2">Forall3_map_2</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_3">Forall3_map_3</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_map_2">Forall3_map_2</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_impl_In">Forall3_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.case_spec">case_spec</a></span>. <span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-4:<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eapp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">erewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> ???? <span class="id">Hsem</span>; <span class="tactic">eapply</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.bools_ofs_absent">bools_ofs_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H6</span> <span class="id">k</span>) <span class="kwd">as</span> (?&amp;<span class="id">SemN</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">List.map_map</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_ck_morph">sem_node_ck_morph</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">SemN</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_map">concat_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">List.map_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.map_st_EqSt_Proper">map_st_EqSt_Proper</a></span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">intros</span> * <span class="id">Eq</span>; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.mask_absent">mask_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Equation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lcsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_map">concat_map</a></span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Beq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Breset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">eapply</span> <span class="id">H2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.bools_of_absent">bools_of_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H4</span> <span class="id">k</span>) <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Hsem</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.maskb_absent">maskb_absent</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_morph">sem_block_ck_morph</a></span>; <span class="tactic">eauto</span>. 2:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.mask_hist_absent">mask_hist_absent</a></span>, <span class="id">mask_hist_absent</span>'; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Bswitch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonStreams.html#SForall_forall">SForall_forall</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const_nth">const_nth</a></span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>. <span class="tactic">do</span> 2 <span class="id">esplit</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id">inv_branch</span>'. <span class="tactic">econstructor</span>. <span class="id">simpl_Forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.fwhenb_absent">fwhenb_absent</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> (<span class="id">Hfilter1</span>&amp;<span class="id">Hfilter2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_hist_absent">when_hist_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_hist_absent">when_hist_absent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Blocal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">destruct</span> <span class="id">scope0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_scope_absent">sem_scope_absent</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>; <span class="id">destruct_conjs</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_exp_ck_morph">sem_exp_ck_morph</a></span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">symmetry</span>; <span class="tactic">auto</span>. 1,2:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>; <span class="id">destruct_conjs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_block_ck_morph">sem_block_ck_morph</a></span>. <span class="tactic">instantiate</span> (1:=(<span class="id">_</span>,<span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">symmetry</span>; <span class="tactic">eauto</span>. 1,2:<span class="tactic">reflexivity</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Node&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. 5:<span class="tactic">reflexivity</span>. 1-4:<span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:(<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_var_absent">sem_var_absent</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocks_of_false">clocks_of_false</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocks_of_false">clocks_of_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.clocked_node_absent">clocked_node_absent</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS.sem_node_absent">sem_node_absent</a></span>.<br/>
<br/>
<div class="doc">Additional properties </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_when_const">sem_clock_when_const</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">bs</span>'' <span class="id">cs</span> <span class="id">ck</span> <span class="id">id</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Con">Con</a></span> <span class="id">ck</span> <span class="id">id</span> (<span class="id">tx</span>, <span class="id">x</span>)) <span class="id">bs</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">id</span> <span class="id">cs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when">when</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const">const</a></span> <span class="id">bs</span>' <span class="id">c</span>) <span class="id">cs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.const">const</a></span> <span class="id">bs</span>'' <span class="id">c</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hcl1</span> <span class="id">Hcl2</span> <span class="id">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hcl2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">in</span> <span class="id">Hcl1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hcl1</span>. <span class="tactic">rewrite</span> <span class="id">Hvar</span> <span class="kwd">in</span> <span class="id">H11</span>, <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">H10</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_spec">when_spec</a></span>. <span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">const_nth</span>'. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enums_of_nth">enums_of_nth</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">n</span>) <span class="kwd">in</span> <span class="id">H11</span> <span class="kwd">as</span> [(<span class="id">Hc</span>&amp;<span class="id">Hx</span>)|[(<span class="id">Hc</span>&amp;<span class="id">Hx</span>)|(?&amp;<span class="id">Hc</span>&amp;?&amp;<span class="id">Hx</span>)]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">Hc</span>; <span class="tactic">setoid_rewrite</span> <span class="id">Hx</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">right</span>; <span class="tactic">right</span>. <span class="tactic">eexists</span>. <span class="tactic">intuition</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">right</span>; <span class="tactic">left</span>. <span class="tactic">do</span> 2 <span class="tactic">eexists</span>. <span class="tactic">intuition</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKEDSEMANTICS.sem_clock_when_enum">sem_clock_when_enum</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">bs</span>'' <span class="id">cs</span> <span class="id">ck</span> <span class="id">id</span> <span class="id">x</span> <span class="id">tx</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> <span class="id">ck</span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">bs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks.Con">Con</a></span> <span class="id">ck</span> <span class="id">id</span> (<span class="id">tx</span>, <span class="id">x</span>)) <span class="id">bs</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span> <span class="id">id</span> <span class="id">cs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when">when</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enum">enum</a></span> <span class="id">bs</span>' <span class="id">c</span>) <span class="id">cs</span> (<span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enum">enum</a></span> <span class="id">bs</span>'' <span class="id">c</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hcl1</span> <span class="id">Hcl2</span> <span class="id">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hcl2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">in</span> <span class="id">Hcl1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;-<span class="id">Hcl1</span>. <span class="tactic">rewrite</span> <span class="id">Hvar</span> <span class="kwd">in</span> <span class="id">H11</span>, <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">H10</span>, <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.when_spec">when_spec</a></span>. <span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">enum_nth</span>'. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.ac_nth">ac_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr.enums_of_nth">enums_of_nth</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">n</span>) <span class="kwd">in</span> <span class="id">H11</span> <span class="kwd">as</span> [(<span class="id">Hc</span>&amp;<span class="id">Hx</span>)|[(<span class="id">Hc</span>&amp;<span class="id">Hx</span>)|(?&amp;<span class="id">Hc</span>&amp;?&amp;<span class="id">Hx</span>)]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">Hc</span>; <span class="tactic">setoid_rewrite</span> <span class="id">Hx</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">right</span>; <span class="tactic">right</span>. <span class="tactic">eexists</span>. <span class="tactic">intuition</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">right</span>; <span class="tactic">left</span>. <span class="tactic">do</span> 2 <span class="tactic">eexists</span>. <span class="tactic">intuition</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS">LCLOCKEDSEMANTICS</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LClockedSemanticsFun">LClockedSemanticsFun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ids</span> : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Op</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Cks</span> : <span class="id"><a href="Velus.Clocks.html#CLOCKS">CLOCKS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Senv</span>  : <span class="id"><a href="Velus.Lustre.StaticEnv.html#STATICENV">STATICENV</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Syn</span> : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Clo</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Lord</span> : <span class="id"><a href="Velus.Lustre.LOrdered.html#LORDERED">LORDERED</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CStr</span> : <span class="id"><a href="Velus.CoindStreams.html#COINDSTREAMS">COINDSTREAMS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span> : <span class="id"><a href="Velus.Lustre.LSemantics.html#LSEMANTICS">LSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr">CStr</a></span>)<br/>
&lt;: <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS">LCLOCKEDSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo">Clo</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr">CStr</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem">Sem</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LCLOCKEDSEMANTICS">LCLOCKEDSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Cks">Cks</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Senv">Senv</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Clo">Clo</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#CStr">CStr</a></span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#Sem">Sem</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockedSemantics.html#LClockedSemanticsFun">LClockedSemanticsFun</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
