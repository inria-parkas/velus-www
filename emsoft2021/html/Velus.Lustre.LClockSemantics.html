
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module LClockSemantics</title>
<meta name="description" content="Documentation of Coq module LClockSemantics" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module LClockSemantics</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html">Streams</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">List.ListNotations</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.omega.Omega.html">Omega</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html">Sorting.Permutation</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html">Morphisms</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FMapPositive.html">FSets.FMapPositive</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CommonList.html">CommonList</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Operators.html">Operators</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoindStreams.html">CoindStreams</a></span> <span class="id"><a href="Velus.IndexedStreams.html">IndexedStreams</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoindIndexed.html">CoindIndexed</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Clocks.html">Clocks</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LSyntax.html">Lustre.LSyntax</a></span> <span class="id"><a href="Velus.Lustre.LTyping.html">Lustre.LTyping</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html">Lustre.LClocking</a></span> <span class="id"><a href="Velus.Lustre.LCausality.html">Lustre.LCausality</a></span> <span class="id"><a href="Velus.Lustre.LOrdered.html">Lustre.LOrdered</a></span> <span class="id"><a href="Velus.Lustre.LSemantics.html">Lustre.LSemantics</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="LCLOCKSEMANTICS">LCLOCKSEMANTICS</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span> : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Syn</span> : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Clo</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LCA</span>        : <span class="id"><a href="Velus.Lustre.LCausality.html#LCAUSALITY">LCAUSALITY</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Lord</span> : <span class="id"><a href="Velus.Lustre.LOrdered.html#LORDERED">LORDERED</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">CStr</span> : <span class="id"><a href="Velus.CoindStreams.html#COINDSTREAMS">COINDSTREAMS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">IStr</span> : <span class="id"><a href="Velus.IndexedStreams.html#INDEXEDSTREAMS">INDEXEDSTREAMS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Sem</span> : <span class="id"><a href="Velus.Lustre.LSemantics.html#LSEMANTICS">LSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr">CStr</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Import</span> <span class="id">CStr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="kwd">Import</span> <span class="id"><a name="LCLOCKSEMANTICS.CIStr">CIStr</a></span> := <span class="id"><a href="Velus.CoindIndexed.html#CoindIndexedFun">CoindIndexedFun</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr">CStr</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr">IStr</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.history_nth_add">history_nth_add</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">n</span> <span class="id">id</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.Equal">Env.Equal</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_nth">history_nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> (<span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> # <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_nth">history_nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">H</span> <span class="id">n</span> <span class="id">id</span> <span class="id">vs</span> <span class="id">id</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">eqn</span>:<span class="id">Hfind</span>; <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">history_nth_find_Some</span>' <span class="kwd">in</span> <span class="id">Hfind</span> <span class="kwd">as</span> [<span class="id">vs</span>' [? <span class="id">Hfind</span>]]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> <span class="id">id</span> <span class="id">id</span>') <span class="id">eqn</span>:<span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gss">Env.gss</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gso">Env.gso</a></span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_nth_find_Some">history_nth_find_Some</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">history_nth_find_None</span>' <span class="kwd">in</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> <span class="id">id</span> <span class="id">id</span>') <span class="id">eqn</span>:<span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gss">Env.gss</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gso">Env.gso</a></span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_nth_find_None">history_nth_find_None</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_clock_refines">sem_clock_refines</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">ck</span> <span class="id">bs</span> <span class="id">bs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id">bs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">CoFix</span>; <span class="tactic">destruct</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">CoFix</span>; [|<span class="tactic">eauto</span>]. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_refines">history_tl_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">CoFix</span>; [|<span class="tactic">eauto</span>]. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_refines">history_tl_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.Son_abs2">Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">CoFix</span>; [|<span class="tactic">eauto</span>]. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_refines">history_tl_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.history_tl_same_find">history_tl_same_find</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">H</span>')) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl">history_tl</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl">history_tl</a></span> <span class="id">H</span>'))) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">a</span> <span class="id">H</span>) <span class="id">eqn</span>:<span class="id">Hfind</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_find_Some">history_tl_find_Some</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_find_Some">history_tl_find_Some</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hfind</span>, <span class="id">H2</span>. <span class="tactic">constructor</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_find_None">history_tl_find_None</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history_tl_find_None">history_tl_find_None</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hfind</span>, <span class="id">H1</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_var_same_find">sem_var_same_find</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">vars</span> <span class="id">id</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hf</span> <span class="id">Hin</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hf</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_1">Env.find_1</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hf</span>. <span class="id">inv</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.find_2">Env.find_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>, <span class="id">H4</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_clock_same_find">sem_clock_same_find</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">vars</span> <span class="id">ck</span> <span class="id">bs</span> <span class="id">bs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id">bs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id">bs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">CoFix</span>; <span class="tactic">destruct</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hf</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_same_find">sem_var_same_find</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">i</span>, <span class="id">ck</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">CoFix</span>; [| |<span class="tactic">eauto</span>]. 1:<span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.history_tl_same_find">history_tl_same_find</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_same_find">sem_var_same_find</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">i</span>, <span class="id">ck</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">CoFix</span>; [| |<span class="tactic">eauto</span>]. 1:<span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.history_tl_same_find">history_tl_same_find</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.Son_abs2">Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_same_find">sem_var_same_find</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">i</span>, <span class="id">ck</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">CoFix</span>; [| |<span class="tactic">eauto</span>]. 1:<span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.history_tl_same_find">history_tl_same_find</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Alignment </h2>
<br/>
<div class="doc">fby keeps the synchronization </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.ac_fby1">ac_fby1</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.fby">fby</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">xs</span>; <span class="id">inv</span> <span class="id">Hfby</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H3</span>. <span class="id">revert</span> <span class="id">H3</span>. <span class="id">revert</span> <span class="id">y</span> <span class="id">xs</span> <span class="id">ys0</span> <span class="id">rs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hfby1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">xs</span>; <span class="id">inv</span> <span class="id">Hfby1</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.ac_fby2">ac_fby2</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.fby">fby</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>. <span class="tactic">intros</span> * <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ys</span>; <span class="id">inv</span> <span class="id">Hfby</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H3</span>. <span class="id">revert</span> <span class="id">H3</span>. <span class="id">revert</span> <span class="id">v</span> <span class="id">ys</span> <span class="id">xs0</span> <span class="id">rs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>. <span class="tactic">intros</span> * <span class="id">Hfby1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ys</span>; <span class="id">inv</span> <span class="id">Hfby1</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.fby_aligned">fby_aligned</a></span> : <span class="kwd">forall</span> <span class="id">bs</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">zs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.fby">fby</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#zs">zs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> \/ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> \/ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#zs">zs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#zs">zs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8')">Proof with</div>
<div class="proofscript" id="proof8">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bs</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">zs</span> <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.ac_fby1">ac_fby1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hfby</span>) <span class="kwd">as</span> <span class="id">Hac1</span>. <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.ac_fby2">ac_fby2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hfby</span>) <span class="kwd">as</span> <span class="id">Hac2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_aligned">ac_aligned</a></span> <span class="id">xs</span>) <span class="kwd">as</span> <span class="id">Hs1</span>. <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_aligned">ac_aligned</a></span> <span class="id">ys</span>) <span class="kwd">as</span> <span class="id">Hs2</span>. <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_aligned">ac_aligned</a></span> <span class="id">zs</span>) <span class="kwd">as</span> <span class="id">Hs3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Hsync</span>|[<span class="id">Hsync</span>|<span class="id">Hsync</span>]]; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs1</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs1</span>, <span class="id">Hac1</span>, &lt;- <span class="id">Hac2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs1</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs1</span>, <span class="id">Hac1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs2</span>, <span class="id">Hac2</span>, &lt;- <span class="id">Hac1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs2</span>, <span class="id">Hac2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs3</span>, &lt;- <span class="id">Hac1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs3</span>, &lt;- <span class="id">Hac2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.ac_arrow1">ac_arrow1</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.arrow">arrow</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Harrow</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">xs</span>; <span class="id">inv</span> <span class="id">Harrow</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H3</span>. <span class="id">revert</span> <span class="id">H3</span>. <span class="id">revert</span> <span class="id">xs</span> <span class="id">ys0</span> <span class="id">rs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Harrow1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">xs</span>; <span class="id">inv</span> <span class="id">Harrow1</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.ac_arrow2">ac_arrow2</a></span> : <span class="kwd">forall</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.arrow">arrow</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Harrow</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ys</span>; <span class="id">inv</span> <span class="id">Harrow</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H3</span>. <span class="id">revert</span> <span class="id">H3</span>. <span class="id">revert</span> <span class="id">xs0</span> <span class="id">ys</span> <span class="id">rs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Harrow1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ys</span>; <span class="id">inv</span> <span class="id">Harrow1</span>; <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.arrow_aligned">arrow_aligned</a></span> : <span class="kwd">forall</span> <span class="id">bs</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">zs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.arrow">arrow</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#zs">zs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> \/ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> \/ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#zs">zs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned">aligned</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#zs">zs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof11')">Proof with</div>
<div class="proofscript" id="proof11">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bs</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">zs</span> <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.ac_arrow1">ac_arrow1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hfby</span>) <span class="kwd">as</span> <span class="id">Hac1</span>. <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.ac_arrow2">ac_arrow2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hfby</span>) <span class="kwd">as</span> <span class="id">Hac2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_aligned">ac_aligned</a></span> <span class="id">xs</span>) <span class="kwd">as</span> <span class="id">Hs1</span>. <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_aligned">ac_aligned</a></span> <span class="id">ys</span>) <span class="kwd">as</span> <span class="id">Hs2</span>. <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_aligned">ac_aligned</a></span> <span class="id">zs</span>) <span class="kwd">as</span> <span class="id">Hs3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Hsync</span>|[<span class="id">Hsync</span>|<span class="id">Hsync</span>]]; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs1</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs1</span>, <span class="id">Hac1</span>, &lt;- <span class="id">Hac2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs1</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs1</span>, <span class="id">Hac1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs2</span>, <span class="id">Hac2</span>, &lt;- <span class="id">Hac1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs2</span>, <span class="id">Hac2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs3</span>, &lt;- <span class="id">Hac1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.aligned_EqSt">aligned_EqSt</a></span> <span class="kwd">in</span> <span class="id">Hs3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hs3</span>, &lt;- <span class="id">Hac2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Preservation of the semantics while restricting an environment </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span> {<span class="id">B</span>} : <span class="kwd">forall</span> (<span class="id">vars</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.Lustre.LClockSemantics.html#B">B</a></span>)) <span class="id">H</span> <span class="id">id</span> <span class="id">ty</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty">ty</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> (<span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">H</span> <span class="id">id</span> <span class="id">ty</span> <span class="id">v</span> <span class="id">HIn</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_1">Env.find_1</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_2">Env.find_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.restrict_find">Env.restrict_find</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">id</span>, <span class="id">ty</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof13')">Proof with</div>
<div class="proofscript" id="proof13">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">vs</span> <span class="id">Hwt</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;const&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span> <span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;(anon)&nbsp;*)</span> <span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>. <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equation_restrict">sem_equation_restrict</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eq">eq</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof14')">Proof with</div>
<div class="proofscript" id="proof14">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">H</span> <span class="id">b</span> [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (?&amp;?&amp;?). <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_restrict">sem_exp_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equations_restrict">sem_equations_restrict</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eqs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> ? [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_restrict">sem_equation_restrict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h1> Alignment proof </h1>
<br/>
<h2> Semantics with anonymous variables in the history </h2>
<div class="doc">The case of applications is annoying to handle in the proof : because
      of clock dependencies, clock streams can sometimes be built from anonymous
      streams (which are not in the history)
      We prove that we can give the semantics of a node with these anonymous streams
      named in the history.
      This allows for simpler reasoning down the line </div>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKSEMANTICS.AnonSemantics">AnonSemantics</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.global">global</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history">history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp">exp</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sconst">Sconst</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">c</span> <span class="id">cs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#cs">cs</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const">const</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Econst">Econst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#c">c</a></span>) [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#cs">cs</a></span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Svar">Svar</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Evar">Evar</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sunop">Sunop</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">op</span> <span class="id">ty</span> <span class="id">s</span> <span class="id">o</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.typeof">typeof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> = [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty">ty</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.lift1">lift1</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty">ty</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eunop">Eunop</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sbinop">Sbinop</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">op</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">o</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#s1">s1</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e2">e2</a></span> [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#s2">s2</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.typeof">typeof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> = [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty1">ty1</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.typeof">typeof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e2">e2</a></span> = [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty2">ty2</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.lift2">lift2</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty1">ty1</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ty2">ty2</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s1">s1</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s2">s2</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Ebinop">Ebinop</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e2">e2</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>]<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sfby">Sfby</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">s0ss</span> <span class="id">sss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s0ss">s0ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sss">sss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.fby">fby</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s0ss">s0ss</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sss">sss</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Efby">Efby</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sarrow">Sarrow</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">s0ss</span> <span class="id">sss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s0ss">s0ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sss">sss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.arrow">arrow</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s0ss">s0ss</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sss">sss</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Earrow">Earrow</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Swhen">Swhen</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span> <span class="id">es</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">s</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.when">when</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id">s</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Ewhen">Ewhen</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Smerge">Smerge</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">s</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">lann</span> <span class="id">ts</span> <span class="id">fs</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#fs">fs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.merge">merge</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ts">ts</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#fs">fs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Emerge">Emerge</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Site">Site</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">s</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">lann</span> <span class="id">ts</span> <span class="id">fs</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#fs">fs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#Forall3">Forall3</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ite">ite</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ts">ts</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#fs">fs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eite">Eite</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sapp">Sapp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">o</span>)) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKSEMANTICS.Sreset">Sreset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">r</span> <span class="id">lann</span> <span class="id">ss</span> <span class="id">os</span> <span class="id">rs</span> <span class="id">bs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#r">r</a></span> [<span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.bools_of">bools_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bs">bs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">o</span>)) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#r">r</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lann">lann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span>: <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history">history</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.equation">equation</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="LCLOCKSEMANTICS.Seq">Seq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">xs</span> <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_equation_anon">sem_equation_anon</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span> : <span class="kwd">forall</span> <span class="id">b</span> <span class="id">e</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof16')">Proof with</div>
<div class="proofscript" id="proof16">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">Hi</span> <span class="id">Hi</span>' <span class="id">v</span> <span class="id">Href</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;const&nbsp;*)</span> <span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span> <span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span> <span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;-&nbsp;<span class="comment">(*&nbsp;pre&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;econstructor;&nbsp;eauto;&nbsp;repeat&nbsp;rewrite_Forall_forall...&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [? [? [?|]]] ? ? ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [? [? [?|]]] ? ? ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equation_anon_refines">sem_equation_anon_refines</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof17')">Proof with</div>
<div class="proofscript" id="proof17">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">eq</span> <span class="id">Href</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [| <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [| <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
<h3> sem_exp_anon -&gt; sem_exp </h3>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_anon_sem_exp">sem_exp_anon_sem_exp</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-11:(<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? <span class="id">Hin</span> ? ?; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">sem_exp_anon_sem_exp</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">sem_exps_anon_sem_exps</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equation_anon_sem_equation">sem_equation_anon_sem_equation</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Heq</span>. <span class="id">inv</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
<h3> sem_exp -&gt; sem_exp_anon </h3>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">simpl_ndup</span> <span class="id">Hnd</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">ndup_l</span> <span class="id">H</span> := <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">ndup_r</span> <span class="id">H</span> := <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Permutation_swap">Permutation_swap</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Env.union_refines2</span> <span class="id">Env.union_dom</span> <span class="id">Env.adds_opt</span>'<span class="id">_refines</span> <span class="id">Env.adds_opt</span>'<span class="id">_dom</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.anons">anons</a></span> (<span class="id">env</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op.type">type</a></span> * <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>)) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">o</span>)) =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.anons_anon_streams">anons_anon_streams</a></span> : <span class="kwd">forall</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#map_filter">map_filter</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_streams">Syn.anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">anns</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> (?&amp;?&amp;[?|]); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.anons_In">anons_In</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_streams">Syn.anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">anns</span>; <span class="tactic">intros</span> <span class="id">Hin</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> (?&amp;?&amp;?); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.anons_NoDup">anons_NoDup</a></span> : <span class="kwd">forall</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_streams">Syn.anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupo">NoDupo</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#anns">anns</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">anns</span>; <span class="tactic">intros</span> <span class="id">Hnd</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>; <span class="id">inv</span> <span class="id">Hnd</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">contra</span>. <span class="tactic">apply</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Ino_In">Ino_In</a></span> <span class="kwd">in</span> <span class="id">contra</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_In">anons_In</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id">sem_exps_sem_exps_fresh</span>' : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="kwd">forall</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\ <span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>)) /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>', <span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">Hf</span> <span class="id">Hdom</span> <span class="id">Hnd</span> <span class="id">Hwl</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwl</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">simpl_ndup</span> <span class="id">Hnd</span>. <span class="tactic">exists</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_ins">fresh_ins</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>; <span class="id">simpl_ndup</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHes</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;<span class="id">Hd2</span>&amp;<span class="id">Hs2</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>. <span class="tactic">clear</span> <span class="id">IHes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>. <span class="tactic">clear</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_ins">fresh_ins</a></span>; <span class="id">simpl_ndup</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_dom">Env.union_dom</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">eauto</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_sem_exp_fresh">sem_exp_sem_exp_fresh</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>', <span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp_ind2">exp_ind2</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom</span> <span class="id">Hnd</span> <span class="id">Hwl</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwl</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">simpl_ndup</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;const&nbsp;*)</span> <span class="tactic">exists</span> <span class="id">H</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span> <span class="tactic">exists</span> <span class="id">H</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe1</span> <span class="kwd">in</span> <span class="id">H9</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Href1</span>&amp;<span class="id">Hdom1</span>&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe2</span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Href2</span>&amp;<span class="id">Hdom2</span>&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;<span class="id">Hd2</span>&amp;<span class="id">Hs2</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;<span class="id">Hd2</span>&amp;<span class="id">Hs2</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>'1. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;<span class="id">Hd2</span>&amp;<span class="id">Hs2</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">H15</span> <span class="kwd">as</span> (<span class="id">H</span>'0&amp;<span class="id">Hr0</span>&amp;<span class="id">Hd0</span>&amp;<span class="id">Hs0</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>; <span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;<span class="id">Hd2</span>&amp;<span class="id">Hs2</span>); <span class="tactic">eauto</span>. 2:<span class="tactic">do</span> 2 <span class="id">ndup_r</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'0 (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2)). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,3:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">a</span>) <span class="kwd">as</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H14</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id">Env.adds_opt</span>' (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id">a</span>) <span class="id">vs</span> <span class="id">H</span>'1) <span class="kwd">as</span> <span class="id">H</span>'2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2) <span class="kwd">as</span> <span class="id">Hr2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id">Env.adds_opt</span>'<span class="id">_refines</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation_app_comm</a></span> (<span class="id">_</span> ++ <span class="id">_</span>)) <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_In">anons_In</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_In">NoDup_app_In</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Environment.html#Env.dom_use">Env.dom_use</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>'2. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">HeqH</span>'2, &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_anon_streams">anons_anon_streams</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Env.adds_opt</span>'<span class="id">_dom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">o</span> <span class="id">v</span> =&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> -&gt; <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">H</span>'2 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id">a</span>) <span class="id">vs</span>) <span class="kwd">as</span> <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#all_In_Forall2">all_In_Forall2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? <span class="id">Hin</span> ? ?; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Env.In_find_adds_opt</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_NoDup">anons_NoDup</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="kwd">in</span> <span class="id">Hvs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hvs</span>; <span class="tactic">intros</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> (?&amp;?&amp;?). <span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">eapply</span> <span class="id">H</span>. 1,2:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;<span class="id">Hd1</span>&amp;<span class="id">Hs1</span>); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">a</span>) <span class="kwd">as</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">specialize</span> (<span class="id">H19</span> 0). <span class="id">inv</span> <span class="id">H19</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H10</span>; <span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H17</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;<span class="id">Hd2</span>&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>; <span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id">Env.adds_opt</span>' (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id">a</span>) <span class="id">vs</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2)) <span class="kwd">as</span> <span class="id">H</span>'3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2) <span class="id">H</span>'3) <span class="kwd">as</span> <span class="id">Hr3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id">Env.adds_opt</span>'<span class="id">_refines</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation_app_comm</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_streams">Syn.anon_streams</a></span> <span class="id">a</span>))) <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_In">anons_In</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_In">NoDup_app_In</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Environment.html#Env.dom_use">Env.dom_use</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>'3. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; [|<span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">HeqH</span>'3, &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_anon_streams">anons_anon_streams</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Env.adds_opt</span>'<span class="id">_dom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>]. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hd2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_l">NoDup_app_l</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>]. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hd2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_l">NoDup_app_l</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">o</span> <span class="id">v</span> =&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> -&gt; <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">H</span>'3 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="id">a</span>) <span class="id">vs</span>) <span class="kwd">as</span> <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#all_In_Forall2">all_In_Forall2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? <span class="id">Hin</span> ? ?; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Env.In_find_adds_opt</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons_NoDup">anons_NoDup</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.anons">anons</a></span> <span class="kwd">in</span> <span class="id">Hvs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hvs</span>; <span class="tactic">intros</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> (?&amp;?&amp;?). <span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">eapply</span> <span class="id">H</span>. 1,2:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_sem_exp_anon">sem_exp_sem_exp_anon</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in">anon_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">o</span>)) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annot">annot</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>', <span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in">anon_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom</span> <span class="id">Hndup</span> <span class="id">Hf</span> <span class="id">Hwl</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-9:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_sem_exp_fresh">sem_exp_sem_exp_fresh</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwl</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H11</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> * <span class="id">Hin</span> ?????.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_sem_exp_fresh">sem_exp_sem_exp_fresh</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>'1. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?&amp;[?|]) ? ? ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_exps_sem_exps_fresh</span>' <span class="kwd">in</span> <span class="id">H13</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;<span class="id">Hr1</span>&amp;?&amp;?); <span class="tactic">eauto</span>. 3:<span class="id">ndup_l</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> * <span class="id">Hin</span> ?????.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_sem_exp_fresh">sem_exp_sem_exp_fresh</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_sem_exp_fresh">sem_exp_sem_exp_fresh</a></span> <span class="kwd">in</span> <span class="id">H15</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;<span class="id">Hr2</span>&amp;?&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">env0</span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">l</span>) ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_in">fresh_in</a></span> <span class="id">r</span>))) <span class="kwd">as</span> <span class="id">Hd3</span> <span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDup_app_r">NoDup_app_r</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?&amp;[?|]) ? ? ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exps_sem_exps_anon">sem_exps_sem_exps_anon</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_ins">anon_ins</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">o</span>)) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp">sem_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>', <span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_ins">anon_ins</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdom</span> <span class="id">Hnd</span> <span class="id">Hvar</span> <span class="id">Hwl</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">Hwl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">exists</span> <span class="id">H</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_ins">anon_ins</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_app_split">Forall2_app_split</a></span> <span class="kwd">in</span> <span class="id">Hvar</span> <span class="kwd">as</span> (<span class="id">Hvar1</span>&amp;<span class="id">Hvar2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>. <span class="tactic">rewrite</span> <span class="id">Hsem</span> <span class="kwd">in</span> <span class="id">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_cancel_r">Nat.add_cancel_r</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHHsem</span> <span class="kwd">in</span> <span class="id">Hvar2</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>. <span class="tactic">clear</span> <span class="id">IHHsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_sem_exp_anon">sem_exp_sem_exp_anon</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_refines">sem_exp_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equation_sem_equation_anon">sem_equation_sem_equation_anon</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in_eq">anon_in_eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>', <span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in_eq">anon_in_eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#equ">equ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? (<span class="id">xs</span>&amp;<span class="id">es</span>) <span class="id">Hdom</span> <span class="id">Hnd</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (<span class="id">Hwc1</span>&amp;<span class="id">Hwc2</span>&amp;<span class="id">_</span>). <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_sem_exps_anon">sem_exps_sem_exps_anon</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> (<span class="id">H</span>'&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">exists</span> <span class="id">H</span>'. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * ? ? ?. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">Hwc2</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof_annots">nclocksof_annots</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hwc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">in</span> <span class="id">H6</span>; [|<span class="tactic">eauto</span>]. <span class="tactic">clear</span> - <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (?&amp;?&amp;?) ??? (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equations_sem_equations_anon">sem_equations_sem_equations_anon</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eqs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in_eqs">anon_in_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>', <span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in_eqs">anon_in_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">eqs</span>; <span class="tactic">intros</span> * <span class="id">Hdom</span> <span class="id">Hnd</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">exists</span> <span class="id">H</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in_eqs">anon_in_eqs</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHeqs</span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> (<span class="id">H</span>'2&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_r</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_sem_equation_anon">sem_equation_sem_equation_anon</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> (<span class="id">H</span>'1&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>. 2:<span class="id">ndup_l</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Environment.html#Env.union">Env.union</a></span> <span class="id">H</span>'1 <span class="id">H</span>'2). <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span> [? ?] ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon_refines">sem_equation_anon_refines</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines3">Env.union_refines3</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.union_refines4">Env.union_refines4</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">Properties of sem_exp_anon </div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exp_anon_sem_var">sem_exp_anon_sem_var</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclockof">nclockof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclockof">nclockof</a></span> <span class="id">e</span>)) <span class="kwd">as</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_nclockof_numstreams">length_nclockof_numstreams</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-5:<span class="tactic">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hlen</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hlen</span>; <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Forall2_ignore2</span>' <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Hlen</span>. <span class="tactic">induction</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [? [? [?|]]]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hlen</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hlen</span>; <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Forall2_ignore2</span>' <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Hlen</span>. <span class="tactic">induction</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [? [? [?|]]]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>; <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>; <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>; <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (?&amp;?&amp;?) ? ? ? ?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H18</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (?&amp;?&amp;?) ? ? ? ?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_exps_anon_sem_var">sem_exps_anon_sem_var</a></span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_sem_var">sem_exp_anon_sem_var</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.AnonSemantics">AnonSemantics</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_when">sc_when</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">x</span> <span class="id">b</span> <span class="id">k</span> <span class="id">ck</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.when">when</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>. <span class="tactic">intros</span> * <span class="id">Hsemv</span> <span class="id">Hsemc</span> <span class="id">Hwhen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">rs</span>; <span class="id">inv</span> <span class="id">Hwhen</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsemc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hsemc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsemc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id">k</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">k</span>)) <span class="kwd">as</span> <span class="id">Hk</span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive_reverse">Bool.negb_involutive_reverse</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hk</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.Son_abs2">Son_abs2</a></span> <span class="kwd">with</span> (<span class="id">c</span>:=<span class="id">c</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsemc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsemc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_merge">sc_merge</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> <span class="id">x</span> <span class="id">xs</span> <span class="id">ts</span> <span class="id">fs</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ts">ts</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)(<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#fs">fs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.merge">merge</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ts">ts</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#fs">fs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ck</span>; <span class="tactic">intros</span> ???????? <span class="id">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>. <span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">H</span>. <span class="id">revert</span> <span class="id">Hmerge</span>. <span class="id">revert</span> <span class="id">b</span> <span class="id">x</span> <span class="id">xs</span> <span class="id">ts</span> <span class="id">fs</span> <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span> * <span class="id">Hmerge</span> <span class="id">H</span> <span class="id">Hsemv</span> <span class="id">Hsct</span> <span class="id">Hscf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ss</span>; <span class="id">inv</span> <span class="id">Hmerge</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsct</span>, <span class="id">Hscf</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hscf</span>; <span class="tactic">try</span> <span class="id">discriminate_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsct</span>. <span class="tactic">eapply</span> <span class="id">Cofix</span> <span class="kwd">in</span> <span class="id">Hsemv</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hsct</span>; [| <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_true_iff">Bool.negb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">subst</span>; <span class="id">now</span> <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H5</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hscf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span> <span class="kwd">in</span> <span class="id">Hsemv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">econstructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hscf</span>; [| <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H5</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsct</span>. <span class="tactic">eapply</span> <span class="id">Cofix</span> <span class="kwd">in</span> <span class="id">Hsemv</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">H</span>. <span class="id">revert</span> <span class="id">Hmerge</span>. <span class="id">revert</span> <span class="id">b</span> <span class="id">ck</span> <span class="id">i</span> <span class="id">b0</span> <span class="id">x</span> <span class="id">xs</span> <span class="id">ts</span> <span class="id">fs</span> <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span> * <span class="id">Hmerge</span> <span class="id">H</span> <span class="id">Hsemv</span> <span class="id">Hsct</span> <span class="id">Hscf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ss</span>; <span class="id">inv</span> <span class="id">Hmerge</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsct</span>, <span class="id">Hscf</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hscf</span>; <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">try</span> <span class="id">discriminate_var</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsct</span>; <span class="id">now</span> <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hsct</span>; [| <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_true_iff">Bool.negb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">subst</span>; <span class="id">now</span> <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H5</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hscf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hscf</span>; [| <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H5</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Env.find_1</span> <span class="id">Env.find_2</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_inst">sc_inst</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' <span class="id">H</span>')) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">ck</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id">n</span>). <span class="tactic">specialize</span> (<span class="id">Hbck</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">n</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">ck</span> -&gt; <span class="id">sub</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id">A</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>))) <span class="kwd">as</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> * <span class="id">Hfree</span> <span class="id">Hsub</span>. <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">Hfree</span> <span class="id">Hsub</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history_find_orel">tr_history_find_orel</a></span> <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">eauto</span>. } <span class="tactic">clear</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span>' <span class="id">bck</span> <span class="id">cks</span> <span class="id">sub</span> <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>. <span class="id">inv</span> <span class="id">Hck</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hcase</span>]. <span class="id">cases_eqn</span> <span class="id">Hcase</span>. <span class="id">inv</span> <span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">econstructor</span>;<span class="tactic">eauto</span>. 5:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Son_abs2">IStr.Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">i</span> <span class="id">i0</span> <span class="id">n</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sc_inst</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">ck</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' <span class="id">H</span>')) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">H</span>. <span class="id">revert</span> <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span>. <span class="id">revert</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span>' <span class="id">bck</span> <span class="id">cks</span> <span class="id">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>. <span class="tactic">constructor</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">H</span>'. <span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">cks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Hinst</span>. <span class="id">revert</span> <span class="id">b</span>' <span class="id">i</span> <span class="id">b0</span> <span class="id">ck</span>' <span class="id">b</span> <span class="id">H</span>. <span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hcase</span>]. <span class="id">cases_eqn</span> <span class="id">Hcase</span>. <span class="id">inv</span> <span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">cks</span>; <span class="tactic">assert</span> (<span class="id">Hck</span>' := <span class="id">Hck</span>); <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">H8</span> <span class="kwd">as</span> [???? <span class="id">Hf</span>]. <span class="tactic">rewrite</span> <span class="id">Hf</span> <span class="kwd">in</span> <span class="id">Henv</span>. <span class="id">inv</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span>. <span class="tactic">intros</span> * <span class="id">Hfree</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Henv</span> <span class="kwd">with</span> (<span class="id">x</span>':= <span class="id">x</span>') <span class="kwd">in</span> <span class="id">Hfree</span>; <span class="tactic">auto</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.env_find_tl">env_find_tl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">H8</span> <span class="kwd">as</span> [???? <span class="id">Hf</span>]. <span class="tactic">rewrite</span> <span class="id">Hf</span> <span class="kwd">in</span> <span class="id">Henv</span>. <span class="id">inv</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span>. <span class="tactic">intros</span> * <span class="id">Hfree</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Henv</span> <span class="kwd">with</span> (<span class="id">x</span>':= <span class="id">x</span>') <span class="kwd">in</span> <span class="id">Hfree</span>; <span class="tactic">auto</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.env_find_tl">env_find_tl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.Son_abs2">Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">H8</span> <span class="kwd">as</span> [???? <span class="id">Hf</span>]. <span class="tactic">rewrite</span> <span class="id">Hf</span> <span class="kwd">in</span> <span class="id">Henv</span>. <span class="id">inv</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sc_step">sc_step</a></span>. <span class="tactic">intros</span> * <span class="id">Hfree</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Henv</span> <span class="kwd">with</span> (<span class="id">x</span>':= <span class="id">x</span>') <span class="kwd">in</span> <span class="id">Hfree</span>; <span class="tactic">auto</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.env_find_tl">env_find_tl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_parent">sc_parent</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> <span class="id">lck</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lck">lck</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lck">lck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span>' =&gt; <span class="id">ck</span>' = <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> \/ <span class="id"><a href="Velus.Clocks.html#clock_parent">clock_parent</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> <span class="id">ck</span>') <span class="id"><a href="Velus.Lustre.LClockSemantics.html#lck">lck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hsc</span> <span class="id">Hin</span> <span class="id">Hparent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_left">Forall2_in_left</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hsc</span> <span class="id">Hin</span>) <span class="kwd">as</span> [<span class="id">s</span> (<span class="id">Hins</span> &amp; <span class="id">Hsc0</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hins</span> <span class="kwd">as</span> [?(?&amp;?)]. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">s</span>' =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sub_clock">sub_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id">s</span>')) <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="kwd">as</span> <span class="id">Hf</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> * <span class="id">Hx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_right">Forall2_in_right</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hsc</span> <span class="id">Hx0</span>) <span class="kwd">as</span> [? (<span class="id">Hx1</span>&amp;<span class="id">Hsc1</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hx1</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hx1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock_det">sem_clock_det</a></span> <span class="kwd">with</span> (2 := <span class="id">Hsc1</span>) <span class="kwd">in</span> <span class="id">Hsc0</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hsc0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sub_clock_parent">sub_clock_parent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sub_clock_sclocksof">sub_clock_sclocksof</a></span> <span class="kwd">in</span> <span class="id">Hf</span>; <span class="tactic">auto</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span> <span class="id">ck</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">ick</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ick">ick</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">WC</span> <span class="id">Ix</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">x</span> <span class="id">Ix</span>. <span class="tactic">induction</span> <span class="id">ck</span>; <span class="id">inv</span> <span class="id">Hfree</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">WC</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">WC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.idck_idents">idck_idents</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#l">l</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#l">l</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span>, <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">simpl_Foralls</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> [] |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> [<span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id">_</span>) |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id">_</span> [<span class="id">_</span>] <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id">_</span> [] <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id">_</span> <span class="id">_</span> [<span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id">_</span> <span class="id">_</span> [] |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.NoDupMembers_idck">NoDupMembers_idck</a></span> : <span class="kwd">forall</span> (<span class="id">xs</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op.type">type</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) &lt;-&gt; <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> (<span class="id">G</span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.global">global</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">f</span> <span class="id">n</span> <span class="id">xs</span>  <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#os">os</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.inst_in_eqst">inst_in_eqst</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">vs</span> <span class="id">i</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">i</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span> <span class="id">WI</span> <span class="id">Hsvi</span> <span class="id">Hsvo</span> <span class="id">i</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hsvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1:=<span class="id">Hsvi</span>) <span class="kwd">in</span> <span class="id">Hsvo</span>. <span class="tactic">clear</span> <span class="id">Hsvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">WI</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">WI</span> <span class="kwd">as</span> [? <span class="id">WI</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In_nth">In_nth</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">n</span> [<span class="id">Hlen</span> <span class="id">Hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">n</span> <span class="id">ys</span> (<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) <span class="id">eqn</span>:<span class="id">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">WI</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id">Hin</span> <span class="id">Hy</span>) <span class="kwd">as</span> ((?&amp;?&amp;?&amp;?)&amp;<span class="id">Hinst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_1">Env.find_1</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">Sub</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_2">Env.find_2</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">rewrite</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">symmetry</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_has_base">sc_has_base</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span> <span class="id">ncks</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">nck</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#nck">nck</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">WCin</span> <span class="id">Hscin</span> <span class="id">WIi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_env_has_Cbase">wc_env_has_Cbase</a></span> <span class="id">_</span> <span class="id">WCin</span>) <span class="kwd">as</span> [<span class="id">i</span> <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#length_idck">length_idck</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_ingt0">n_ingt0</a></span> <span class="id">n</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated_parent">WellInstantiated_parent</a></span> <span class="kwd">in</span> <span class="id">WIi</span> <span class="kwd">as</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span> =&gt; (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id">bck</span> \/ <span class="id"><a href="Velus.Clocks.html#clock_parent">clock_parent</a></span> <span class="id">bck</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ncks</span>) <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_parent">sc_parent</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_left">Forall2_in_left</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WIi</span> <span class="id">Hin</span>) <span class="kwd">as</span> [?(?&amp;?&amp; <span class="id">H14</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H14</span>. <span class="id">inv</span> <span class="id">H14</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_inside">sc_inside</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">env</span> <span class="id">es</span> <span class="id">ss0</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hse</span> <span class="id">WCin</span> <span class="id">Hscin</span> <span class="id">WIi</span> <span class="id">Hsv</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1 := <span class="id">WIi</span>) <span class="kwd">in</span> <span class="id">Hscin</span> <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x</span> &amp; <span class="id">ck</span>) <span class="id">xs</span>  <span class="id">Hxin</span> ? ((<span class="id">yck</span> &amp; <span class="id">ny</span>) &amp; <span class="id">Hyin</span> &amp; (<span class="id">Hsub</span> &amp; <span class="id">Hinst</span>) &amp; <span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_inst</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_has_base">sc_has_base</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">Hwc</span> <span class="id">Hxin</span> <span class="id">WCin</span> <span class="id">WIi</span> <span class="id">Hse</span> <span class="id">Hsv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">i</span>' <span class="id">Free</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WCin</span> <span class="id">Hxin</span> <span class="id">Free</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.inst_in_eqst">inst_in_eqst</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span> <span class="kwd">in</span> <span class="id">Hsv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_var">sem_exps_anon_sem_var</a></span> <span class="kwd">in</span> <span class="id">Hse</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_outside">sc_outside</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">es</span> <span class="id">b</span> <span class="id">env</span> <span class="id">ncks</span> <span class="id">ss0</span> <span class="id">ss</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x0</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x0">x0</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hse1</span> <span class="id">Hse2</span> <span class="id">WCin</span> <span class="id">WCinout</span> <span class="id">Hscin</span> <span class="id">Hsvi</span> <span class="id">WIi</span> <span class="id">WIo</span> <span class="id">Hscout</span> <span class="id">Hsvo</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">WIo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1:=<span class="id">WIo</span>) <span class="kwd">in</span> <span class="id">Hscout</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x</span> &amp; <span class="id">ck</span>) <span class="id">xs</span>  <span class="id">Hxin</span> ? ((<span class="id">yck</span> &amp; <span class="id">ny</span>) &amp; <span class="id">Hyin</span> &amp; (<span class="id">Hsub</span> &amp; <span class="id">Hinst</span>) &amp; <span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_inst">sc_inst</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_has_base">sc_has_base</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">Hwc</span> <span class="id">Hyin</span> <span class="id">WCin</span> <span class="id">WCinout</span> <span class="id">WIi</span> <span class="id">WIo</span> <span class="id">Hse1</span> <span class="id">Hse2</span> <span class="id">Hsvi</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">i</span>' <span class="id">Free</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">yck</span>, <span class="id">ny</span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>))) <span class="kwd">as</span> <span class="id">Hyin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WCinout</span> <span class="id">Hyin2</span> <span class="id">Free</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">WIo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.inst_in_eqst">inst_in_eqst</a></span>. 1,5:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_var">sem_exps_anon_sem_var</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_inst_mask">sc_inst_mask</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="tactic">exists</span> <span class="id">H</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb">maskb</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb">maskb</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v1">v1</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v2">v2</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' <span class="id">H</span>'))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">ck</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinst</span> <span class="id">Hbck</span> <span class="id">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hbck</span> <span class="id">n</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hbck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hk</span> ((<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.count">count</a></span> <span class="id">rs</span>) # <span class="id">n</span>)) <span class="kwd">as</span> [<span class="id">H</span> [<span class="id">Hck</span> <span class="id">Henv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> <span class="id">Hck</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id">n</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eqb_refl">Nat.eqb_refl</a></span> <span class="kwd">in</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>', <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">ck</span> -&gt; <span class="id">sub</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id">n</span>))) <span class="kwd">as</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> * <span class="id">Hfree</span> <span class="id">Hsub</span>. <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">Hfree</span> <span class="id">Hsub</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">tr_history_find_orel_mask</span>' <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">n</span>) <span class="kwd">in</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#relation_equivalence">relation_equivalence</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v1">v1</a></span> = (<span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.count">count</a></span> <span class="id">rs</span>) # <span class="id">n</span> =? (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.count">count</a></span> <span class="id">rs</span>) # <span class="id">n</span> <span class="kwd">then</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v2">v2</a></span> <span class="kwd">else</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.absent">absent</a></span>))) <span class="kwd">as</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">x1</span> <span class="id">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eqb_refl">Nat.eqb_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span>' <span class="id">bck</span> <span class="id">cks</span> <span class="id">sub</span> <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>. <span class="id">inv</span> <span class="id">Hck</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hcase</span>]. <span class="id">cases_eqn</span> <span class="id">Hcase</span>. <span class="id">inv</span> <span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">econstructor</span>;<span class="tactic">eauto</span>. 5:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Son_abs2">IStr.Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">i</span> <span class="id">i0</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sc_inst_mask</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span> <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id">ck</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id">b</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v1">v1</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v2">v2</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' <span class="id">H</span>')) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb">maskb</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb">maskb</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#cks">cks</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id">n</span>). <span class="tactic">specialize</span> (<span class="id">Hbck</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">n</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">ck</span> -&gt; <span class="id">sub</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>' -&gt; <span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v1">v1</a></span> = (<span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.count">CStr.count</a></span> <span class="id">rs</span>) # <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> =? <span class="id">k</span> <span class="kwd">then</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v2">v2</a></span> <span class="kwd">else</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.absent">absent</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span>' (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>))) <span class="kwd">as</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> * <span class="id">Hfree</span> <span class="id">Hsub</span>. <span class="tactic">specialize</span> (<span class="id">Henv</span> <span class="id">x</span> <span class="id">x</span>' <span class="id">Hfree</span> <span class="id">Hsub</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">tr_history_find_orel_mask</span>' <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">eauto</span>. } <span class="tactic">clear</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ck</span>' <span class="id">bck</span> <span class="id">cks</span> <span class="id">sub</span> <span class="id">Hinst</span> <span class="id">Hck</span> <span class="id">Hbck</span> <span class="id">Henv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id">_</span> =? <span class="id">k</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_clock_instant_det">sem_clock_instant_det</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hck</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hcase</span>]. <span class="id">cases_eqn</span> <span class="id">Hcase</span>. <span class="id">inv</span> <span class="id">Hcase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> (<span class="id">_</span> =? <span class="id">k</span>) <span class="id">eqn</span>:<span class="id">Hcount</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">econstructor</span>;<span class="tactic">eauto</span>. 5:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Son_abs2">IStr.Son_abs2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">i</span> <span class="id">i0</span> <span class="id">n</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id">Hcount</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>':=<span class="id">b</span>') <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span>, &lt;- <span class="id">H3</span> <span class="kwd">in</span> <span class="id">Hcase0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>':=<span class="id">b</span>') <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id">Htrue</span>:=<span class="id">H4</span>). <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_clock_instant_true_inv">sem_clock_instant_true_inv</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>:=<span class="id">b0</span>) (<span class="id">b</span>':=<span class="id">b</span>') (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> <span class="id">Hcase0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2,3:<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,4,6:(<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Henv</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">n</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Hcase1</span>); <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">Henv</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Henv</span>'; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id">Hcount</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,3:<span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">with</span> (<span class="id">b</span>':=<span class="id">b</span>') (<span class="id">b</span>:=<span class="id">b0</span>) (<span class="id">cks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-5:<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> *; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const_nth">const_nth</a></span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHck</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>. 2:<span class="tactic">rewrite</span> &lt;-<span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.maskb_nth">maskb_nth</a></span>, <span class="id">Hcount</span> <span class="kwd">in</span> <span class="id">Hcase0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.inst_in_eqst_mask">inst_in_eqst_mask</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">vs</span> <span class="id">i</span> <span class="id">ck</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#orel">orel</a></span> (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v1">v1</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v2">v2</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#i">i</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">i</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span> <span class="id">WI</span> <span class="id">Hsvi</span> <span class="id">Hsvo</span> <span class="id">i</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1:=<span class="id">Hsvi</span>) <span class="kwd">in</span> <span class="id">Hsvo</span>. <span class="tactic">clear</span> <span class="id">Hsvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">WI</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hsvo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">WI</span> <span class="kwd">as</span> [? <span class="id">WI</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In_nth">In_nth</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">n</span>' [<span class="id">Hlen</span> <span class="id">Hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">n</span>' <span class="id">ys</span> (<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) <span class="id">eqn</span>:<span class="id">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">WI</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id">Hin</span> <span class="id">Hy</span>) <span class="kwd">as</span> ((?&amp;?&amp;?&amp;?)&amp;<span class="id">Hinst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_1">Env.find_1</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">Sub</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_2">Env.find_2</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">rewrite</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_inside_mask">sc_inside_mask</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">env</span> <span class="id">es</span> <span class="id">ss0</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span> <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hse</span> <span class="id">WCin</span> <span class="id">Hscin</span> <span class="id">WIi</span> <span class="id">Hsv</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsv</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">with</span> (1 := <span class="id">WIi</span>) <span class="kwd">in</span> <span class="id">Hscin</span> <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x</span> &amp; <span class="id">ck</span>) <span class="id">xs</span>  <span class="id">Hxin</span> ? ((<span class="id">yck</span> &amp; <span class="id">ny</span>) &amp; <span class="id">Hyin</span> &amp; (<span class="id">Hsub</span> &amp; <span class="id">Hinst</span>) &amp; <span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_mask">ac_mask</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of_mask">clocks_of_mask</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_inst_mask</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_has_base">sc_has_base</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">Hwc</span> <span class="id">Hxin</span> <span class="id">WCin</span> <span class="id">WIi</span> <span class="id">Hse</span> <span class="id">Hsv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">i</span>' <span class="id">Free</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WCin</span> <span class="id">Hxin</span> <span class="id">Free</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.inst_in_eqst_mask">inst_in_eqst_mask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_var">sem_exps_anon_sem_var</a></span> <span class="kwd">in</span> <span class="id">Hse</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span> := <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.const">const</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op.true_const">Op.true_const</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_outside_mask">sc_outside_mask</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">es</span> <span class="id">b</span> <span class="id">env</span> <span class="id">ncks</span> <span class="id">ss0</span> <span class="id">ss</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">o</span>) <span class="id">s</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="kwd">fun</span> <span class="id">x0</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x0">x0</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#s">s</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#o">o</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="tactic">exists</span> <span class="id">Hi</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss0">ss0</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ncks">ncks</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hse1</span> <span class="id">Hse2</span> <span class="id">WCin</span> <span class="id">WCinout</span> <span class="id">Hscin</span> <span class="id">WIi</span> <span class="id">WIo</span> <span class="id">Hk</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ncks</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>))) <span class="kwd">as</span> <span class="id">Hlen1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">WIo</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ncks</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ss</span>) <span class="kwd">as</span> <span class="id">Hlen2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">specialize</span> (<span class="id">Hk</span> 0) <span class="kwd">as</span> (?&amp;<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Hf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">Hlen1</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [? ?] ? ? [? ?] ? <span class="id">Hlen</span> <span class="id">Hnth1</span> <span class="id">Hnth2</span>; <span class="tactic">simpl</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_inst_mask">sc_inst_mask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">WIo</span> <span class="kwd">as</span> [? <span class="id">WIo</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hlen1</span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">WIo</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">Hnth1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WIo</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_has_base">sc_has_base</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hk</span> <span class="id">k</span>) <span class="kwd">as</span> (<span class="id">Hi</span>&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">Hi</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [? <span class="id">Hck</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hlen1</span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>)) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of_mask">clocks_of_mask</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id">map_nth</span>', <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_mask">ac_mask</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hlen2</span>, <span class="id">Hlen1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">i</span> <span class="id">i</span>' <span class="id">Free</span> <span class="id">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">n0</span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) (1%<span class="id">positive</span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>)) <span class="kwd">as</span> (<span class="id">yck</span>, <span class="id">ny</span>) <span class="id">eqn</span>:<span class="id">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">yck</span>, <span class="id">ny</span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n</span>))) <span class="kwd">as</span> <span class="id">Hyin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>. <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hy</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.wc_env_free_in_clock">wc_env_free_in_clock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WCinout</span> <span class="id">Hyin2</span> <span class="id">Free</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.inst_in_eqst_mask">inst_in_eqst_mask</a></span> <span class="kwd">with</span> (<span class="id">vs</span>:=(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>++<span class="id">ss</span>)). 1,5:<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_var">sem_exps_anon_sem_var</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id">env</span> (<span class="id">H</span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history">history</a></span>) (<span class="id">b</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="kwd">forall</span> <span class="id">ck</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> (<span class="id">G</span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.global">global</a></span>) <span class="id">env</span> (<span class="id">H</span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.history">history</a></span>) (<span class="id">b</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp">exp</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">e</span> <span class="id">k</span> =&gt; <span class="kwd">forall</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>))).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">ss</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span> <span class="id">Hp</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">y</span> = <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.numstreams">numstreams</a></span> <span class="id">a</span>) <span class="kwd">as</span> <span class="id">Hlen</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_sem_exp">sem_exp_anon_sem_exp</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;now&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nth1">app_nth1</a></span>. 2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nth1">app_nth1</a></span>. 2:<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H8</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;later&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nth2">app_nth2</a></span>. 1,2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nth2">app_nth2</a></span>. 1,2:<span class="tactic">rewrite</span> <span class="id">Hlen</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.P_exps_sc_exp_inv_all">P_exps_sc_exp_inv_all</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hsem</span> <span class="id">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) <span class="kwd">as</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>. <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hn</span> ? ?; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">map_nth</span>' <span class="kwd">with</span> (<span class="id">d</span>':=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>). 2:<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_indep">nth_indep</a></span> <span class="kwd">with</span> (<span class="id">d</span>':=<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hk</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_const">sc_exp_const</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Econst">Econst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#c">c</a></span>) 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * ? <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_const">ac_const</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_var">sc_exp_var</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Evar">Evar</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> *  <span class="id">Hvar</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hvar</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Hwc</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_unop">sc_exp_unop</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">op</span> <span class="id">e1</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eunop">Eunop</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">He1</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">He1</span> [<span class="id">s</span>] <span class="id">H2</span> <span class="id">H8</span>); <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">He1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_lift1">ac_lift1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_binop">sc_exp_binop</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">ann</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e2">e2</a></span> 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Ebinop">Ebinop</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e1">e1</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e2">e2</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">He1</span> <span class="id">He2</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">He1</span> [<span class="id">s1</span>] <span class="id">H4</span> <span class="id">H9</span>); <span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">He1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_lift2">ac_lift2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_fby">sc_exp_fby</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Efby">Efby</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hk</span> <span class="id">Hexps</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">Hexps</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#y">y</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">s0ss</span>) <span class="id">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">clear</span> - <span class="id">H14</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_ignore2">Forall3_ignore2</a></span> <span class="kwd">in</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? <span class="id">_</span> <span class="id">_</span> [? ?]. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.ac_fby1">ac_fby1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hac</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id">Hac</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span>, &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>, &lt;- <span class="id">H5</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_arrow">sc_exp_arrow</a></span>: <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Earrow">Earrow</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hk</span> <span class="id">He0s</span> <span class="id">Hes</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">He0s</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> ≡ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#y">y</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">s0ss</span>) <span class="id">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">clear</span> - <span class="id">H14</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_ignore2">Forall3_ignore2</a></span> <span class="kwd">in</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? <span class="id">_</span> <span class="id">_</span> [? ?]. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.ac_arrow1">ac_arrow1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hac</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id">Hac</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span>, &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>, &lt;- <span class="id">H5</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_when">sc_exp_when</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">x</span> <span class="id">b</span>' <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Ewhen">Ewhen</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">b</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hk</span> <span class="id">Hes</span> <span class="id">Hvar</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">Hes</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hv</span>:=<span class="id">H13</span>). <span class="tactic">eapply</span> <span class="id">Hvar</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">map_nth</span>' <span class="kwd">with</span> (<span class="id">d</span>':=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op.bool_type">Op.bool_type</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clock_of_nclock">clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H6</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">H7</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_when">sc_when</a></span> <span class="kwd">in</span> <span class="id">Hes</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id">H6</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H14</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hwhen</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hwhen</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss0</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id">es</span>)). <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>, &lt;- <span class="id">H7</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_merge">sc_exp_merge</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">x</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Emerge">Emerge</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hk</span> <span class="id">Hvar</span> <span class="id">Hets</span> <span class="id">Hefs</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">Hets</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">Hefs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hv</span>:=<span class="id">H14</span>). <span class="tactic">eapply</span> <span class="id">Hvar</span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">map_nth</span>' <span class="kwd">with</span> (<span class="id">d</span>':=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op.bool_type">Op.bool_type</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clock_of_nclock">clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H7</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">H9</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H8</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">H10</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H7</span> <span class="kwd">in</span> <span class="id">Hets</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span> <span class="kwd">in</span> <span class="id">Hefs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_merge">sc_merge</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_forall3">Forall3_forall3</a></span> <span class="kwd">in</span> <span class="id">H18</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Hmerge</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hmerge</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ts</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id">ets</span>)). <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>, &lt;- <span class="id">H9</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_ite">sc_exp_ite</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eite">Eite</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#efs">efs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hk</span> <span class="id">He</span> <span class="id">Hets</span> <span class="id">Hefs</span> <span class="id">ss</span> <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">Hets</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">map_nth</span>' <span class="kwd">with</span> (<span class="id">d</span>':=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op.bool_type">Op.bool_type</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clock_of_nclock">clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H8</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_In">nth_In</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">k</span>); <span class="tactic">rewrite</span> &lt;- <span class="id">H10</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H8</span> <span class="kwd">in</span> <span class="id">Hets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.ac_ite">ac_ite</a></span> <span class="kwd">with</span> (<span class="id">s</span>:=<span class="id">s</span>) (<span class="id">fs</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">k</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">fs</span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_forall3">Forall3_forall3</a></span> <span class="kwd">in</span> <span class="id">H20</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Hite</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hite</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ts</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id">ets</span>)). <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clocksof_annots">length_clocksof_annots</a></span>, &lt;- <span class="id">H10</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exps_numstreams">sem_exps_numstreams</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exps_anon_sem_exps">sem_exps_anon_sem_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_app">sc_exp_app</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k0</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k0">k0</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k0">k0</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">HscG</span> <span class="id">Hlen</span> <span class="id">Hk</span>' ? <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Arguments&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hse</span>:=<span class="id">H10</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv_all">P_exps_sc_exp_inv_all</a></span> <span class="kwd">in</span> <span class="id">Hse</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Node&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">HwcG</span> <span class="kwd">as</span> [<span class="id">G</span>' (<span class="id">WcIn</span>&amp;<span class="id">WcInOut</span>&amp;<span class="id">_</span>)]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hsc</span>:=<span class="id">H10</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_inside">sc_inside</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Returning&nbsp;aligned&nbsp;values&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_outside">sc_outside</a></span> <span class="kwd">with</span> (<span class="id">ncks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">ann0</span>) <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [? [? ?]] ? ? ? ?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> [? <span class="id">Hck</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>)) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_nth">map_nth</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">HscG</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_app_reset">sc_exp_app_reset</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">f</span> <span class="id">es</span> <span class="id">er</span> <span class="id">ann</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k0</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k0">k0</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.annots">annots</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k0">k0</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#er">er</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ann">ann</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">HscG</span> <span class="id">Hlen</span> <span class="id">Hk</span>' ? <span class="id">Hwc</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">HwcG</span> <span class="kwd">as</span> [<span class="id">G</span>' (<span class="id">WcIn</span>&amp;<span class="id">WcInOut</span>&amp;<span class="id">_</span>)]; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Arguments&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hse</span>:=<span class="id">H11</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv_all">P_exps_sc_exp_inv_all</a></span> <span class="kwd">in</span> <span class="id">Hse</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Returning&nbsp;aligned&nbsp;values&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_outside_mask">sc_outside_mask</a></span> <span class="kwd">with</span> (<span class="id">ncks</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">ann0</span>) <span class="kwd">in</span> <span class="id">H11</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [? [? ?]] ? ? ? ?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H11</span> <span class="kwd">as</span> [? <span class="id">Hck</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hck</span> <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>)) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_nth">map_nth</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Returning&nbsp;aligned&nbsp;values&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">k</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H17</span> <span class="id">k</span>'). <span class="id">inv</span> <span class="id">H17</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H0</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_inside_mask">sc_inside_mask</a></span> <span class="kwd">in</span> <span class="id">WcIn</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">HscG</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp_equation">sc_exp_equation</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">n</span> <span class="id">H</span> <span class="id">b</span> <span class="id">xs</span> <span class="id">es</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.P_exps">LCA.P_exps</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hk</span> <span class="id">Hwc</span> <span class="id">Hin</span> <span class="id">Hsem</span> <span class="id">Hexps</span> ? ? <span class="id">Hin</span>' <span class="id">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Hwc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (<span class="id">Hwc1</span>&amp;<span class="id">_</span>&amp;<span class="id">Hwc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.P_exps_sc_exp_inv">P_exps_sc_exp_inv</a></span> <span class="kwd">in</span> <span class="id">Hexps</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">k</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>) <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> = <span class="id">ck</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">Hwc2</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">HIn</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">HIn</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hk</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.node_NoDup">node_NoDup</a></span> <span class="id">n</span>) <span class="kwd">as</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.NoDupMembers_idck">NoDupMembers_idck</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_det">NoDupMembers_det</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">xs0</span> ≡ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth">nth</a></span> <span class="id">k</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>)) <span class="kwd">as</span> <span class="id">Hequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hvar</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hvar</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.def_stream">def_stream</a></span> <span class="id">b</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hk</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hequiv</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_vars">sc_vars</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">n</span> <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.node_causal">LCA.node_causal</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">n</span> <span class="id">H</span> <span class="id">b</span> <span class="id">HwcG</span> <span class="id">HscG</span> <span class="id">Hwcn</span> <span class="id">Hcau</span> <span class="id">Hins</span> <span class="id">Hsemn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.node_causal_ind">LCA.node_causal_ind</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">P_var</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id">_</span> <span class="id">H</span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P_exp</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id">G</span> <span class="id">_</span> <span class="id">H</span> <span class="id">b</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_const">sc_exp_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_var">sc_exp_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_unop">sc_exp_unop</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_binop">sc_exp_binop</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_fby">sc_exp_fby</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_arrow">sc_exp_arrow</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_when">sc_exp_when</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_merge">sc_exp_merge</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_ite">sc_exp_ite</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_app">sc_exp_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_app_reset">sc_exp_app_reset</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_equation">sc_exp_equation</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">vins</span> <span class="id">vouts</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vins">vins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vouts">vouts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vins">vins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vouts">vouts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xs</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hi1</span> <span class="id">Ho1</span> <span class="id">Hi2</span> <span class="id">Ho2</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> [? ?] ? <span class="id">Hin1</span> <span class="id">Hin2</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>. <span class="tactic">assert</span> (<span class="id">Hwc</span>':=<span class="id">Hwc</span>). <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app_weaken">Forall_app_weaken</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin1</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_equiv">sem_clock_equiv</a></span> <span class="kwd">in</span> *. <span class="tactic">clear</span> <span class="id">Hck</span> <span class="id">Hwc</span> <span class="id">Hwc</span>' <span class="id">Hin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span>. <span class="tactic">specialize</span> (<span class="id">Hsc</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span> <span class="kwd">in</span> <span class="id">Ho1</span>; [|<span class="tactic">eapply</span> <span class="id">Hi1</span>]. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span> <span class="kwd">in</span> <span class="id">Ho2</span>; [|<span class="tactic">eapply</span> <span class="id">Hi2</span>]. <span class="tactic">clear</span> <span class="id">Hi1</span> <span class="id">Hi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">Ho1</span>, <span class="id">Ho2</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Ho1</span>, <span class="id">Ho2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span>)) (<span class="id">ins</span> ++ <span class="id">outs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">n</span>) (<span class="id">vins</span> ++ <span class="id">vouts</span>))) <span class="kwd">as</span> <span class="id">Ho</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eapply</span> <span class="id">Ho1</span>]. <span class="tactic">intros</span> (?&amp;?&amp;?) ? ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_impl">CIStr.sem_var_impl</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. } <span class="tactic">clear</span> <span class="id">Ho1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span>)) (<span class="id">ins</span> ++ <span class="id">outs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream">tr_Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id">n</span>) (<span class="id">vins</span> ++ <span class="id">vouts</span>))) <span class="kwd">as</span> <span class="id">Ho</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eapply</span> <span class="id">Ho2</span>]. <span class="tactic">intros</span> (?&amp;?&amp;?) ? ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_impl">CIStr.sem_var_impl</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. } <span class="tactic">clear</span> <span class="id">Ho2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, <span class="id">_</span>) =&gt; <span class="kwd">forall</span> <span class="id">v</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span> <span class="id">n</span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant">sem_var_instant</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_history">CIStr.tr_history</a></span> <span class="id">H</span>' <span class="id">n</span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id">ins</span> ++ <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id">outs</span>)) <span class="kwd">as</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">Ho</span>; [|<span class="tactic">eapply</span> <span class="id">Ho</span>']. <span class="tactic">clear</span> <span class="id">Ho</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">Ho</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> (?&amp;?&amp;?) (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">Hvar</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.sem_var_instant_det">sem_var_instant_det</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>; <span class="tactic">subst</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">Ho</span> <span class="id">Ho</span>'.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">b</span> <span class="id">b0</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hin1</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">Hsc</span>; [<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Sbase">IStr.Sbase</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Son">IStr.Son</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Son_abs1">IStr.Son_abs1</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr.Son_abs2">IStr.Son_abs2</a></span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">eapply</span> <span class="id">IHHin1</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">H5</span>. <span class="tactic">eapply</span> <span class="id">IHHin1</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">specialize</span> (<span class="id">IHHin1</span> <span class="id">b0</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)). <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.tr_Stream_const">tr_Stream_const</a></span> <span class="kwd">in</span> <span class="id">IHHin1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sem_clocks_det</span>' : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span> <span class="id">ins</span> <span class="id">vins</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vins">vins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vins">vins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xs</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hi1</span> <span class="id">Hi2</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span> <span class="kwd">in</span> <span class="id">Hck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span>; <span class="tactic">split</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [? ?] ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_var_In">sem_var_In</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">vs</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In_nth">In_nth</a></span> <span class="kwd">with</span> (<span class="id">d</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>) <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">n</span> [<span class="id">Hn</span> <span class="id">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hn</span>. 2,3:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hn</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_1">Env.find_1</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.find_In">Env.find_In</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#const">Streams.const</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.absent">absent</a></span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_equation_In">sem_equation_In</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">eqs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.vars_defined">vars_defined</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eqs">eqs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">eqs</span>; <span class="tactic">intros</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_In">sem_var_In</a></span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_node_restrict">sem_node_restrict</a></span> : <span class="kwd">forall</span> <span class="id">n</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>))) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">H</span>' := <span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.dom">Env.dom</a></span> <span class="id">H</span>' (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ys">ys</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof68')">Proof with</div>
<div class="proofscript" id="proof68">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hins</span> <span class="id">Houts</span> <span class="id">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="kwd">as</span> <span class="id">H</span>'; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Environment.html#Env.dom_lb_restrict_dom">Env.dom_lb_restrict_dom</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.dom_lb_intro">Env.dom_lb_intro</a></span>. <span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|[<span class="id">Hin</span>|<span class="id">Hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_In">sem_var_In</a></span> <span class="kwd">in</span> <span class="id">Hins</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hins</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_defd">n_defd</a></span> <span class="id">n</span>) <span class="kwd">as</span> <span class="id">Hdef</span>; <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.vars_defined">vars_defined</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id">n</span>))) <span class="kwd">as</span> <span class="id">HIn</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_in">Permutation_in</a></span> <span class="kwd">in</span> <span class="id">Hdef</span>;[<span class="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_In">sem_equation_In</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_In">sem_var_In</a></span> <span class="kwd">in</span> <span class="id">Houts</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Houts</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ((?&amp;?&amp;?)&amp;?&amp;?); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ((?&amp;?&amp;?)&amp;?&amp;?); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_var_restrict">sem_var_restrict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equations_restrict">sem_equations_restrict</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#map_fst_idck">map_fst_idck</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_var_inv_intro">sc_var_inv_intro</a></span> : <span class="kwd">forall</span> <span class="id">n</span> <span class="id">H</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hvar</span> <span class="id">Hclock</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span>, <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hclock</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">Hclock</span>; [|<span class="tactic">eapply</span> <span class="id">Hvar</span>]. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">Hclock</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hclock</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?&amp;?) ? (?&amp;?&amp;?&amp;?) ? ? ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#In_idck_exists">In_idck_exists</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> (?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.node_NoDup">node_NoDup</a></span> <span class="id">n</span>) <span class="kwd">as</span> <span class="id">Hnd</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hnd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_det">NoDupMembers_det</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">auto</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>; <span class="tactic">left</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="LCLOCKSEMANTICS.l_sem_node_clock">l_sem_node_clock</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.node_causal">LCA.node_causal</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord.Ordered_nodes">Lord.Ordered_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof70')">Proof with</div>
<div class="proofscript" id="proof70">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">G</span> <span class="kwd">as</span> [|<span class="id">node</span>]. <span class="id">now</span> <span class="tactic">inversion</span> 5.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hcaus</span> <span class="id">Hord</span> <span class="id">Hwc</span> ????? <span class="id">Hsem</span> <span class="id">Hfind</span> <span class="id">Hinv</span> <span class="id">Houtv</span> <span class="id">Hscin</span>. <span class="tactic">assert</span> (<span class="id">Hsem</span>' := <span class="id">Hsem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord.find_node_not_Is_node_in">Lord.find_node_not_Is_node_in</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hord</span> <span class="id">Hfind</span>) <span class="kwd">as</span> <span class="id">Hnini</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hsem</span>' <span class="kwd">as</span> [? ? ? ? ? ? <span class="id">Hfind</span>' <span class="id">Hins</span> <span class="id">Houts</span> <span class="id">Heqs</span> <span class="id">Hbk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_name">n_name</a></span> <span class="id">node</span>) <span class="id">f</span>) <span class="id">eqn</span>:<span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hfind</span>'. <span class="tactic">rewrite</span> <span class="id">Hnf</span> <span class="kwd">in</span> <span class="id">Hfind</span>'. <span class="id">inv</span> <span class="id">Hfind</span>; <span class="id">inv</span> <span class="id">Hfind</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.Forall_sem_equation_global_tl">Forall_sem_equation_global_tl</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hord</span> <span class="kwd">as</span> [|? ? <span class="id">Hord</span>'' <span class="id">Hnneqs</span> <span class="id">Hnn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hwc</span> <span class="kwd">as</span> [|?? <span class="id">Hwcg</span> <span class="id">Hwcn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hcaus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hwcn</span>':=<span class="id">Hwcn</span>). <span class="tactic">destruct</span> <span class="id">Hwcn</span>' <span class="kwd">as</span> (?&amp;?&amp;<span class="id">_</span>&amp;?).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;sem_clock&nbsp;H0&nbsp;-&gt;&nbsp;sem_clock&nbsp;H&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span> <span class="kwd">with</span> (<span class="id">ins</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n0</span>) <span class="kwd">in</span> <span class="id">Hscin</span>; <span class="tactic">eauto</span>. 2:<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation_app_comm</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span> <span class="id">Houtv</span> <span class="id">Hinv</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;restrict&nbsp;H0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_node_restrict">sem_node_restrict</a></span> <span class="kwd">in</span> <span class="id">Heqs</span> <span class="kwd">as</span> (<span class="id">Hdom</span>&amp;<span class="id">Hins</span>'&amp;<span class="id">Houts</span>'&amp;<span class="id">Heqs</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Velus.Environment.html#Env.restrict">Env.restrict</a></span> <span class="id">H0</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n0</span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id">n0</span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n0</span>))) <span class="kwd">as</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span> <span class="kwd">with</span> (<span class="id">ins</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n0</span>) <span class="kwd">in</span> <span class="id">Hscin</span>; <span class="tactic">eauto</span>. 2:<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation_app_comm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H0</span> <span class="id">HeqH</span> <span class="id">Hins</span> <span class="id">Houts</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;sem_equation&nbsp;-&gt;&nbsp;sem_equation_anon&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equations_sem_equations_anon">sem_equations_sem_equations_anon</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>' <span class="kwd">as</span> (<span class="id">H</span>'&amp;<span class="id">Hr1</span>&amp;<span class="id">_</span>&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_nodup">n_nodup</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id">n0</span>)) <span class="id">xs</span>) <span class="kwd">as</span> <span class="id">Hins</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id">H</span>') (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id">n0</span>)) <span class="id">os</span>) <span class="kwd">as</span> <span class="id">Houts</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clocks_det">sem_clocks_det</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_vars">sc_vars</a></span> <span class="kwd">in</span> <span class="id">Hwcg</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hwcg</span>. <span class="tactic">destruct</span> <span class="id">Hwcg</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Houts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Houts</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Houts</span>. <span class="tactic">eapply</span> <span class="id">Forall2_ignore2</span>' <span class="kwd">in</span> <span class="id">Houts</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Houts</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">Houts</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hr1</span> <span class="id">Houts</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?&amp;?) ???(?&amp;?); <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span> <span class="kwd">in</span> <span class="id">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">i</span>, (<span class="id">t</span>, <span class="id">c</span>)); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv_intro">sc_var_inv_intro</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?) ? ? ? ?. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_refines">sem_clock_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node_cons">sem_node_cons</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span> <span class="kwd">in</span> <span class="id">Hord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord.Ordered_nodes_append">Lord.Ordered_nodes_append</a></span> <span class="kwd">in</span> <span class="id">Hord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hcaus</span>. <span class="tactic">eapply</span> <span class="id">IHG</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">sc_var_inv</span>' <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">x</span>, <span class="id">ck</span>) =&gt; <span class="tactic">exists</span> <span class="id">xs</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ck">ck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sc_var_inv</span>'<span class="id">_sc_var_inv</span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hndup</span> <span class="id">Hinv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">sc_var_inv</span>' <span class="kwd">in</span> <span class="id">Hinv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?) <span class="id">Hin</span> (?&amp;<span class="id">Hvar</span>&amp;<span class="id">Hck</span>) ?? <span class="id">Hin</span>' <span class="id">Hvar</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_det">NoDupMembers_det</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">Hvar</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">Hvar</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sc_var_inv_sc_var_inv</span>' : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="tactic">exists</span> <span class="id">v</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#v">v</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hvars</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">sc_var_inv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>, <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>; [|<span class="tactic">eapply</span> <span class="id">Hvars</span>]. <span class="tactic">clear</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?) <span class="id">Hin</span> ((<span class="id">v</span>&amp;<span class="id">Hvar</span>)&amp;<span class="id">Hsc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">v</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id">sc_var_inv</span>'<span class="id">_refines</span> : <span class="kwd">forall</span> <span class="id">env</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.refines">Env.refines</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id">H</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id">H</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Href</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">sc_var_inv</span>' <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?) (?&amp;<span class="id">Hvar</span>&amp;<span class="id">Hck</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">x</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_var_refines">sem_var_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_refines">sem_clock_refines</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">We can build an sc_var_inv' once inside the node </div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sc_node_sc_var_inv</span>' : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">n</span> <span class="id">H</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.node_causal">LCA.node_causal</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwG</span> <span class="id">Hsc</span> <span class="id">Hwcn</span> <span class="id">Hnode</span> <span class="id">Hins</span> <span class="id">Hscin</span> <span class="id">Heqs</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_var_inv_sc_var_inv</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#map_fst_idck">map_fst_idck</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_equation">sem_equation</a></span> <span class="id">G</span> <span class="id">H</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id">xs</span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_eqs">n_eqs</a></span> <span class="id">n</span>)) <span class="kwd">as</span> <span class="id">Heqs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon_sem_equation">sem_equation_anon_sem_equation</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">Hins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> ? (?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node_sem_vars">sem_node_sem_vars</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>' <span class="kwd">as</span> (?&amp;<span class="id">Hvars</span>); <span class="tactic">eauto</span>. 2:<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_defd">n_defd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> ? (?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node_sem_outs">sem_node_sem_outs</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>' <span class="kwd">as</span> (?&amp;<span class="id">Hvars</span>); <span class="tactic">eauto</span>. 2:<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_defd">n_defd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> ? (?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#map_fst_idck">map_fst_idck</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_vars">sc_vars</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv_intro">sc_var_inv_intro</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.wc_exp_Is_free_left">wc_exp_Is_free_left</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">e</span> <span class="id">x</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.Is_free_left">LCA.Is_free_left</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">In_InMembers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">solve_forall_exists</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.Is_free_left_list_Exists">LCA.Is_free_left_list_Exists</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> (?&amp;<span class="id">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">H1</span>; [|<span class="tactic">eapply</span> <span class="id">H2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Exists">Forall_Exists</a></span> <span class="kwd">in</span> <span class="id">H1</span>; [|<span class="tactic">eapply</span> <span class="id">H3</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Exists_exists">Exists_exists</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (?&amp;?&amp;(?&amp;?)&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hfree</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hfree</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span> <span class="tactic">destruct</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span> <span class="id">solve_forall_exists</span> <span class="id">H</span> <span class="id">H4</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> [<span class="id">Hex</span>|<span class="id">Hex</span>]. <span class="id">solve_forall_exists</span> <span class="id">H</span> <span class="id">H4</span> <span class="id">Hex</span>. <span class="id">solve_forall_exists</span> <span class="id">H0</span> <span class="id">H5</span> <span class="id">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [[? <span class="id">Hex</span>]|<span class="id">Hex</span>]; <span class="tactic">subst</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solve_forall_exists</span> <span class="id">H</span> <span class="id">H4</span> <span class="id">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> [[? <span class="id">Hex</span>]|[<span class="id">Hex</span>|<span class="id">Hex</span>]]; <span class="tactic">subst</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solve_forall_exists</span> <span class="id">H</span> <span class="id">H5</span> <span class="id">Hex</span>. <span class="id">solve_forall_exists</span> <span class="id">H0</span> <span class="id">H6</span> <span class="id">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> [[? <span class="id">Hex</span>]|[<span class="id">Hex</span>|<span class="id">Hex</span>]]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solve_forall_exists</span> <span class="id">H</span> <span class="id">H6</span> <span class="id">Hex</span>. <span class="id">solve_forall_exists</span> <span class="id">H0</span> <span class="id">H7</span> <span class="id">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span> <span class="id">solve_forall_exists</span> <span class="id">H0</span> <span class="id">H5</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H13</span> <span class="kwd">as</span> [<span class="id">Hex</span>|<span class="id">Hex</span>]; <span class="tactic">eauto</span>. <span class="id">solve_forall_exists</span> <span class="id">H0</span> <span class="id">H5</span> <span class="id">Hex</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">After getting sc_var_inv', we can easily give an alignment lemma for expressions </div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exp">sc_exp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">HscG</span> <span class="id">Hnd</span> <span class="id">Hinv</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_var_inv</span>'<span class="id">_sc_var_inv</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">k</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> &lt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.numstreams">numstreams</a></span> <span class="id">e</span> -&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_inv">sc_exp_inv</a></span> <span class="id">G</span> <span class="id">env0</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA.exp_causal_ind">LCA.exp_causal_ind</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">P_var</span>:=<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_var_inv">sc_var_inv</a></span> <span class="id">env0</span> <span class="id">H</span> <span class="id">b</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_const">sc_exp_const</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_var">sc_exp_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_unop">sc_exp_unop</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_binop">sc_exp_binop</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_fby">sc_exp_fby</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_arrow">sc_exp_arrow</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_when">sc_exp_when</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_merge">sc_exp_merge</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_ite">sc_exp_ite</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_app">sc_exp_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp_app_reset">sc_exp_app_reset</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> ? <span class="id">Hcau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.wc_exp_Is_free_left">wc_exp_Is_free_left</a></span> <span class="kwd">in</span> <span class="id">Hcau</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vs</span> = <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.numstreams">numstreams</a></span> <span class="id">e</span>) <span class="kwd">as</span> <span class="id">Hlen</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon_sem_exp">sem_exp_anon_sem_exp</a></span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_exp_numstreams">sem_exp_numstreams</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall2">Forall2_forall2</a></span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> ? ? ? ? ? <span class="id">Hlen</span> <span class="id">Hnth1</span> <span class="id">Hnth2</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span> <span class="kwd">in</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H0</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id">_</span> <span class="id">Hwc</span> <span class="id">Hsem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_indep">nth_indep</a></span> <span class="kwd">with</span> (<span class="id">d</span>':=<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>). 2:<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">map_nth</span>'; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_exps">sc_exps</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">env</span> <span class="id">es</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">HscG</span> <span class="id">Hnd</span> <span class="id">Hinv</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">es</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">ss</span>) <span class="kwd">as</span> <span class="id">Hlength</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Forall2_ignore2</span>' <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.clocksof">clocksof</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#flat_map_concat_map">flat_map_concat_map</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_concat">Forall2_concat</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? (<span class="id">Hwc</span>&amp;<span class="id">Hsem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exp">sc_exp</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id">sc_inside</span>' : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">env</span> <span class="id">es</span> <span class="id">ss</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_inside">sc_inside</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exps">sc_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id">sc_inside_mask</span>' : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">Hi</span> <span class="id">b</span> <span class="id">env</span> <span class="id">es</span> <span class="id">ss</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">n</span> <span class="id">k</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#env">env</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Hi">Hi</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#k">k</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#rs">rs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ss">ss</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_inside_mask">sc_inside_mask</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_exps">sc_exps</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_clock_inputs">sem_clock_inputs</a></span> (<span class="id">G</span> : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.global">global</a></span>) (<span class="id">f</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id">xs</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux.value">value</a></span>)): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xs">xs</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.sem_clock_inputs_cons">sem_clock_inputs_cons</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">f</span> <span class="id">n</span> <span class="id">ins</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> &lt;&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs">sem_clock_inputs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs">sem_clock_inputs</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> :: <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hname</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span> (<span class="id">H</span> &amp; <span class="id">n</span>' &amp; <span class="id">Hfind</span> &amp;?&amp;?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H</span>, <span class="id">n</span>'; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.find_node_other">find_node_other</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.find_node_other">find_node_other</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKSEMANTICS.inputs_clocked_vars">inputs_clocked_vars</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">G</span> <span class="id">H</span> <span class="id">f</span> <span class="id">ins</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs">sem_clock_inputs</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> :: <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span>) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> = <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span>) (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.idents">idents</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#xc">xc</a></span>)) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * (<span class="id">H</span>'&amp;<span class="id">n</span>'&amp; <span class="id">Hfind</span> &amp; <span class="id">Hv</span> &amp; <span class="id">Hscin</span>) <span class="id">Hnf</span> <span class="id">Wcin</span> <span class="id">Hins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hnf</span>, <span class="id"><a href="Velus.Common.Common.html#ident_eqb_refl">ident_eqb_refl</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="id">inv</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.sem_var_env_eq">sem_var_env_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hins</span> <span class="id">Hv</span>) <span class="kwd">as</span> <span class="id">Horel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.idck_idents">idck_idents</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hv</span>, <span class="id">Hins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_same_find">sem_clock_same_find</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> <span class="id">Wcin</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H0</span>; [|<span class="tactic">eauto</span>]. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.NoDupMembers_fresh_in_anon_in">NoDupMembers_fresh_in_anon_in</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> ++ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.anon_in">anon_in</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Another version of semantics equivalence, including sem_clock_inputs </h2>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_ref">sc_ref</a></span>.<br/>
<br/>
<div class="doc">Functional equivalence for nodes </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.node_sc_refines">node_sc_refines</a></span> <span class="id">G</span> <span class="id">G</span>' <span class="id">f</span> : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ins</span> <span class="id">outs</span>, (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs">sem_clock_inputs</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs">sem_clock_inputs</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> /\ <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node">sem_node</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#ins">ins</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#outs">outs</a></span>)).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKSEMANTICS.global_sc_refines">global_sc_refines</a></span> <span class="id">G</span> <span class="id">G</span>' : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.node_sc_refines">node_sc_refines</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">ndup_l</span> <span class="id">H</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">ndup_r</span> <span class="id">H</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Permutation_swap">Permutation_swap</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">NoDupMembers_fresh_in_anon_in</span> <span class="id">NoDupMembers_fresh_in</span>' <span class="id">NoDupMembers_anon_in</span>' <span class="id">nth_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#sem_exp_anon">sem_exp_anon</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_ref_sem_exp">sc_ref_sem_exp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">vars</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.global_sc_refines">global_sc_refines</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_exp_anon">sem_exp_anon</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vs">vs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof83')">Proof with</div>
<div class="proofscript" id="proof83">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Heq</span> <span class="id">HwcG</span> <span class="id">Hsc</span> <span class="id">Hvars</span> <span class="id">Hwc</span> <span class="id">Hinv</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id">Heq</span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>) <span class="id">vs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Heq</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H14</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H2</span>; <span class="tactic">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_inside</span>'... <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">HwcG</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">_</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>... <span class="tactic">eapply</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H19</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Heq</span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id">k</span> <span class="id">bs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">ss</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr.mask">mask</a></span> <span class="id">k</span> <span class="id">bs</span>) <span class="id">vs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Heq</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H19</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">H2</span>. <span class="tactic">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sc_inside_mask</span>'... <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> [? [? <span class="id">_</span>]]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.sc_ref_sem_equation">sc_ref_sem_equation</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">vars</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.global_sc_refines">global_sc_refines</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_nodes">sc_nodes</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sc_var_inv</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_equation_anon">sem_equation_anon</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClockSemantics.html#H">H</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#b">b</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#eq">eq</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">H</span> <span class="id">b</span> <span class="id">vars</span> [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Heq</span> <span class="id">HwcG</span> <span class="id">Hsc</span> <span class="id">Hndup</span> [<span class="id">Hwc</span> <span class="id">_</span>] <span class="id">Hinv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rewrite_Forall_forall</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_ref_sem_exp">sc_ref_sem_exp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.global_sc_ref_nil">global_sc_ref_nil</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.global_sc_refines">global_sc_refines</a></span> [] [].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">Hsem</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKSEMANTICS.global_sc_ref_cons">global_sc_ref_cons</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">n</span> <span class="id">n</span>' <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>::<span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord.Ordered_nodes">Ordered_nodes</a></span> (<span class="id">n</span>'::<span class="id">G</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span> = <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_name">n_name</a></span> <span class="id">n</span>' = <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.global_sc_refines">global_sc_refines</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.node_sc_refines">node_sc_refines</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>::<span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span>) (<span class="id">n</span>'::<span class="id">G</span>') <span class="id"><a href="Velus.Lustre.LClockSemantics.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.global_sc_refines">global_sc_refines</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#n">n</a></span>::<span class="id"><a href="Velus.Lustre.LClockSemantics.html#G">G</a></span>) (<span class="id">n</span>'::<span class="id">G</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof86')">Proof with</div>
<div class="proofscript" id="proof86">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">n</span> <span class="id">n</span>' <span class="id">f</span> <span class="id">Hord1</span> <span class="id">Hord2</span> <span class="id">Hname1</span> <span class="id">Hname2</span> <span class="id">Hglob</span> <span class="id">Hnode</span> <span class="id">f0</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> (<span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn.n_name">n_name</a></span> <span class="id">n</span>) <span class="id">f0</span>) <span class="id">eqn</span>:<span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id">Hnode</span> <span class="id">ins</span> <span class="id">outs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hnode</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs_cons">sem_clock_inputs_cons</a></span>... <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node_cons_iff">sem_node_cons_iff</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hglob</span> <span class="id">f0</span> <span class="id">ins</span> <span class="id">outs</span>). <span class="tactic">apply</span> <span class="id">Hglob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sem_clock_inputs_cons">sem_clock_inputs_cons</a></span>... <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem.sem_node_cons_iff">sem_node_cons_iff</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS.sc_ref">sc_ref</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS">LCLOCKSEMANTICS</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LClockSemanticsFun">LClockSemanticsFun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ids</span> : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Op</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Syn</span> : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Clo</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LCA</span>        : <span class="id"><a href="Velus.Lustre.LCausality.html#LCAUSALITY">LCAUSALITY</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Lord</span> : <span class="id"><a href="Velus.Lustre.LOrdered.html#LORDERED">LORDERED</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CStr</span> : <span class="id"><a href="Velus.CoindStreams.html#COINDSTREAMS">COINDSTREAMS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IStr</span> : <span class="id"><a href="Velus.IndexedStreams.html#INDEXEDSTREAMS">INDEXEDSTREAMS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span> : <span class="id"><a href="Velus.Lustre.LSemantics.html#LSEMANTICS">LSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr">CStr</a></span>)<br/>
&lt;: <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS">LCLOCKSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo">Clo</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr">CStr</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem">Sem</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS">LCLOCKSEMANTICS</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Syn">Syn</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Clo">Clo</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#CStr">CStr</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#Sem">Sem</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LClockSemanticsFun">LClockSemanticsFun</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
