
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module CompCertLib</title>
<meta name="description" content="Documentation of Coq module CompCertLib" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module CompCertLib</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html">lib.Coqlib</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html">lib.Maps</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html">cfrontend.Clight</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html">cfrontend.Ctypes</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html">lib.Integers</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Values.html">common.Values</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html">common.Errors</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html">common.Memory</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">List.ListNotations</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html">Classes.RelationClasses</a></span>.<br/>
<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<br/>
<div class="doc">Conversions. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDup_norepet">NoDup_norepet</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} (<span class="id">l</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#l">l</a></span> &lt;-&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">split</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">IHl</span>; <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">IHl</span>; <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_disjoint">NoDupMembers_disjoint</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#l1">l1</a></span> ++ <span class="id"><a href="Velus.Common.CompCertLib.html#l2">l2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#l1">l1</a></span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#l2">l2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">H</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hx</span> <span class="id">Hy</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hx</span>; <span class="tactic">destruct</span> <span class="id">Hx</span> <span class="kwd">as</span> ((<span class="id">x</span>', <span class="id">tx</span>) &amp; <span class="id">Ex</span> &amp; <span class="id">Hx</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hy</span>; <span class="tactic">destruct</span> <span class="id">Hy</span> <span class="kwd">as</span> ((<span class="id">y</span>', <span class="id">ty</span>) &amp; <span class="id">Ey</span> &amp; <span class="id">Hy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">E</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_split">in_split</a></span> <span class="kwd">in</span> <span class="id">Hx</span>; <span class="tactic">destruct</span> <span class="id">Hx</span> <span class="kwd">as</span> (<span class="id">lx</span> &amp; <span class="id">lx</span>' &amp; <span class="id">Hx</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_split">in_split</a></span> <span class="kwd">in</span> <span class="id">Hy</span>; <span class="tactic">destruct</span> <span class="id">Hy</span> <span class="kwd">as</span> (<span class="id">ly</span> &amp; <span class="id">ly</span>' &amp; <span class="id">Hy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#nodupmembers_cons">nodupmembers_cons</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">Notin</span>]; <span class="tactic">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>; <span class="tactic">right</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>; <span class="tactic">right</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_eq">inmembers_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="list_drop_skipn">list_drop_skipn</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} (<span class="id">xs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_drop">Coqlib.list_drop</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#skipn">skipn</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span>, <span class="id">n</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="list_forall2_Forall2">list_forall2_Forall2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span> <span class="id">B</span>} <span class="id">P</span> (<span class="id">xs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) (<span class="id">ys</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_forall2">Coqlib.list_forall2</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span> &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">split</span>; <span class="tactic">inversion</span> 1; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_forall2_nil">Coqlib.list_forall2_nil</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HH</span>; <span class="tactic">inversion_clear</span> <span class="id">HH</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id">IH</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The error monad. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Mmaps">Mmaps</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">A</span> <span class="id">B</span> <span class="id">S</span>: <span class="kwd">Type</span>}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="mmaps">mmaps</a></span> (<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> * <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span>)) : <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fix</span> <span class="id">mmaps</span> (<span class="id">s</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span>) (<span class="id">xs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.A">A</a></span>) {<span class="kwd">struct</span> <span class="id">xs</span>} : <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">x</span> :: <span class="id">xs</span>' =&gt; <span class="tactic">do</span> (<span class="id">s</span>', <span class="id">y</span>) &lt;- <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> (<span class="id">s</span>'', <span class="id">ys</span>) &lt;- <span class="id"><a href="Velus.Common.CompCertLib.html#mmaps">mmaps</a></span> <span class="id">s</span>' <span class="id">xs</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>'', <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="mmaps_spec">mmaps_spec</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span> -&gt; <span class="kwd">Prop</span>) (<span class="id">R</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">I</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span> -&gt; <span class="kwd">Prop</span>) (<span class="id">IS</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> * <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span>)) <span class="id">xs</span> <span class="id">ys</span> <span class="id">s</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mmaps">mmaps</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#Reflexive">Reflexive</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#Transitive">Transitive</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> [] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#IS">IS</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span> <span class="id">s</span>' <span class="id">y</span>, <span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>' <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">r</span>,  <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#r">r</a></span>  <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>  -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#r">r</a></span> <span class="id">s</span>' <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">t</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id">s</span>' <span class="id">t</span>' -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">t</span>' <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">s</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#IS">IS</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>' <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> /\ <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>' /\ <span class="id"><a href="Velus.Common.CompCertLib.html#IS">IS</a></span> <span class="id">s</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">y</span> <span class="id">ys</span> <span class="id">s</span> <span class="id">s</span>' <span class="id">s</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>' <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id">s</span>' <span class="id">s</span>'') <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id">s</span>' <span class="id">s</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#P">P</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>') <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span> /\ <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">s</span>' /\ <span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span> /\ <span class="id"><a href="Velus.Common.CompCertLib.html#IS">IS</a></span> <span class="id">s</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">R</span> <span class="id">I</span> <span class="id">IS</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">s</span> <span class="id">s</span>' <span class="id">Hmm</span> <span class="id">HRefl</span> <span class="id">HTrans</span> <span class="id">HInil</span> <span class="id">HIS0</span> <span class="id">HPR</span> <span class="id">Hf</span> <span class="id">HPI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">s</span> <span class="id">s</span>' <span class="id">Hf</span> <span class="id">Hmm</span> <span class="id">HIS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">inversion_clear</span> 2; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ys</span> <span class="id">s</span> <span class="id">s</span>' <span class="id">Hf</span> <span class="id">Hmm</span> <span class="id">HIS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">Hmm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">f</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">_</span>, ?<span class="id">w</span>) |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">w</span> <span class="id">into</span> <span class="id">y</span>; <span class="tactic">apply</span> <span class="id">Hf</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">HP</span> &amp; <span class="id">HR</span>' &amp; <span class="id">HIS</span>'); <span class="tactic">auto</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Common.CompCertLib.html#mmaps">mmaps</a></span> <span class="id">_</span> ?<span class="id">s</span> <span class="id">_</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">_</span>, ?<span class="id">ws</span>) |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">s</span> <span class="id">into</span> <span class="id">t</span>, <span class="id">ws</span> <span class="id">into</span> <span class="id">ys</span>; <span class="tactic">apply</span> <span class="id">IH</span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">Hfa</span> &amp; <span class="id">HR</span> &amp; <span class="id">HI</span> &amp; <span class="id">HIS</span>'') <span class="kwd">end</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id">now</span> <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id">Hf</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id">HTrans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">HR</span>' <span class="id">HR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id">HPR</span> <span class="kwd">in</span> <span class="id">HP</span>; <span class="tactic">destruct</span> <span class="id">HP</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">y</span>' <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">with</span> (1:=<span class="id">Hfa</span>) <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">HPR</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">HP1</span> &amp; <span class="id">HP2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id">HP1</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="mmaps_weak_spec">mmaps_weak_spec</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">I</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="kwd">Prop</span>) (<span class="id">R</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> * <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span>)) <span class="id">xs</span> <span class="id">s</span> <span class="id">ys</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mmaps">mmaps</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">s</span> <span class="id">y</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> <span class="id">s</span>' /\ <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#I">I</a></span> <span class="id">s</span>' /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">simpl</span>; <span class="tactic">intros</span> * <span class="id">Hmm</span> <span class="id">HI</span> <span class="id">Hone</span>; <span class="id">monadInv</span> <span class="id">Hmm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">Hf</span>:<span class="id">f</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hone</span> <span class="kwd">with</span> (1:=<span class="id">HI</span>) <span class="kwd">in</span> <span class="id">Hf</span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> <span class="id">Hf</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_cons2">Forall_cons2</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#and_comm">and_comm</a></span> (<span class="id">R</span> <span class="id">x1</span>)), &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#and_assoc">and_assoc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">mmaps_weak_spec</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">R</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.S">S</a></span> * <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps.B">B</a></span>)) <span class="id">xs</span> <span class="id">s</span> <span class="id">ys</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mmaps">mmaps</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">s</span> <span class="id">y</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">s</span>', <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#R">R</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hmm</span> <span class="id">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#mmaps_weak_spec">mmaps_weak_spec</a></span> <span class="kwd">with</span> (<span class="id">I</span>:=<span class="kwd">fun</span> <span class="id">s</span>=&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Common.CompCertLib.html#Mmaps">Mmaps</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfoldl">mfoldl</a></span> {<span class="id">A</span> <span class="id">B</span>: <span class="kwd">Type</span>} (<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) : <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fix</span> <span class="id">mfoldl</span> <span class="id">s</span> <span class="id">xs</span> {<span class="kwd">struct</span> <span class="id">xs</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">x</span> :: <span class="id">xs</span>' =&gt; <span class="tactic">do</span> <span class="id">s</span>' &lt;- <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mfoldl">mfoldl</a></span> <span class="id">s</span>' <span class="id">xs</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="OK_OK">OK_OK</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} (<span class="id">x</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> &lt;-&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HH</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>. <span class="id">now</span> <span class="id">monadInv</span> <span class="id">HH</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mmapacc">mmapacc</a></span> {<span class="id">A</span> <span class="id">S</span> <span class="id">T</span>: <span class="kwd">Type</span>} (<span class="id">acc</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#S">S</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#T">T</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#S">S</a></span>) (<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#T">T</a></span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="Velus.Common.CompCertLib.html#S">S</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#S">S</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fix</span> <span class="id">mmapacc</span> (<span class="id">s</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#S">S</a></span>) (<span class="id">xs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) {<span class="kwd">struct</span> <span class="id">xs</span>} : <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#S">S</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">x</span> :: <span class="id">xs</span>' =&gt; <span class="tactic">do</span> <span class="id">r</span> &lt;- <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mmapacc">mmapacc</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#acc">acc</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#r">r</a></span>) <span class="id">xs</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mmap_skipn">mmap_skipn</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span> <span class="id">B</span>} (<span class="id">f</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span>) <span class="id">xs</span> <span class="id">ys</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap">mmap</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap">mmap</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#skipn">skipn</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#skipn">skipn</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ys">ys</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">inversion_clear</span> 1; <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#skipn_nil">skipn_nil</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ys</span> <span class="id">n</span> <span class="id">Hmm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">monadInv</span> <span class="id">Hmm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;2:<span class="id">now</span> <span class="tactic">apply</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">EQ1</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">nat</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mmapacc_plus_shift">mmapacc_plus_shift</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">f</span> (<span class="id">xs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) <span class="id">m1</span> <span class="id">m2</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mmapacc">mmapacc</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#m1">m1</a></span> + <span class="id"><a href="Velus.Common.CompCertLib.html#m2">m2</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mmapacc">mmapacc</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m1">m1</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> - <span class="id"><a href="Velus.Common.CompCertLib.html#m2">m2</a></span>) /\ <span class="id"><a href="Velus.Common.CompCertLib.html#m2">m2</a></span> &lt;= <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">intros</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">n</span> <span class="id">Hm</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">monadInv</span> <span class="id">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">subst</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#OK_OK">OK_OK</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Plus.html#plus_comm">Plus.plus_comm</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Plus.html#plus_assoc">Plus.plus_assoc</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Plus.html#plus_comm">Plus.plus_comm</a></span> <span class="id">x0</span> <span class="id">m1</span>) <span class="kwd">in</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IH</span> <span class="kwd">in</span> <span class="id">EQ0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">More monad syntax and tactics </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="bind22">bind22</a></span> {<span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">D</span>: <span class="kwd">Type</span>} (<span class="id">f</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> * (<span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span> * <span class="id"><a href="Velus.Common.CompCertLib.html#C">C</a></span>))) (<span class="id">g</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#C">C</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#D">D</a></span>) : <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#D">D</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id">x</span>, (<span class="id">y</span>, <span class="id">z</span>)) =&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#g">g</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#Error">Error</a></span> <span class="id">msg</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#Error">Error</a></span> <span class="id">msg</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="DoNotation">DoNotation</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "'<span class="tactic">do</span>' ( <span class="id">X</span> , ( <span class="id">Y</span> , <span class="id">Z</span> ) ) &lt;- <span class="id">A</span> ; <span class="id">B</span>" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CompCertLib.html#bind22">bind22</a></span> <span class="id">A</span> (<span class="kwd">fun</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">Z</span> =&gt; <span class="id">B</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">Y</span> <span class="id">ident</span>, <span class="id">Z</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id">error_monad_scope</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Common.CompCertLib.html#DoNotation">DoNotation</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind22_inversion">bind22_inversion</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">D</span>: <span class="kwd">Type</span>} (<span class="id">f</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>*(<span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span>*<span class="id"><a href="Velus.Common.CompCertLib.html#C">C</a></span>))) (<span class="id">g</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#C">C</a></span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#D">D</a></span>) {<span class="id">z</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#D">D</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#bind22">bind22</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#g">g</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">w</span>, <span class="tactic">exists</span> <span class="id">x</span>, <span class="tactic">exists</span> <span class="id">y</span>, <span class="id"><a href="Velus.Common.CompCertLib.html#f">f</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#w">w</a></span>, (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span>)) /\ <span class="id"><a href="Velus.Common.CompCertLib.html#g">g</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#w">w</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#y">y</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="tactic">until</span> <span class="id">z</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">exists</span> <span class="id">a</span>; <span class="tactic">exists</span> <span class="id">b</span>; <span class="tactic">exists</span> <span class="id">c</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">monadInv2</span> <span class="id">H</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">type</span> <span class="id">of</span> <span class="id">H</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">subst</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#Error">Error</a></span> <span class="id">_</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#bind">bind</a></span> ?<span class="id">F</span> ?<span class="id">G</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> ?<span class="id">X</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">EQ1</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">EQ2</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#bind_inversion">bind_inversion</a></span> <span class="id">F</span> <span class="id">G</span> <span class="id">H</span>) <span class="kwd">as</span> [<span class="id">x</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">monadInv2</span> <span class="id">EQ2</span>))))<br/>
&nbsp;&nbsp;| (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#bind2">bind2</a></span> ?<span class="id">F</span> ?<span class="id">G</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> ?<span class="id">X</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x1</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x2</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">EQ1</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">EQ2</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#bind2_inversion">bind2_inversion</a></span> <span class="id">F</span> <span class="id">G</span> <span class="id">H</span>) <span class="kwd">as</span> [<span class="id">x1</span> [<span class="id">x2</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">monadInv2</span> <span class="id">EQ2</span>)))))<br/>
&nbsp;&nbsp;| (<span class="id"><a href="Velus.Common.CompCertLib.html#bind22">bind22</a></span> ?<span class="id">F</span> ?<span class="id">G</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> ?<span class="id">X</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x1</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x2</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x3</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">EQ1</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">EQ2</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#bind22_inversion">bind22_inversion</a></span> <span class="id">F</span> <span class="id">G</span> <span class="id">H</span>) <span class="kwd">as</span> [<span class="id">x1</span> [<span class="id">x2</span> [<span class="id">x3</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">monadInv2</span> <span class="id">EQ2</span>))))))<br/>
&nbsp;&nbsp;| (<span class="kwd">match</span> ?<span class="id">X</span> <span class="kwd">with</span> <span class="tactic">left</span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="tactic">right</span> <span class="id">_</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#assertion_failed">assertion_failed</a></span> <span class="kwd">end</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">X</span>; [<span class="tactic">try</span> (<span class="id">monadInv2</span> <span class="id">H</span>) | <span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| (<span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> ?<span class="id">X</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#assertion_failed">assertion_failed</a></span> <span class="kwd">end</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">X</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:?; [<span class="tactic">discriminate</span> | <span class="tactic">try</span> (<span class="id">monadInv2</span> <span class="id">H</span>)]<br/>
&nbsp;&nbsp;| (<span class="kwd">match</span> ?<span class="id">X</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#assertion_failed">assertion_failed</a></span> <span class="kwd">end</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">X</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:?; [<span class="tactic">try</span> (<span class="id">monadInv2</span> <span class="id">H</span>) | <span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap">mmap</a></span> ?<span class="id">F</span> ?<span class="id">L</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> ?<span class="id">M</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap_inversion">mmap_inversion</a></span> <span class="id">F</span> <span class="id">L</span> <span class="id">H</span>); <span class="tactic">intro</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="id">Close</span> <span class="kwd">Scope</span> <span class="id">nat</span>.<br/>
<span class="id">Close</span> <span class="kwd">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int_Ptrofs_max_unsigned">Int_Ptrofs_max_unsigned</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span> &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.modulus">Ptrofs.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Int.wordsize">Int.wordsize</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.wordsize">Ptrofs.wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Wordsize_32.wordsize">Wordsize_32.wordsize</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="../../CompCert/doc/html/compcert.x86_32.Archi.html#ptr64">Archi.ptr64</a></span>; [|<span class="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_eq_refl">type_eq_refl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">t</span> (<span class="id">T</span> <span class="id">F</span>: <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">if</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span> <span class="kwd">then</span> <span class="id"><a href="Velus.Common.CompCertLib.html#T">T</a></span> <span class="kwd">else</span> <span class="id"><a href="Velus.Common.CompCertLib.html#F">F</a></span>) = <span class="id"><a href="Velus.Common.CompCertLib.html#T">T</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">t</span> <span class="id">t</span>) <span class="kwd">as</span> [|<span class="id">Neq</span>]; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id">field_offset_rec_in_range</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gcenv</span> <span class="id">flds</span> <span class="id">x</span> <span class="id">ofs</span> <span class="id">pos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset_rec">field_offset_rec</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#gcenv">gcenv</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#flds">flds</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#pos">pos</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#pos">pos</a></span> &lt;= <span class="id"><a href="Velus.Common.CompCertLib.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">flds</span> <span class="kwd">as</span> [|[<span class="id">i</span> <span class="id">t</span>]]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#ident_eq">AST.ident_eq</a></span> <span class="id">x</span> <span class="id">i</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#align_le">align_le</a></span>. <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof_pos">alignof_pos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id">IHflds</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#align">align</a></span> <span class="id">pos</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id">gcenv</span> <span class="id">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#align_le">align_le</a></span>. <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof_pos">alignof_pos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">generalize</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof_pos">sizeof_pos</a></span> <span class="id">gcenv</span> <span class="id">t</span>). <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id">field_offset_in_range</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gcenv</span> <span class="id">flds</span> <span class="id">x</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#gcenv">gcenv</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#flds">flds</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 &lt;= <span class="id"><a href="Velus.Common.CompCertLib.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">field_offset_rec_in_range</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="two_power_nat_le_divides">two_power_nat_le_divides</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m</span> <span class="id">n</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_equiv">two_power_nat_equiv</a></span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_le_mono_r_iff">Z.pow_le_mono_r_iff</a></span> <span class="kwd">in</span> <span class="id">HH</span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_exists_sub">Z.le_exists_sub</a></span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HH</span> <span class="kwd">as</span> [<span class="id">p</span> [<span class="id">HH1</span> <span class="id">HH2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span> <span class="id">p</span>) <span class="kwd">in</span> <span class="id">HH1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znumtheory.html#Zdivide_intro">Zdivide_intro</a></span> <span class="kwd">with</span> (<span class="id">q</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">p</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_equiv">two_power_nat_equiv</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_add_r">Z.pow_add_r</a></span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HH1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="two_power_nat_max">two_power_nat_max</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#Zmax_spec">Zmax_spec</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_refl">Z.divide_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#two_power_nat_le_divides">two_power_nat_le_divides</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ge_le">Z.ge_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="co_members_alignof">co_members_alignof</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_consistent">composite_consistent</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#env">env</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#co">co</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#attr_alignas">attr_alignas</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_attr">co_attr</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#co">co</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#env">env</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>) | <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_alignof">co_alignof</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#co">co</a></span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#co">co</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">env</span> <span class="id">co</span> <span class="id">Henv</span> <span class="id">Hattr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_consistent_alignof">co_consistent_alignof</a></span> <span class="kwd">with</span> (1:=<span class="id">Henv</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#align_attr">align_attr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hattr</span>; <span class="tactic">clear</span> <span class="id">Hattr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>) <span class="kwd">as</span> [|<span class="id">m</span> <span class="id">ms</span> <span class="id">IH</span>]; [<span class="id">now</span> <span class="tactic">trivial</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof_composite_two_p">alignof_composite_two_p</a></span> <span class="id">env</span> <span class="id">ms</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">Hms</span>].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">Hms</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">Hms</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">ty</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof_two_p">alignof_two_p</a></span> <span class="id">env</span> <span class="id">ty</span>) <span class="kwd">as</span> [<span class="id">m</span> <span class="id">Hty</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hty</span>.<br/>
&nbsp;&nbsp;<span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">Hty</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#two_power_nat_max">two_power_nat_max</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span> <span class="kwd">with</span> (2:=<span class="id">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">x</span>' <span class="id">ty</span>']. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">HH</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_trans">Z.divide_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">HH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_comm">Z.max_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#two_power_nat_max">two_power_nat_max</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="align_noattr">align_noattr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#align_attr">align_attr</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#a">a</a></span> = <span class="id"><a href="Velus.Common.CompCertLib.html#a">a</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_field_type">in_field_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">x</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">xs</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">Hndup</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span>' <span class="id">xs</span> <span class="id">IH</span>]; [<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">Hin</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>' <span class="kwd">as</span> [<span class="id">x</span>' <span class="id">ty</span>'].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#nodupmembers_cons">nodupmembers_cons</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hndup</span> <span class="kwd">as</span> [? <span class="id">Hndup</span>].<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Heq</span>|<span class="id">Heq</span>].<br/>
&nbsp;&nbsp;- <span class="tactic">injection</span> <span class="id">Heq</span>; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_false">peq_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">apply</span> <span class="id">IH</span> <span class="kwd">with</span> (1:=<span class="id">Hndup</span>) (2:=<span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_NotIn">NotInMembers_NotIn</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_offset_type">field_offset_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">id</span> <span class="id">flds</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ge">ge</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#id">id</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#flds">flds</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#d">d</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">ty</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#id">id</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#flds">flds</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="tactic">until</span> <span class="id">d</span>.<br/>
&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="kwd">forall</span> <span class="id">ofs</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset_rec">field_offset_rec</a></span> <span class="id">ge</span> <span class="id">id</span> <span class="id">flds</span> <span class="id"><a href="Velus.Common.CompCertLib.html#ofs">ofs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id">d</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">ty</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id">id</span> <span class="id">flds</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">flds</span> <span class="kwd">as</span> [|(<span class="id">id</span>', <span class="id">ty</span>') <span class="id">flds</span> <span class="id">IH</span>]; <span class="tactic">intros</span> <span class="id">ofs</span> <span class="id">Hfo</span>; [<span class="id">now</span> <span class="id">inv</span> <span class="id">Hfo</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eq_dec">ident_eq_dec</a></span> <span class="id">id</span> <span class="id">id</span>') <span class="kwd">as</span> [<span class="id">He</span>|<span class="id">Hne</span>].<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">He</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>. <span class="id">now</span> <span class="tactic">exists</span> <span class="id">ty</span>'.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hfo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_false">peq_false</a></span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">Hfo</span>) <span class="kwd">as</span> (<span class="id">ty</span> &amp; <span class="id">Hft</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">ty</span>; <span class="tactic">assumption</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_type_skip_app">field_type_skip_app</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ws</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ws">ws</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#ws">ws</a></span> ++ <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ws</span> <span class="kwd">as</span> [|<span class="id">w</span> <span class="id">ws</span> <span class="id">IH</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">xs</span> <span class="id">Hnin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span> <span class="kwd">in</span> <span class="id">Hnin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hnin</span> <span class="kwd">as</span> (<span class="id">Hnin</span> &amp; <span class="id">Hx</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">w</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_false">peq_false</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sizeof_by_value">sizeof_by_value</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">ty</span> <span class="id">chunk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#chunk">chunk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ge">ge</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memdata.html#size_chunk">Memdata.size_chunk</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#chunk">chunk</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="tactic">discriminate</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">destruct</span> <span class="id">i</span>, <span class="id">s</span>, <span class="id">a</span>|<span class="tactic">destruct</span> <span class="id">s</span>, <span class="id">a</span>|<span class="tactic">destruct</span> <span class="id">f</span>, <span class="id">a</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">injection</span> 1; <span class="tactic">intros</span>; <span class="tactic">subst</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">sizeof_by_value</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_comm">set_comm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">x</span> <span class="id">x</span>' (<span class="id">v</span> <span class="id">v</span>': <span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> &lt;&gt; <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">x</span>' <span class="id">v</span>' <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">x</span>' <span class="id">v</span>' (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">x</span>, <span class="id">x</span>', <span class="id">m</span>; <span class="tactic">simpl</span>; <span class="tactic">intro</span> <span class="id">Neq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id">IHx</span>; <span class="tactic">intro</span> <span class="id">Eq</span>; <span class="tactic">apply</span> <span class="id">Neq</span>; <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">Eq</span>) || <span class="id">now</span> <span class="id">contradict</span> <span class="id">Neq</span>).<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind_parameter_temps_comm">bind_parameter_temps_comm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">s</span> <span class="id">ts</span> <span class="id">o</span> <span class="id">to</span> <span class="id">vself</span> <span class="id">vout</span> <span class="id">x</span> <span class="id">t</span> <span class="id">v</span> <span class="id">le</span> <span class="id">le</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> &lt;&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> &lt;&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ts">ts</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#to">to</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) (<span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vout">vout</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>' &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ts">ts</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#to">to</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) (<span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vout">vout</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">y</span>, <span class="id">ty</span>)], <span class="id">vs</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> * <span class="kwd">Bind</span>; <span class="id">inv</span> <span class="kwd">Bind</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">s</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">x</span> <span class="id">o</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">s</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">x</span> <span class="id">o</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind_parameter_temps_comm_noout">bind_parameter_temps_comm_noout</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">s</span> <span class="id">ts</span> <span class="id">vself</span> <span class="id">x</span> <span class="id">t</span> <span class="id">v</span> <span class="id">le</span> <span class="id">le</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> &lt;&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ts">ts</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) (<span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>' &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ts">ts</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) (<span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">y</span>, <span class="id">ty</span>)], <span class="id">vs</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> * <span class="kwd">Bind</span>; <span class="id">inv</span> <span class="kwd">Bind</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">s</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">s</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">s</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="id">s</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind_parameter_temps_conservation">bind_parameter_temps_conservation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">x</span> <span class="id">v</span> <span class="id">le</span> <span class="id">le</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> ! <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">le</span>' ! <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>', <span class="id">t</span>')]; <span class="tactic">destruct</span> <span class="id">vs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Notin</span> <span class="id">Hin</span> <span class="kwd">Bind</span>; <span class="tactic">inversion</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span> <span class="kwd">in</span> <span class="id">Notin</span>; <span class="tactic">destruct</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="kwd">Bind</span>; <span class="tactic">eapply</span> <span class="id">IHxs</span> <span class="kwd">with</span> (<span class="id">le</span>:=<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">x</span>' <span class="id">v</span> <span class="id">le</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind_parameter_temps_cons">bind_parameter_temps_cons</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">v</span> <span class="id">le</span> <span class="id">le</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ty">ty</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>) (<span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#v">v</a></span> <span class="id">le</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>', <span class="id">t</span>')], <span class="id">vs</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ????? <span class="id">Notin</span> <span class="kwd">Bind</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">inversion</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IHxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHxs</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span>; <span class="tactic">apply</span> <span class="id">Notin</span>; <span class="id">now</span> <span class="tactic">left</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind_parameter_temps_implies_two">bind_parameter_temps_implies_two</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">s</span> <span class="id">ts</span> <span class="id">vself</span> <span class="id">o</span> <span class="id">to</span> <span class="id">vout</span> <span class="id">le</span> <span class="id">le</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> &lt;&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ts">ts</a></span>) :: (<span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#to">to</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vout">vout</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">le</span>' ! <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> /\ <span class="id">le</span>' ! <span class="id"><a href="Velus.Common.CompCertLib.html#o">o</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vout">vout</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>', <span class="id">t</span>')]; <span class="tactic">destruct</span> <span class="id">vs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Neq</span> <span class="id">Notin_s</span> <span class="id">Notin_o</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#bind_parameter_temps_comm">bind_parameter_temps_comm</a></span> <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">remember</span> ((<span class="id">s</span>, <span class="id">ts</span>)::(<span class="id">o</span>, <span class="id">to</span>)::<span class="id">xs</span>) <span class="kwd">as</span> <span class="id">xs</span>' <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id">vself</span>::<span class="id">vout</span>::<span class="id">vs</span>) <span class="kwd">as</span> <span class="id">vs</span>' <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">fold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">Clight.bind_parameter_temps</a></span> <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqxs</span>', <span class="id">Heqvs</span>' <span class="kwd">in</span> <span class="kwd">Bind</span>; <span class="tactic">clear</span> <span class="id">Heqxs</span>' <span class="id">Heqvs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHxs</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Notin_o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">o</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_eq">inmembers_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Notin_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">s</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_eq">inmembers_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="bind_parameter_temps_implies">bind_parameter_temps_implies</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">s</span> <span class="id">ts</span> <span class="id">vself</span> <span class="id">le</span> <span class="id">le</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> ((<span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#ts">ts</a></span>) :: <span class="id"><a href="Velus.Common.CompCertLib.html#xs">xs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span> :: <span class="id"><a href="Velus.Common.CompCertLib.html#vs">vs</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#le">le</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">le</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">le</span>' ! <span class="id"><a href="Velus.Common.CompCertLib.html#s">s</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vself">vself</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>', <span class="id">t</span>')]; <span class="tactic">destruct</span> <span class="id">vs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ???? <span class="id">Neq</span> <span class="id">Notin_s</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#bind_parameter_temps_comm_noout">bind_parameter_temps_comm_noout</a></span> <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">remember</span> ((<span class="id">s</span>, <span class="id">ts</span>)::<span class="id">xs</span>) <span class="kwd">as</span> <span class="id">xs</span>' <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id">vself</span>::<span class="id">vs</span>) <span class="kwd">as</span> <span class="id">vs</span>' <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">fold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#bind_parameter_temps">Clight.bind_parameter_temps</a></span> <span class="kwd">in</span> <span class="kwd">Bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqxs</span>', <span class="id">Heqvs</span>' <span class="kwd">in</span> <span class="kwd">Bind</span>; <span class="tactic">clear</span> <span class="id">Heqxs</span>' <span class="id">Heqvs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHxs</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Notin_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">s</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_eq">inmembers_eq</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="alloc_implies">alloc_implies</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">vars</span> <span class="id">x</span> <span class="id">b</span> <span class="id">t</span> <span class="id">e</span> <span class="id">m</span> <span class="id">e</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#tge">tge</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> <span class="id">e</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">e</span>' ! <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span> <span class="kwd">as</span> [|(<span class="id">x</span>', <span class="id">t</span>')]; <span class="tactic">intros</span> * <span class="id">Notin</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">H</span> <span class="kwd">as</span> [|? ? ? ? ? ? ? ? ? ? <span class="id">Halloc</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#set_comm">set_comm</a></span> <span class="kwd">in</span> <span class="id">Halloc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHvars</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span>; <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">apply</span> <span class="id">Notin</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_eq">inmembers_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="drop_block">drop_block</a></span> '((<span class="id">x</span>, (<span class="id">_</span>, <span class="id">t</span>)): <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Values.html#block">block</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type">Ctypes.type</a></span>)) : (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type">Ctypes.type</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>).<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="In_drop_block">In_drop_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">elts</span> <span class="id">x</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block">drop_block</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#elts">elts</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, (<span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>)) <span class="id"><a href="Velus.Common.CompCertLib.html#elts">elts</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">elts</span> <span class="kwd">as</span> [|(<span class="id">x</span>', (<span class="id">b</span>', <span class="id">t</span>'))]; <span class="tactic">simpl</span>; <span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Eq</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>'; <span class="id">now</span> <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHelts</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">b</span> <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>; <span class="id">now</span> <span class="tactic">right</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="drop_block_In">drop_block_In</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">elts</span> <span class="id">x</span> <span class="id">b</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, (<span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>)) <span class="id"><a href="Velus.Common.CompCertLib.html#elts">elts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block">drop_block</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#elts">elts</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">elts</span> <span class="kwd">as</span> [|(<span class="id">x</span>', (<span class="id">b</span>', <span class="id">t</span>'))]; <span class="tactic">simpl</span>; <span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Eq</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHelts</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">right</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="alloc_In">alloc_In</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">vars</span> <span class="id">e</span> <span class="id">m</span> <span class="id">e</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#tge">tge</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> <span class="id">e</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block">drop_block</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>')) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block">drop_block</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>)) /\ (<span class="kwd">forall</span> <span class="id">t</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id">t</span>') <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt; <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span> = <span class="id">t</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">tge</span> <span class="id">vars</span>.<br/>
&nbsp;&nbsp;<span class="id">induction_list</span> <span class="id">vars</span> <span class="kwd">as</span> [|(<span class="id">y</span>, <span class="id">ty</span>)] <span class="kwd">with</span> <span class="id">vars</span>'; <span class="tactic">intros</span> * <span class="id">Alloc</span> <span class="id">Nodup</span> <span class="id">x</span> <span class="id">t</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Alloc</span>; <span class="id">inv</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">split</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="tactic">left</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> [[? ?]|?]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id">edestruct</span> <span class="id">IHvars</span>' <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">x</span>) (<span class="id">t</span>:=<span class="id">t</span>) <span class="kwd">as</span> [<span class="id">In_Or</span> <span class="id">Or_In</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">IHvars</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">In_Or</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [[<span class="id">Hin</span> <span class="id">Ht</span>]|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ <span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">eqn</span>: <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#In_drop_block">In_drop_block</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">b</span> <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#In_drop_block">In_drop_block</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">b</span> <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block_In">drop_block_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">t</span>' [<span class="id">Eq</span>|<span class="id">Hin</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">Eq</span>. <span class="id">now</span> <span class="id">contradict</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">now</span> <span class="tactic">apply</span> <span class="id">Ht</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">right</span>; <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> [[<span class="id">Hin</span> <span class="id">Ht</span>]|<span class="id">Hin</span>]; <span class="tactic">apply</span> <span class="id">Or_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ <span class="tactic">left</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">eqn</span>: <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block_In">drop_block_In</a></span> <span class="kwd">with</span> (<span class="id">b</span>:=<span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#In_drop_block">In_drop_block</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">b</span> <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block_In">drop_block_In</a></span> <span class="kwd">with</span> (<span class="id">b</span>:=<span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ <span class="tactic">inversion_clear</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Eq</span>|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block_In">drop_block_In</a></span> <span class="kwd">with</span> (<span class="id">b</span>:=<span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_NotIn">NotInMembers_NotIn</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="alloc_permutation">alloc_permutation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">vars</span> <span class="id">m</span> <span class="id">e</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#tge">tge</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#empty_env">empty_env</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> <span class="id">e</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block">drop_block</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>')).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Alloc</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CompCertLib.html#alloc_In">alloc_In</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Alloc</span>) <span class="kwd">as</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#NoDup_Permutation">Permutation.NoDup_Permutation</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_NoDup">NoDupMembers_NoDup</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_keys_norepet">PTree.elements_keys_norepet</a></span> <span class="id">e</span>') <span class="kwd">as</span> <span class="id">Norep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>') <span class="kwd">as</span> [|(<span class="id">x</span>, (<span class="id">b</span>, <span class="id">t</span>))]; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">inversion_clear</span> <span class="id">Norep</span> <span class="kwd">as</span> [|? ? <span class="id">Notin</span> <span class="id">Norep</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">x</span>', (<span class="id">b</span>', <span class="id">t</span>'))]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">intro</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ <span class="tactic">intros</span> [<span class="id">Eq</span> | <span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Eq</span>. <span class="tactic">apply</span> <span class="id">Notin</span>. <span class="id">now</span> <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Norep</span>'. <span class="tactic">apply</span> <span class="id">IHl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">inversion_clear</span> <span class="id">Norep</span> <span class="kwd">as</span> [|? ? <span class="id">Notin</span> <span class="id">Norep</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> (<span class="id">x</span>, <span class="id">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">Nodup</span> <span class="id">x</span> <span class="id">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Permutation_set">Permutation_set</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span> <span class="id">B</span>} <span class="id">x</span> (<span class="id">a</span>:<span class="id"><a href="Velus.Common.CompCertLib.html#A">A</a></span>) (<span class="id">b</span>:<span class="id"><a href="Velus.Common.CompCertLib.html#B">B</a></span>) <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#a">a</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span>, (<span class="id"><a href="Velus.Common.CompCertLib.html#a">a</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>)) :: <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#NoDup_Permutation">Permutation.NoDup_Permutation</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_map_inv">NoDup_map_inv</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_keys_norepet">PTree.elements_keys_norepet</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_NotIn">NotInMembers_NotIn</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_map_inv">NoDup_map_inv</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_keys_norepet">PTree.elements_keys_norepet</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intro</span> <span class="id">y</span>. <span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [<span class="id">y</span> <span class="id">y</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">y</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">injection</span> <span class="id">HH</span>; <span class="tactic">intro</span>; <span class="tactic">subst</span>; <span class="id">now</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span> <span class="kwd">in</span> <span class="id">HH</span>; <span class="id">now</span> <span class="tactic">constructor</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_inv">in_inv</a></span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HH</span> <span class="kwd">as</span> [<span class="id">HH</span>|<span class="id">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">y</span>' <span class="kwd">as</span> [<span class="id">y</span>' <span class="id">y</span>''].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">injection</span> <span class="id">HH</span>; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Heq</span>; <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">with</span> (1:=<span class="id">HH</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_nodupmembers">set_nodupmembers</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> (<span class="id">e</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#env">Clight.env</a></span>) <span class="id">b1</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#b1">b1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CompCertLib.html#b1">b1</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#t">t</a></span>) <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Nodup</span> <span class="id">Notin</span> <span class="id">Diff</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">x</span> (<span class="id">b1</span>, <span class="id">t</span>) <span class="id">e</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">b1</span>, <span class="id">t</span>) :: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>)))) <span class="kwd">as</span> <span class="id">Perm</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">change</span> (<span class="id">b1</span>, <span class="id">t</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id">x</span>, (<span class="id">b1</span>, <span class="id">t</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_cons">map_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_map">Permutation.Permutation_map</a></span>, <span class="id"><a href="Velus.Common.CompCertLib.html#Permutation_set">Permutation_set</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Perm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="alloc_nodupmembers">alloc_nodupmembers</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">vars</span> <span class="id">e</span> <span class="id">m</span> <span class="id">e</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#tge">tge</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> <span class="id">e</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xv</span> =&gt; ~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#xv">xv</a></span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>)) <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span>)) -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>')).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">intros</span> * <span class="id">Alloc</span> <span class="id">Nodupvars</span> <span class="id">Nodup</span> <span class="id">Forall</span> <span class="id">Valid</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Nodupvars</span> <span class="kwd">as</span> [|? ? ? <span class="id">Notin</span> <span class="id">Nodupvars</span>']; <span class="tactic">clear</span> <span class="id">Nodupvars</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Alloc</span> <span class="kwd">as</span> [|? ? ? ? ? ? ? ? ? <span class="id">Hmem</span> <span class="id">Alloc</span>']; <span class="tactic">clear</span> <span class="id">Alloc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Forall</span> <span class="kwd">as</span> [|? ? <span class="id">Hnin</span> <span class="id">Hforall</span>]; <span class="tactic">clear</span> <span class="id">Forall</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHvars</span> <span class="kwd">with</span> (<span class="id">e</span>:=<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">x</span> (<span class="id">b1</span>, <span class="id">t</span>) <span class="id">e</span>) (<span class="id">m</span>:=<span class="id">m1</span>) (<span class="id">m</span>':=<span class="id">m</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#set_nodupmembers">set_nodupmembers</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hinb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Valid</span> <span class="kwd">in</span> <span class="id">Hinb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html#Mem.valid_not_valid_diff">Mem.valid_not_valid_diff</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">clear</span> <span class="id">IHvars</span> <span class="id">Alloc</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span> <span class="kwd">as</span> [|(<span class="id">x</span>', <span class="id">t</span>')]; <span class="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hforall</span>; <span class="id">inv</span> <span class="id">Nodupvars</span>'; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span> <span class="kwd">in</span> <span class="id">Notin</span>; <span class="tactic">destruct</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#Permutation_set">Permutation_set</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_cons">NotInMembers_cons</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHvars</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">b</span> <span class="id">Hinb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b1</span>) <span class="kwd">as</span> [<span class="id">Eq</span>|<span class="id">Neq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">b1</span>; <span class="tactic">eapply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">b</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>))) <span class="kwd">as</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_snd_In">InMembers_snd_In</a></span> <span class="kwd">in</span> <span class="id">Hinb</span>; <span class="tactic">destruct</span> <span class="id">Hinb</span> <span class="kwd">as</span> (<span class="id">x</span>' &amp; <span class="id">t</span>' &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="Velus.Common.CommonList.html#In_InMembers_snd">In_InMembers_snd</a></span> <span class="id">x</span>' <span class="id">_</span> <span class="id">t</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> <span class="id">x</span> <span class="id">x</span>') <span class="id">eqn</span>: <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">subst</span> <span class="id">x</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hin</span>. <span class="id">now</span> <span class="id">contradict</span> <span class="id">Neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Valid</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="alloc_exists">alloc_exists</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">vars</span> <span class="id">e</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">e</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#tge">tge</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#e">e</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#m">m</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> <span class="id">e</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">intros</span> * <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">exists</span> <span class="id">e</span>, <span class="id">m</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id">m</span> 0 (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id">tge</span> <span class="id">t</span>)) <span class="kwd">as</span> (<span class="id">m1</span> &amp; <span class="id">b</span>) <span class="id">eqn</span>: <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">IHvars</span> <span class="kwd">with</span> (<span class="id">e</span>:=<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">x</span> (<span class="id">b</span>, <span class="id">t</span>) <span class="id">e</span>) (<span class="id">m</span>:=<span class="id">m1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> (<span class="id">e</span>' &amp; <span class="id">m</span>' &amp; <span class="id">Halloc</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">e</span>', <span class="id">m</span>'; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Permutation_fst">Permutation_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span> <span class="id">elems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#elems">elems</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#vars">vars</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#elems">elems</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Perm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Perm</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">l</span>'); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="map_fst_drop_block">map_fst_drop_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">elems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#drop_block">drop_block</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#elems">elems</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Common.CompCertLib.html#elems">elems</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">elems</span> <span class="kwd">as</span> [|(<span class="id">x</span>, (<span class="id">b</span>, <span class="id">t</span>))]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">f_equal</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="empty_co">empty_co</a></span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite">composite</a></span> :=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Build_composite">co_su</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">co_members</span> := [];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">co_attr</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">co_sizeof</span> := 0;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">co_alignof</span> := 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">co_rank</span> := 0<br/>
&nbsp;&nbsp;|}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof42')">Next Obligation.</div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="tactic">exists</span> 0%<span class="id">nat</span>; <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#two_power_nat_O">two_power_nat_O</a></span>.<br/>
Defined.</div>
<div class="toggleproof" onclick="toggleDisplay('proof43')">Next Obligation.</div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
Defined.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
