
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module LClocking</title>
<meta name="description" content="Documentation of Coq module LClocking" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module LClocking</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Operators.html">Operators</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Clocks.html">Clocks</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LSyntax.html">Lustre.LSyntax</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">List.ListNotations</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html">Morphisms</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html">Permutation</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html">Program.Basics</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Wf.html">Program.Wf</a></span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">program_scope</span>.<br/>
<br/>
<h1> Lustre clocking </h1>
<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="LCLOCKING">LCLOCKING</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span>  : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span>   : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Syn</span>  : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Op">Op</a></span>).<br/>
<br/>
<div class="doc">Substitutions and conversion between clock types.
      The clocking of function applications is complicated by the possibility
      of 'anonymous' variables and their clocks.
      Consider, for instance, the two node (clock) interfaces
          f (a :: .; b :: . on a) returns (w :: .; x :: . on w)
          g (c :: .; d :: . on c) returns (y :: .; z :: . on y)
       and the equation
          u, v = g(f(b, e when b))
       The input parameters of f and their clocks are instantiated from
       the expressions; f yields two streams and the second one is dependent
       on the first. This dependency needs to be captured and verified in
       the application of g. The problem is that these intermediate flows
       are not bound to variable names in the environment.
       To treat this detail, we introduce "named streams" that allow us to
       bind such flows to a local name. Clock annotations within
       expressions are then made with "named clocks" (nclock), a pair where
       the second member is either None for an anonymous stream, or Some for
       a locally named stream.
       The structure of an expression can be seen as stacks of function
       applications rooted in an equation (a pattern binding of variable
       names to resulting streams):
       The expressions at the tips are clocked in the node environment, thus
       any variables are directly named. Each function call, however, may
       introduce fresh clock names to track dependencies between node outputs
       and for checking dependencies at node inputs. Unlike for a named clock,
       the scope of a fresh clock is limited to its "column". The freshness
       of clocks is ensured by a constraint (NoDup) applied on the collected
       clocks (anon_in).
       Three kinds of substitutions are needed to handle node applications and
       equation patterns:
       1. input substitutions: map some input parameter names to clock ids.
          For instance, in "f(t :: ck, e1 :: ck on t)", "f" must be
          instantiated with the input substitution "(ck, <span class="bracket"> <span class="id">t</span> / <span class="id">a</span> </span>)", giving
          the base clock and variable mappings, before testing for equality
          of the clocks of the arguments, "<span class="bracket">(<span class="id">t</span> : <span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> <span class="id">t</span></span>", against the
          instantiated input parameters and clocks.
       2. output substitutions: map some output parameter names to fresh
          clock indexes. For instance, in the previous example, an output
          substitution for "f" could be "<span class="bracket"> <span class="id">w</span> / 1 </span>" giving the output
          clocks "<span class="bracket">(1 : <span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 1</span>". The use of "1" is arbitrary, other
          valid substitutions would give "<span class="bracket">(2: <span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 2</span>" or
          "<span class="bracket">(42 : <span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 42</span>". Substitutions need only reflect clock
          dependencies and satisfy the freshness constraint whenever
          expression "branches" join.
       3. pattern substitutions: in an equation, the fresh clock indexes
          must be mapped to the variable names appearing in the lhs pattern.
          An unmapped index indicates an escaping clock and thus a clocking
          problem. In the example, we may have:
             f <span class="bracket">(<span class="id">b</span>:<span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> <span class="id">b</span></span> -&gt; <span class="bracket">(1:<span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 1</span>
             g <span class="bracket">(1:<span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 1</span> -&gt; <span class="bracket">(2:<span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 2</span>
          and thus "<span class="bracket">(2:<span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> 2</span>" must be unified with
          "<span class="bracket">(<span class="id">u</span>:<span class="id">ck</span>); <span class="id">ck</span> <span class="id">on</span> <span class="id">u</span></span>", and the required substitution is "<span class="bracket"> <span class="id">u</span> / 2 </span>".
   </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.ident_map">ident_map</a></span> := <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.WellInstantiated">WellInstantiated</a></span> (<span class="id">bck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) (<span class="id">sub</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ident_map">ident_map</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xc</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) (<span class="id">nc</span> : <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xc">xc</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc">nc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xc">xc</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc">nc</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.WellClocked">WellClocked</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.WellClocked.G">G</a></span>    : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.WellClocked.vars">vars</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>).<br/>
<br/>
<div class="doc">EvarAnon is used at toplevel of an equation, to allow for equations of the form
        x = y, without having to specify a name. Evar is used internally to expressions </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKING.wc_exp">wc_exp</a></span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Econst">wc_Econst</a></span>: <span class="kwd">forall</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Econst">Econst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#c">c</a></span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Evar">wc_Evar</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Evar">Evar</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_EvarAnon">wc_EvarAnon</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Evar">Evar</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Eunop">wc_Eunop</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">e</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eunop">Eunop</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Ebinop">wc_Ebinop</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Ebinop">Ebinop</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Efby">wc_Efby</a></span>: <span class="kwd">forall</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Efby">Efby</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Earrow">wc_Earrow</a></span>: <span class="kwd">forall</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Earrow">Earrow</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Ewhen">wc_Ewhen</a></span>: <span class="kwd">forall</span> <span class="id">es</span> <span class="id">x</span> <span class="id">b</span> <span class="id">tys</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Ewhen">Ewhen</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>, (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#b">b</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Emerge">wc_Emerge</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">tys</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>))  (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Emerge">Emerge</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Eifte">wc_Eifte</a></span>: <span class="kwd">forall</span> <span class="id">e</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">tys</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eite">Eite</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_Eapp">wc_Eapp</a></span>: <span class="kwd">forall</span> <span class="id">f</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">n</span> <span class="id">bck</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wc_EappReset">wc_EappReset</a></span>: <span class="kwd">forall</span> <span class="id">f</span> <span class="id">es</span> <span class="id">r</span> <span class="id">ckr</span> <span class="id">anns</span> <span class="id">n</span> <span class="id">bck</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ckr">ckr</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.wc_equation">wc_equation</a></span> (<span class="id">xses</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.equation">equation</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">xs</span>, <span class="id">es</span>) := <span class="id"><a href="Velus.Lustre.LClocking.html#xses">xses</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">nc</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#LiftO">LiftO</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc">nc</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">ck</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellClocked">WellClocked</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.wc_node">wc_node</a></span> (<span class="id">G</span>: <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span>) (<span class="id">n</span>: <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.node">node</a></span>) : <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=    <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>  <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) ++ <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) ++ <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>) ++ <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_vars">n_vars</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) ++ <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_vars">n_vars</a></span>) ++ <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)))) <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_eqs">n_eqs</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKING.wc_global">wc_global</a></span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wcg_nil">wcg_nil</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_global">wc_global</a></span> []<br/>
&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.wcg_cons">wcg_cons</a></span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">ns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ns">ns</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ns">ns</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">n</span>'=&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span>) &lt;&gt; <span class="id">n</span>'.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span>) :&gt; <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ns">ns</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#wc_global">wc_global</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#ns">ns</a></span>).<br/>
<br/>
<h2> Basic properties of clocking </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_global">wc_global</a></span> : <span class="id">lclocking</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> : <span class="id">lclocking</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2">wc_exp_ind2</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.G">G</a></span>    : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.vars">vars</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.P">P</a></span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EconstCase">EconstCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Op.const">const</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Econst">Econst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#c">c</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EvarCase">EvarCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Evar">Evar</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EvarAnonCase">EvarAnonCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Evar">Evar</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EunopCase">EunopCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">e</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eunop">Eunop</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EbinopCase">EbinopCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">ty</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Ebinop">Ebinop</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#op">op</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e1">e1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e2">e2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EfbyCase">EfbyCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Efby">Efby</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EarrowCase">EarrowCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Earrow">Earrow</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e0s">e0s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EwhenCase">EwhenCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">es</span> <span class="id">x</span> <span class="id">b</span> <span class="id">tys</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Ewhen">Ewhen</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#b">b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>, (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#b">b</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EmergeCase">EmergeCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">tys</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>))  (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Emerge">Emerge</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EiteCase">EiteCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">ets</span> <span class="id">efs</span> <span class="id">tys</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>)  (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eite">Eite</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EappCase">EappCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">es</span> <span class="id">anns</span> <span class="id">n</span> <span class="id">bck</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2.EappResetCase">EappResetCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">es</span> <span class="id">r</span> <span class="id">ckr</span> <span class="id">anns</span> <span class="id">n</span> <span class="id">bck</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span> = [<span class="id"><a href="Velus.Lustre.LClocking.html#ckr">ckr</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eapp">Eapp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#r">r</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.wc_exp_ind2">wc_exp_ind2</a></span> (<span class="id">e</span>: <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span>) (<span class="id">H</span>: <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>) {<span class="kwd">struct</span> <span class="id">H</span>} : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.P">P</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EfbyCase">EfbyCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H2</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H1</span>. <span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EarrowCase">EarrowCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H2</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">H1</span>. <span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EwhenCase">EwhenCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H2</span>. <span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EmergeCase">EmergeCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H2</span> <span class="id">H4</span>. <span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H3</span> <span class="id">H5</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EiteCase">EiteCase</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H3</span> <span class="id">H5</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H4</span> <span class="id">H6</span>. <span class="tactic">induction</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EappCase">EappCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H0</span> <span class="id">H1</span>. <span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2.EappResetCase">EappResetCase</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>. <span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2">wc_exp_ind2</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_global_NoDup">wc_global_NoDup</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#g">g</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#g">g</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">g</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">WTg</span>. <span class="tactic">simpl</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">apply</span> <span class="id">IHg</span>; <span class="id">now</span> <span class="id">inv</span> <span class="id">WTg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">WTg</span> <span class="kwd">as</span> [|? ? ? <span class="id">WTn</span> <span class="id">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">n</span>' =&gt; (<span class="kwd">fun</span> <span class="id">i</span>=&gt; <span class="id">a</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span>) &lt;&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#i">i</a></span>) <span class="id">n</span>'.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span>)) <span class="id">g</span>)%<span class="id">type</span> <span class="kwd">in</span> <span class="id">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">with</span> (1:=<span class="id">Hn</span>) <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">contradiction</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_global_app">wc_global_app</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> (<span class="id">G</span>' ++ <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">G</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intro</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hwc</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_find_node">wc_find_node</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">f</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">G</span>', <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">f</span> <span class="id">n</span>' <span class="id">Hwc</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node_split">find_node_split</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hfind</span> <span class="kwd">as</span> (<span class="id">bG</span> &amp; <span class="id">aG</span> &amp; <span class="id">HG</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global_app">wc_global_app</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hwc</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.indexes_app">indexes_app</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#indexes">indexes</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>) = <span class="id"><a href="Velus.ClockDefs.html#indexes">indexes</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> ++ <span class="id"><a href="Velus.ClockDefs.html#indexes">indexes</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">setoid_rewrite</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="LCLOCKING.wc_exp_Proper">wc_exp_Proper</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Proper">Proper</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#iff">iff</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">HG</span> <span class="id">env</span>' <span class="id">env</span> <span class="id">Henv</span> <span class="id">e</span>' <span class="id">e</span> <span class="id">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HG</span>, <span class="id">He</span>. <span class="tactic">clear</span> <span class="id">HG</span> <span class="id">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2">wc_exp_ind2</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">rewrite</span> <span class="id">Henv</span> <span class="kwd">in</span> * || <span class="tactic">rewrite</span> &lt;-<span class="id">Henv</span> <span class="kwd">in</span> * || <span class="tactic">idtac</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">lclocking</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="LCLOCKING.wc_exp_pointwise_Proper">wc_exp_pointwise_Proper</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Proper">Proper</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#pointwise_relation">pointwise_relation</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#iff">iff</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">HG</span> <span class="id">env</span>' <span class="id">env</span> <span class="id">Henv</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Henv</span>, <span class="id">HG</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="LCLOCKING.wc_equation_Proper">wc_equation_Proper</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Proper">Proper</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.equation">equation</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#iff">iff</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8')">Proof with</div>
<div class="proofscript" id="proof8">
 <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G1</span> <span class="id">G2</span> <span class="id">HG</span> <span class="id">env1</span> <span class="id">env2</span> <span class="id">Henv</span> <span class="id">eq1</span> <span class="id">eq2</span> <span class="id">Heq</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">eq2</span> <span class="kwd">as</span> (<span class="id">xs</span> &amp; <span class="id">es</span>). <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span>. <span class="tactic">rewrite</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span> (<span class="id">HA</span> &amp; <span class="id">HB</span> &amp; <span class="id">HC</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">setoid_rewrite</span> &lt;- <span class="id">Henv</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">setoid_rewrite</span> <span class="id">Henv</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="LCLOCKING.wc_equation_pointwise_Proper">wc_equation_pointwise_Proper</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Proper">Proper</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#pointwise_relation">pointwise_relation</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#iff">iff</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G1</span> <span class="id">G2</span> <span class="id">HG</span> <span class="id">env1</span> <span class="id">env2</span> <span class="id">Henv</span> <span class="id">eq</span>; <span class="tactic">subst</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_env_Is_free_in_clock_In">wc_env_Is_free_in_clock_In</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">x</span> <span class="id">id</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwenv</span> <span class="id">Hin</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> <span class="id">Hwenv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hfree</span>; <span class="id">inv</span> <span class="id">Hin</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">wc_env_has_Cbase</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span> <span class="id">x</span> <span class="id">xck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#xck">xck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#y">y</a></span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">x</span> <span class="id">xck</span> <span class="id">WC</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">x</span> <span class="id">Ix</span>. <span class="tactic">induction</span> <span class="id">xck</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">WC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_env_has_Cbase">wc_env_has_Cbase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#y">y</a></span>, <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hl</span>. <span class="tactic">destruct</span> <span class="id">vars</span>. <span class="id">now</span> <span class="id">inv</span> <span class="id">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>. <span class="tactic">eapply</span> <span class="id">wc_env_has_Cbase</span>'; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.WellInstantiated_parent">WellInstantiated_parent</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">cks</span> <span class="id">lck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#lck">lck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> \/ <span class="id"><a href="Velus.Clocks.html#clock_parent">clock_parent</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#lck">lck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_right">Forall2_in_right</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">Hin</span>) <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Clocks.html#instck_parent">instck_parent</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.WellInstantiated_bck">WellInstantiated_bck</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">lck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#lck">lck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#lck">lck</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Henv</span> <span class="id">Hlen</span> <span class="id">Wi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_has_Cbase">wc_env_has_Cbase</a></span> <span class="kwd">in</span> <span class="id">Henv</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">Hin</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_in_left">Forall2_in_left</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Wi</span> <span class="id">Hin</span>) <span class="kwd">as</span> (<span class="id">nc</span> &amp;?&amp;?&amp; <span class="id">He</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> <span class="id">nc</span>. <span class="tactic">destruct</span> <span class="id">nc</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">inv</span> <span class="id">He</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">Adding variables to the environment preserves clocking </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.incl">incl</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_clock_incl">wc_clock_incl</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">cl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cl">cl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#cl">cl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">cl</span> <span class="id">Hincl</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_exp_incl">wc_exp_incl</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof16')">Proof with</div>
<div class="proofscript" id="proof16">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">Hincl</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_equation_incl">wc_equation_incl</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#eq">eq</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof17')">Proof with</div>
<div class="proofscript" id="proof17">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">vars</span>' [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Hincl</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_incl">wc_exp_incl</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [| <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span> <span class="id">b</span> <span class="id">Hin1</span> <span class="id">Hin2</span> <span class="id">Hin</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="tactic">eapply</span> <span class="id">Hincl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.incl">incl</a></span>.<br/>
<br/>
<div class="doc">The global can also be extended ! </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.global_incl">global_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_exp_global_incl">wc_exp_global_incl</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id">G</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hincl</span> <span class="id">Hndup1</span> <span class="id">Hndup2</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_ind2">wc_exp_ind2</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node_incl">find_node_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_equation_global_incl">wc_equation_global_incl</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id">G</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">vars</span> [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Hincl</span> <span class="id">Hndup1</span> <span class="id">Hndup2</span> [<span class="id">Hwc1</span> <span class="id">Hwc2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_global_incl">wc_exp_global_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_node_global_incl">wc_node_global_incl</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id">G</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hincl</span> <span class="id">Hndup1</span> <span class="id">Hndup2</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation_global_incl">wc_equation_global_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">Now that we know this, we can deduce a weaker version of wc_global using Forall: </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_global_Forall">wc_global_Forall</a></span> : <span class="kwd">forall</span> <span class="id">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global_NoDup">wc_global_NoDup</a></span> <span class="id">_</span> <span class="id">Hwc</span>) <span class="kwd">as</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node_global_incl">wc_node_global_incl</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hndup</span>. <span class="tactic">specialize</span> (<span class="id">IHHwc</span> <span class="id">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node_global_incl">wc_node_global_incl</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.global_incl">global_incl</a></span>.<br/>
<br/>
<h2> Validation </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Extern</span> 2 (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id">_</span>)) =&gt; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#In_idck_exists">In_idck_exists</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.ValidateExpression">ValidateExpression</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.ValidateExpression.G">G</a></span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LCLOCKING.ValidateExpression.venv">venv</a></span> : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">option_monad_scope</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_var">check_var</a></span> (<span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">xc</span> =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> ==<span class="id">b</span> <span class="id">xc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_paired_clocks">check_paired_clocks</a></span> (<span class="id">nc1</span> <span class="id">nc2</span> : <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) (<span class="id">tc</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.ann">ann</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#tc">tc</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">t</span>, (<span class="id">c</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span> ==<span class="id">b</span> <span class="id">c</span>) &amp;&amp; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> ==<span class="id">b</span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_merge_clocks">check_merge_clocks</a></span> {<span class="id">A</span>} (<span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) (<span class="id">nc1</span> <span class="id">nc2</span> : <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) (<span class="id">ty</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#A">A</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck1</span> <span class="id">x1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id">_</span>), (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck2</span> <span class="id">x2</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ck1</span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) &amp;&amp; (<span class="id">ck2</span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) &amp;&amp; (<span class="id">x1</span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>) &amp;&amp; (<span class="id">x2</span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_ite_clocks">check_ite_clocks</a></span> {<span class="id">A</span>} (<span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) (<span class="id">nc1</span> <span class="id">nc2</span> : <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) (<span class="id">ty</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#A">A</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) &amp;&amp; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.add_isub">add_isub</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sub</span> : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nin</span> : (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * (<span class="id"><a href="Velus.Lustre.LClocking.html#Op.type">type</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nc</span> : <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc">nc</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#nin">nin</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y</span>, (<span class="id">x</span>, (<span class="id">xt</span>, <span class="id">xc</span>)) =&gt; <span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.add_osub">add_osub</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sub</span> : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nin</span> : (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * (<span class="id"><a href="Velus.Lustre.LClocking.html#Op.type">type</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">tnc</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Op.type">type</a></span> * <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nin">nin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tnc">tnc</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.ValidateExpression.CheckInst">CheckInst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variables</span> (<span class="id"><a name="LCLOCKING.ValidateExpression.CheckInst.bck">bck</a></span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) (<span class="id"><a name="LCLOCKING.ValidateExpression.CheckInst.sub">sub</a></span> : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.check_inst">check_inst</a></span> (<span class="id">ick</span> <span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ick">ick</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> =&gt; (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.CheckInst.bck">bck</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ick</span>' <span class="id">x</span> <span class="id">xb</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.CheckInst.sub">sub</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck</span>' <span class="id">y</span> <span class="id">yb</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">yb</span> ==<span class="id">b</span> <span class="id">xb</span>) &amp;&amp; (<span class="id">y</span> ==<span class="id">b</span> <span class="id">sx</span>) &amp;&amp; (<span class="id"><a href="Velus.Lustre.LClocking.html#check_inst">check_inst</a></span> <span class="id">ick</span>' <span class="id">ck</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.CheckInst">CheckInst</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.find_base_clock">find_base_clock</a></span> (<span class="id">ick</span> <span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ick">ick</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ick</span>' <span class="id">_</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck</span>' <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#find_base_clock">find_base_clock</a></span> <span class="id">ick</span>' <span class="id">ck</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_reset">check_reset</a></span> (<span class="id">rt</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>))) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#rt">rt</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> [<span class="id">nckr</span>]) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.nclockof_clockof">nclockof_clockof</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclockof">nclockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">e</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">NC</span> <span class="id">Hys</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof_nclockof">clockof_nclockof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.check_exp">check_exp</a></span> (<span class="id">e</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Econst">Econst</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ([(<span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)])<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Evar">Evar</a></span> <span class="id">x</span> (<span class="id">xt</span>, <span class="id">nc</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">nc</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">xc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n</span>) =&gt; <span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id">x</span> <span class="id">xc</span>) &amp;&amp; (<span class="id">x</span> ==<span class="id">b</span> <span class="id">n</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> [<span class="id">nc</span>] <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">xc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) =&gt; <span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id">x</span> <span class="id">xc</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> [<span class="id">nc</span>] <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eunop">Eunop</a></span> <span class="id">op</span> <span class="id">e</span> (<span class="id">xt</span>, <span class="id">nc</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">nc</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">xc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nce</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">xc</span> ==<span class="id">b</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nce">nce</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> [<span class="id">nc</span>] <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> (<span class="id">xt</span>, <span class="id">nc</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">nc</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">xc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc1</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc2</span> &lt;- <span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> (<span class="id">xc</span> ==<span class="id">b</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span>) &amp;&amp; (<span class="id">xc</span> ==<span class="id">b</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> [<span class="id">nc</span>] <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Efby">Efby</a></span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc0s</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e0s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">ncs</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">es</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_paired_clocks">check_paired_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc0s">nc0s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs">ncs</a></span> <span class="id">anns</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">anns</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Earrow">Earrow</a></span> <span class="id">e0s</span> <span class="id">es</span> <span class="id">anns</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc0s</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e0s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">ncs</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">es</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_paired_clocks">check_paired_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc0s">nc0s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs">ncs</a></span> <span class="id">anns</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">anns</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Ewhen">Ewhen</a></span> <span class="id">es</span> <span class="id">x</span> <span class="id">b</span> (<span class="id">tys</span>, <span class="id">nc</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">nc</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">xc</span> <span class="id">y</span> <span class="id">yb</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nces</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">es</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> (<span class="id">x</span> ==<span class="id">b</span> <span class="id">y</span>) &amp;&amp; (<span class="id">b</span> ==<span class="id">b</span> <span class="id">yb</span>) &amp;&amp; (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id">x</span> <span class="id">xc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (<span class="id"><a href="Velus.Common.CommonList.html#forall2b">forall2b</a></span> (<span class="kwd">fun</span> '(<span class="id">c</span>, <span class="id">_</span>) <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html#equiv_decb">equiv_decb</a></span> <span class="id">xc</span> <span class="id"><a href="Velus.Lustre.LClocking.html#c">c</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#nces">nces</a></span> <span class="id">tys</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">nc</span>) <span class="id">tys</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Emerge">Emerge</a></span> <span class="id">x</span> <span class="id">e1s</span> <span class="id">e2s</span> (<span class="id">tys</span>, (<span class="id">ck</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc1s</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e1s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc2s</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e2s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">nc</span>' := (<span class="id">ck</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id">x</span> <span class="id">ck</span> &amp;&amp; (<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_merge_clocks">check_merge_clocks</a></span> <span class="id">x</span> <span class="id">ck</span>) <span class="id"><a href="Velus.Lustre.LClocking.html#nc1s">nc1s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2s">nc2s</a></span> <span class="id">tys</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">nc</span>') <span class="id">tys</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eite">Eite</a></span> <span class="id">e</span> <span class="id">e1s</span> <span class="id">e2s</span> (<span class="id">tys</span>, (<span class="id">ck</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc1s</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e1s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nc2s</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">e2s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> (<span class="id">ce</span>, <span class="id">_</span>) &lt;- <span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">nc</span>' := (<span class="id">ck</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#ce">ce</a></span> ==<span class="id">b</span> <span class="id">ck</span>) &amp;&amp; (<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks">check_ite_clocks</a></span> <span class="id">ck</span>) <span class="id"><a href="Velus.Lustre.LClocking.html#nc1s">nc1s</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2s">nc2s</a></span> <span class="id">tys</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">tys</span> &lt;&gt;<span class="id">b</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">nc</span>') <span class="id">tys</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.Eapp">Eapp</a></span> <span class="id">f</span> <span class="id">es</span> <span class="id">ro</span> <span class="id">anns</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">n</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id">f</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.G">G</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nces</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">es</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nin0</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option_map">option_map</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">ck</span>)) =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#hd_error">hd_error</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">nces0</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#hd_error">hd_error</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nces">nces</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">bck</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.find_base_clock">find_base_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nin0">nin0</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nces0">nces0</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">isub</span> := <span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#nces">nces</a></span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sub</span> := <span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>) <span class="id">anns</span> <span class="id"><a href="Velus.Lustre.LClocking.html#isub">isub</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> (<span class="id"><a href="Velus.Common.CommonList.html#forall2b">forall2b</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">ck</span>)) '(<span class="id">ck</span>', <span class="id">_</span>) =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_inst">check_inst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id">ck</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#nces">nces</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (<span class="id"><a href="Velus.Common.CommonList.html#forall2b">forall2b</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, (<span class="id">_</span>, <span class="id">ck</span>)) '(<span class="id">_</span>, (<span class="id">ck</span>', <span class="id">_</span>)) =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_inst">check_inst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id">ck</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>) <span class="id">anns</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_reset">check_reset</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option_map">option_map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#check_exp">check_exp</a></span> <span class="id">ro</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">anns</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_nclock">check_nclock</a></span> (<span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id">nck</span> : <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">ck</span>, <span class="id">nm</span>) := <span class="id"><a href="Velus.Lustre.LClocking.html#nck">nck</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id">ck</span> &amp;&amp; (<span class="kwd">match</span> <span class="id">nm</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n</span> =&gt; <span class="id">n</span> ==<span class="id">b</span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_equation">check_equation</a></span> (<span class="id">eq</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.equation">equation</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">xs</span>, <span class="id">es</span>) := <span class="id"><a href="Velus.Lustre.LClocking.html#eq">eq</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">es</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ncks</span> =&gt; <span class="id"><a href="Velus.Common.CommonList.html#forall2b">forall2b</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_nclock">check_nclock</a></span> <span class="id">xs</span> <span class="id">ncks</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_var_correct">check_var_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span>. <span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">cases_eqn</span> <span class="id">Heq</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">HH</span>. <span class="id">inv</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.elements_correct">Env.elements_correct</a></span> <span class="kwd">in</span> <span class="id">it</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.elements_complete">Env.elements_complete</a></span> <span class="kwd">in</span> <span class="id">HH</span> <span class="kwd">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_refl">equiv_decb_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_paired_clocks_correct">check_paired_clocks_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cks1</span> <span class="id">cks2</span> <span class="id">anns</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_paired_clocks">check_paired_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks1">cks1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks2">cks2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks1">cks1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks2">cks2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#forall3b_Forall3">forall3b_Forall3</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1 <span class="kwd">as</span> [|(<span class="id">ck1</span>, <span class="id">n1</span>) (<span class="id">ck2</span>, <span class="id">n2</span>) (<span class="id">ty</span>, (<span class="id">ck</span>, <span class="id">n</span>)) <span class="id">cks1</span> <span class="id">cks2</span> <span class="id">anns</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">IH1</span> <span class="id">IH2</span> (<span class="id">Hcks1</span> &amp; <span class="id">Hcks2</span> &amp; <span class="id">Hanns</span>)];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IH1</span> <span class="kwd">as</span> (<span class="id">Hck1</span> &amp; <span class="id">Hck2</span>). <span class="id">inv</span> <span class="id">Hck1</span>; <span class="id">inv</span> <span class="id">Hck2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hcks1</span>, <span class="id">Hcks2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_merge_clocks_correct">check_merge_clocks_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">x</span> <span class="id">ck</span> <span class="id">nc1</span> <span class="id">nc2</span> (<span class="id">ty</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#A">A</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_merge_clocks">check_merge_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span> = <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> = <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">A</span> <span class="id">x</span> <span class="id">ck</span> (<span class="id">ck1</span>, <span class="id">n1</span>) (<span class="id">ck2</span>, <span class="id">n2</span>) <span class="id">ty</span> <span class="id">CM</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">Heq</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">CM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id">_</span> /\ <span class="id">_</span>) <span class="id">and</span> <span class="tactic">destruct</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">repeat</span> <span class="id">take</span> (<span class="id">_</span> ==<span class="id">b</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">it</span>; <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_forall3b_merge_clocks_correct">check_forall3b_merge_clocks_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">x</span> <span class="id">ck</span> <span class="id">ets</span> <span class="id">efs</span> (<span class="id">tys</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#A">A</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_merge_clocks">check_merge_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ets">ets</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#efs">efs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#forall3b_Forall3">forall3b_Forall3</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">FA3</span>. <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall3_length">Forall3_length</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">FA3</span>) <span class="kwd">as</span> (<span class="id">L1</span> &amp; <span class="id">L2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>; <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">rewrite</span> <span class="id">L2</span>, <span class="id">L1</span>, <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_ignore23">Forall3_ignore23</a></span> <span class="kwd">in</span> <span class="id">FA3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span> <span class="kwd">with</span> (2:=<span class="id">FA3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nc</span> <span class="id">Inc</span> (<span class="id">y</span> &amp; <span class="id">z</span> &amp; <span class="id">CE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_merge_clocks_correct">check_merge_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">CE</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_ignore13">Forall3_ignore13</a></span> <span class="kwd">in</span> <span class="id">FA3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span> <span class="kwd">with</span> (2:=<span class="id">FA3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nc</span> <span class="id">Inc</span> (<span class="id">y</span> &amp; <span class="id">z</span> &amp; <span class="id">CE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_merge_clocks_correct">check_merge_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">CE</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_ite_clocks_correct">check_ite_clocks_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">ck</span> <span class="id">nc1</span> <span class="id">nc2</span> (<span class="id">ty</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#A">A</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks">check_ite_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc1">nc1</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nc2">nc2</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">A</span> <span class="id">ck</span> (<span class="id">ck1</span>, <span class="id">n1</span>) (<span class="id">ck2</span>, <span class="id">n2</span>) <span class="id">ty</span> <span class="id">CM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks">check_ite_clocks</a></span> <span class="kwd">in</span> <span class="id">CM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">CM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id">_</span> /\ <span class="id">_</span>) <span class="id">and</span> <span class="tactic">destruct</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">repeat</span> <span class="id">take</span> (<span class="id">_</span> ==<span class="id">b</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">it</span>; <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_forall3b_ite_clocks_correct">check_forall3b_ite_clocks_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} <span class="id">ck</span> <span class="id">ncs1</span> <span class="id">ncs2</span> (<span class="id">tys</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#A">A</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks">check_ite_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs1">ncs1</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs2">ncs2</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs1">ncs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs2">ncs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#tys">tys</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs1">ncs1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs2">ncs2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#forall3b_Forall3">forall3b_Forall3</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">FA3</span>. <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall3_length">Forall3_length</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">FA3</span>) <span class="kwd">as</span> (<span class="id">L1</span> &amp; <span class="id">L2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>; <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">rewrite</span> <span class="id">L2</span>, <span class="id">L1</span>, <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_ignore23">Forall3_ignore23</a></span> <span class="kwd">in</span> <span class="id">FA3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span> <span class="kwd">with</span> (2:=<span class="id">FA3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nc</span> <span class="id">Inc</span> (<span class="id">y</span> &amp; <span class="id">z</span> &amp; <span class="id">CE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks_correct">check_ite_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">CE</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall3_ignore13">Forall3_ignore13</a></span> <span class="kwd">in</span> <span class="id">FA3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span> <span class="kwd">with</span> (2:=<span class="id">FA3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nc</span> <span class="id">Inc</span> (<span class="id">y</span> &amp; <span class="id">z</span> &amp; <span class="id">CE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks_correct">check_ite_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">CE</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">oconcat_map_check_exp</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">f</span>} <span class="id">es</span> <span class="id">cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span> <span class="id">cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> /\ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclockof">nclockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span> <span class="kwd">as</span> [|<span class="id">e</span> <span class="id">es</span> <span class="id">IH</span>]; <span class="tactic">intros</span> <span class="id">cks</span> <span class="id">WTf</span> <span class="id">CE</span>. <span class="id">now</span> <span class="id">inv</span> <span class="id">CE</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CE</span>. <span class="tactic">destruct</span> (<span class="id">f</span> <span class="id">e</span>) <span class="id">eqn</span>:<span class="id">Ce</span>; [|<span class="id">now</span> <span class="id">omonadInv</span> <span class="id">CE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">f</span> <span class="id">es</span>)) <span class="kwd">as</span> [<span class="id">ces</span>|]; [|<span class="id">now</span> <span class="id">omonadInv</span> <span class="id">CE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">omonadInv</span> <span class="id">CE</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">WTf</span> <span class="kwd">in</span> <span class="id">Ce</span> <span class="kwd">as</span> (<span class="id">Ce1</span> &amp; -&gt;); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">IH</span> <span class="id">ces</span>) <span class="kwd">as</span> (? &amp; -&gt;); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Ies</span> <span class="id">Fe</span>. <span class="tactic">apply</span> <span class="id">WTf</span> <span class="kwd">in</span> <span class="id">Fe</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">datatypes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.find_add_isub">find_add_isub</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sub</span> <span class="id">x</span> <span class="id">tc</span> <span class="id">ck</span> <span class="id">nm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#tc">tc</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#nm">nm</a></span>)) = <span class="id"><a href="Velus.Lustre.LClocking.html#nm">nm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span>; <span class="tactic">simpl</span>. <span class="tactic">intros</span> <span class="id">sub</span> <span class="id">x</span> (<span class="id">ty</span>, <span class="id">ck</span>) ? <span class="id">nm</span> <span class="id">NI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">nm</span>. <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gss">Env.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.not_find_in_iff">Env.Props.P.F.not_find_in_iff</a></span> <span class="kwd">in</span> <span class="id">NI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.fold_left2_add_osub_skip">fold_left2_add_osub_skip</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">xs</span> <span class="id">anns</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) = <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">y</span>, (<span class="id">yt</span>, <span class="id">yc</span>)) <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">anns</span> <span class="id">sub</span> <span class="id">NIx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Decidable.html#not_or">Decidable.not_or</a></span> <span class="kwd">in</span> <span class="id">NIx</span> <span class="kwd">as</span> (<span class="id">Nx</span> &amp; <span class="id">NIx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">anns</span> <span class="kwd">as</span> [|(<span class="id">ty</span>, (<span class="id">ck</span>, <span class="id">n</span>)) <span class="id">anns</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">_</span> <span class="id">NIx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gso">Env.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.fold_left2_add_isub_skip">fold_left2_add_isub_skip</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">xs</span> <span class="id">ncs</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs">ncs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) = <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">y</span>, (<span class="id">yt</span>, <span class="id">yc</span>)) <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">ncs</span> <span class="id">sub</span> <span class="id">NIx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Decidable.html#not_or">Decidable.not_or</a></span> <span class="kwd">in</span> <span class="id">NIx</span> <span class="kwd">as</span> (<span class="id">Nx</span> &amp; <span class="id">NIx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ncs</span> <span class="kwd">as</span> [|(<span class="id">ck</span>, <span class="id">n</span>) <span class="id">anns</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">_</span> <span class="id">NIx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gso">Env.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.fold_left2_add_isub">fold_left2_add_isub</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">xt</span> <span class="id">xc</span> <span class="id">ck</span> <span class="id">nm</span> <span class="id">xs</span> <span class="id">ncs</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> ((<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#xt">xt</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#xc">xc</a></span>)), (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#nm">nm</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#combine">combine</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs">ncs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncs">ncs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) = <span class="id"><a href="Velus.Lustre.LClocking.html#nm">nm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">y</span>, (<span class="id">yt</span>, <span class="id">yc</span>)) <span class="id">xs</span> <span class="id">IH</span>]. <span class="id">now</span> <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ncs</span> <span class="id">sub</span> <span class="id">Ix</span> <span class="id">ND</span> <span class="id">NI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ncs</span> <span class="kwd">as</span> [|(<span class="id">ck</span>', <span class="id">nm</span>') <span class="id">ncs</span>]. <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Ix</span> <span class="kwd">as</span> [<span class="id">Ix</span>|<span class="id">Ix</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Ix</span>. <span class="id">inv</span> <span class="id">ND</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.fold_left2_add_isub_skip">fold_left2_add_isub_skip</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.find_add_isub">find_add_isub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ((<span class="id">y</span>, (<span class="id">yt</span>, <span class="id">yc</span>)) &amp; <span class="id">Fy</span> &amp; <span class="id">Iy</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">with</span> (1:=<span class="id">Iy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">ND</span>. <span class="tactic">eapply</span> <span class="id">IH</span> <span class="kwd">in</span> <span class="id">Ix</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_combine_l">in_combine_l</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">_</span> <span class="id">xs</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_neq">InMembers_neq</a></span> <span class="kwd">with</span> (2:=<span class="id">it</span>) <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span>; <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">nm</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">not_or</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.fold_left2_add_osub">fold_left2_add_osub</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">xt</span> <span class="id">xc</span> <span class="id">ty</span> <span class="id">ck</span> <span class="id">nm</span> <span class="id">xs</span> <span class="id">ans</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> ((<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#xt">xt</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#xc">xc</a></span>)), (<span class="id"><a href="Velus.Lustre.LClocking.html#ty">ty</a></span>, (<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#nm">nm</a></span>))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#combine">combine</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ans">ans</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ans">ans</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) = <span class="id"><a href="Velus.Lustre.LClocking.html#nm">nm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">y</span>, (<span class="id">yt</span>, <span class="id">yc</span>)) <span class="id">xs</span> <span class="id">IH</span>]. <span class="id">now</span> <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ncs</span> <span class="id">sub</span> <span class="id">Ix</span> <span class="id">ND</span> <span class="id">NI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ncs</span> <span class="kwd">as</span> [|(<span class="id">ck</span>', <span class="id">nm</span>') <span class="id">ncs</span>]. <span class="id">now</span> <span class="tactic">inversion</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Ix</span> <span class="kwd">as</span> [<span class="id">Ix</span>|<span class="id">Ix</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Ix</span>. <span class="id">inv</span> <span class="id">ND</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.fold_left2_add_osub_skip">fold_left2_add_osub_skip</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.find_add_isub">find_add_isub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ((<span class="id">y</span>, (<span class="id">yt</span>, <span class="id">yc</span>)) &amp; <span class="id">Fy</span> &amp; <span class="id">Iy</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">with</span> (1:=<span class="id">Iy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">ND</span>. <span class="tactic">eapply</span> <span class="id">IH</span> <span class="kwd">in</span> <span class="id">Ix</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_combine_l">in_combine_l</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (~<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">_</span> <span class="id">xs</span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_neq">InMembers_neq</a></span> <span class="kwd">with</span> (2:=<span class="id">it</span>) <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span>; <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">nm</span>'; <span class="tactic">auto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">not_or</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_inst_correct">check_inst_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bck</span> <span class="id">xc</span> <span class="id">ck</span> <span class="id">sub</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_inst">check_inst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xc">xc</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#xc">xc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xc</span> <span class="kwd">as</span> [|<span class="id">xc</span>' ? <span class="id">x</span> <span class="id">b</span>]; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span>; <span class="tactic">inversion</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ck</span>. <span class="id">now</span> <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sub</span> <span class="id">Fx</span>. <span class="id">cases_eqn</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id">_</span> &amp;&amp; <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">repeat</span> <span class="id">take</span> ((<span class="id">_</span> ==<span class="id">b</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">it</span>; <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">erewrite</span> <span class="id">IHxc</span> <span class="kwd">in</span> <span class="id">Heq0</span>; [|<span class="tactic">eauto</span>]; <span class="id">inv</span> <span class="id">Heq0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_exp_correct">check_exp_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclockof">nclockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">ncks</span> <span class="id">CE</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">progress</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a</span>:<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.ann">ann</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">a</span>:<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.lann">lann</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">nc</span>:<span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">nc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Common.Common.html#obind">obind</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">omonadInv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">_</span> &amp;&amp; <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> (? &amp; ?)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ((<span class="id">_</span> ==<span class="id">b</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:(<span class="kwd">if</span> ?<span class="id">c</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">C</span> := <span class="tactic">fresh</span> "<span class="id">C0</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span> <span class="id">eqn</span>:<span class="id">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var_correct">check_var_correct</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#assert_singleton_spec">assert_singleton_spec</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Common.Common.html#obind">obind</a></span> ?<span class="id">v</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">OE</span>:=<span class="tactic">fresh</span> "<span class="id">OE0</span>" <span class="kwd">in</span> <span class="tactic">destruct</span> <span class="id">v</span> <span class="id">eqn</span>:<span class="id">OE</span>; [<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>|<span class="id">now</span> <span class="id">omonadInv</span> <span class="id">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:(<span class="kwd">match</span> ?<span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:(<span class="kwd">match</span> ?<span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:(<span class="kwd">match</span> ?<span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id">_</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:(<span class="kwd">match</span> ?<span class="id">c</span> <span class="kwd">with</span> <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_paired_clocks">check_paired_clocks</a></span> ?<span class="id">cks1</span> ?<span class="id">cks2</span> ?<span class="id">anns</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_paired_clocks_correct">check_paired_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> (? &amp; ? &amp; ?)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:(?<span class="id">xs</span> &lt;&gt;<span class="id">b</span> 0) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#nequiv_decb_true">nequiv_decb_true</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt; <span class="id">xs</span>) <span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">l</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">now</span> <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_0_succ">PeanoNat.Nat.lt_0_succ</a></span>])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id"><a href="Velus.Common.Common.html#obind2">obind2</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> ?<span class="id">ce</span>) <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonList.html#assert_singleton">assert_singleton</a></span> <span class="id">ce</span>) <span class="kwd">as</span> [(<span class="id">ck</span>, <span class="id">n</span>)|] <span class="id">eqn</span>:<span class="id">AS</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Econst&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Evar&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Evar&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eunop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">OE0</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.nclockof_clockof">nclockof_clockof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Ebinop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHe1</span> <span class="kwd">in</span> <span class="id">OE0</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">apply</span> <span class="id">IHe2</span> <span class="kwd">in</span> <span class="id">OE1</span> <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.nclockof_clockof">nclockof_clockof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Efby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">e</span> :<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span> =&gt; <span class="id">_</span>) <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">OE0</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">OE1</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">and</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Earrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">e</span> :<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp">exp</a></span> =&gt; <span class="id">_</span>) <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">OE0</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">OE1</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">and</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Ewhen&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> <span class="id">es</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">and</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.CommonList.html#forall2b">forall2b</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">FA2</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#forall2b_Forall2">forall2b_Forall2</a></span> <span class="kwd">in</span> <span class="id">FA2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">constructor</span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">FA2</span>) <span class="kwd">as</span> <span class="id">Hlen</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">FA2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span> <span class="kwd">with</span> (2:=<span class="id">FA2</span>). <span class="tactic">intros</span> (? &amp; ?) ? (? &amp; <span class="id">HH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">HH</span>; <span class="id">inv</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Emerge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">and</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">_</span> = <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> &lt;- <span class="id">it</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_merge_clocks">check_merge_clocks</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_forall3b_merge_clocks_correct">check_forall3b_merge_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">and</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">_</span> = <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> &lt;- <span class="id">it</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.CommonList.html#forall3b">forall3b</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_ite_clocks">check_ite_clocks</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_forall3b_ite_clocks_correct">check_forall3b_ite_clocks_correct</a></span> <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">AS</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.nclockof_clockof">nclockof_clockof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eapp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">and</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">oconcat_map_check_exp</span>' <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (? &amp; ?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">_</span> = <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> &lt;- <span class="id">it</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">take</span> (<span class="id"><a href="Velus.Common.CommonList.html#forall2b">forall2b</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#forall2b_Forall2">forall2b_Forall2</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.find_base_clock">find_base_clock</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">c</span> |- <span class="id">_</span> =&gt; <span class="tactic">rename</span> <span class="id">c</span> <span class="id">into</span> <span class="id">bck</span> <span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>) <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> <span class="id">_</span>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall">Forall2_forall</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id">_</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>)) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">FA2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">with</span> (1:=<span class="id">FA2</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x</span>, (<span class="id">xt</span>, <span class="id">xc</span>)) (<span class="id">ck</span>, <span class="id">nm</span>) <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_In">Forall2_In</a></span> <span class="kwd">with</span> (1:=<span class="id">Ix</span>), <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_inst_correct">check_inst_correct</a></span> <span class="kwd">in</span> <span class="id">FA2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.fold_left2_add_osub_skip">fold_left2_add_osub_skip</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.fold_left2_add_isub">fold_left2_add_isub</a></span> <span class="kwd">with</span> (1:=<span class="id">Ix</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.empty_in_iff">Env.Props.P.F.empty_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_combine_l">in_combine_l</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span> <span class="kwd">with</span> (2:=<span class="id">Ix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span>) <span class="kwd">as</span> <span class="id">ND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Permutation_swap">Permutation_swap</a></span> <span class="kwd">in</span> <span class="id">ND</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">ND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">ND</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">ND</span>. <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id">bck</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_osub">add_osub</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>) <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.add_isub">add_isub</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">es</span>) (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_forall">Forall2_forall</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> <span class="id">_</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span>) <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">FA2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [|<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">with</span> (1:=<span class="id">FA2</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x</span>, (<span class="id">xt</span>, <span class="id">xc</span>)) (<span class="id">ck</span>, <span class="id">nm</span>) <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#combine_map_snd">combine_map_snd</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Ix</span> <span class="kwd">as</span> (((<span class="id">y</span> &amp; (<span class="id">yt</span> &amp; <span class="id">yc</span>)), (<span class="id">yc</span>' &amp; <span class="id">ynm</span>)) &amp; <span class="id">EE</span> &amp; <span class="id">Ix</span>); <span class="id">inv</span> <span class="id">EE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_In">Forall2_In</a></span> <span class="kwd">with</span> (1:=<span class="id">Ix</span>), <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_inst_correct">check_inst_correct</a></span> <span class="kwd">in</span> <span class="id">FA2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.fold_left2_add_osub">fold_left2_add_osub</a></span> <span class="kwd">with</span> (1:=<span class="id">Ix</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.not_find_in_iff">Env.Props.P.F.not_find_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.fold_left2_add_isub_skip">fold_left2_add_isub_skip</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Environment.html#Env.gempty">Env.gempty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_combine_l">in_combine_l</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">Ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span> <span class="kwd">with</span> (2:=<span class="id">Ix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation_app_comm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id">n</span>.(<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span>) <span class="kwd">as</span> <span class="id">ND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Permutation_swap">Permutation_swap</a></span> <span class="kwd">in</span> <span class="id">ND</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">ND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">ND</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">ND</span>. <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">cases_eqn</span> <span class="id">Heq</span>; <span class="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> ?<span class="id">e</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> [?<span class="id">nc</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">nc</span> <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="kwd">forall</span> <span class="id">ncks</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt; <span class="id">_</span> /\ <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">CE</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">CE</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>) <span class="kwd">as</span> (<span class="id">CE1</span> &amp; <span class="id">CE2</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.nclockof_clockof">nclockof_clockof</a></span> <span class="kwd">with</span> (1:=<span class="id">CE2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.oconcat_map_check_exp">oconcat_map_check_exp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">es</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> = <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span> <span class="kwd">as</span> [|<span class="id">e</span> <span class="id">es</span> <span class="id">IH</span>]; <span class="tactic">intros</span> <span class="id">ncks</span> <span class="id">CE</span>. <span class="id">now</span> <span class="id">inv</span> <span class="id">CE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CE</span>. <span class="id">cases_eqn</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rename</span> <span class="id">it</span> <span class="id">into</span> <span class="id">CWF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp_correct">check_exp_correct</a></span> <span class="kwd">in</span> <span class="id">CWF</span> <span class="kwd">as</span> (<span class="id">WCe</span> &amp; <span class="id">NCe</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_exp">check_exp</a></span> <span class="id">es</span>)) <span class="id">eqn</span>:<span class="id">CWF</span>; <span class="id">inv</span> <span class="id">CE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>) <span class="kwd">as</span> (? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id">_</span> = <span class="id">_</span>) <span class="id">and</span> <span class="tactic">rewrite</span> <span class="id">it</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_equation_correct">check_equation_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eq</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_equation">check_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#eq">eq</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression.venv">venv</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#eq">eq</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">eq</span> <span class="id">CE</span>. <span class="tactic">destruct</span> <span class="id">eq</span> <span class="kwd">as</span> (<span class="id">xs</span>, <span class="id">es</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#oconcat">oconcat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">_</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.oconcat_map_check_exp">oconcat_map_check_exp</a></span> <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (<span class="id">WC</span> &amp; <span class="id">NC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#forall2b_Forall2">forall2b_Forall2</a></span> <span class="kwd">in</span> <span class="id">CE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span> <span class="kwd">with</span> (2:=<span class="id">CE</span>); <span class="tactic">intros</span> <span class="id">x</span> (<span class="id">ck</span>, <span class="id">nm</span>) <span class="id">Ix</span> <span class="id">Inc</span> <span class="id">CNC</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">cases_eqn</span> <span class="id">Heq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">CNC</span> <span class="kwd">as</span> (<span class="id">CNC1</span> &amp; <span class="id">CNC2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">and</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var_correct">check_var_correct</a></span> <span class="kwd">in</span> <span class="id">it</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#equiv_decb_equiv">equiv_decb_equiv</a></span> <span class="kwd">in</span> <span class="id">CNC2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateExpression">ValidateExpression</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.ValidateGlobal">ValidateGlobal</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.check_clock">check_clock</a></span> <span class="id">xenv</span> (<span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck</span>' <span class="id">x</span> <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var">check_var</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xenv">xenv</a></span> <span class="id">x</span> <span class="id">ck</span>' &amp;&amp; <span class="id"><a href="Velus.Lustre.LClocking.html#check_clock">check_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xenv">xenv</a></span> <span class="id">ck</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_env">check_env</a></span> (<span class="id">env</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_clock">check_clock</a></span> (<span class="id"><a href="Velus.Environment.html#Env.from_list">Env.from_list</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#env">env</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#env">env</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_node">check_node</a></span> (<span class="id">G</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span>) (<span class="id">n</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.node">node</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_env">check_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>)) &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_env">check_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>)) &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_env">check_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>)) &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_equation">check_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> (<span class="id"><a href="Velus.Environment.html#Env.from_list">Env.from_list</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_vars">n_vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>)))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_eqs">n_eqs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.check_global">check_global</a></span> (<span class="id">G</span> : <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global">global</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#check_nodup">check_nodup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_name">n_name</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fix</span> <span class="id">aux</span> <span class="id">G</span> := <span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [] =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">hd</span>::<span class="id">tl</span> =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_node">check_node</a></span> <span class="id">tl</span> <span class="id">hd</span> &amp;&amp; <span class="id"><a href="Velus.Lustre.LClocking.html#aux">aux</a></span> <span class="id">tl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_clock_correct">check_clock_correct</a></span> : <span class="kwd">forall</span> <span class="id">xenv</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_clock">check_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xenv">xenv</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xenv">xenv</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> <span class="id">Hcheck</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span> <span class="kwd">as</span> [<span class="id">Hc1</span> <span class="id">Hc2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_var_correct">check_var_correct</a></span> <span class="kwd">in</span> <span class="id">Hc1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_env_correct">check_env_correct</a></span> : <span class="kwd">forall</span> <span class="id">env</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_env">check_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#env">env</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#env">env</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">env</span> <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_env">check_env</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#forallb_Forall">forallb_Forall</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> ? <span class="id">Hc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_clock_correct">check_clock_correct</a></span> <span class="kwd">in</span> <span class="id">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.elements_from_list_incl">Env.elements_from_list_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_node_correct">check_node_correct</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_node">check_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_node">check_node</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span>. <span class="tactic">destruct</span> <span class="id">Hcheck</span> <span class="kwd">as</span> [[[<span class="id">Hc1</span> <span class="id">Hc2</span>] <span class="id">Hc3</span>] <span class="id">Hc4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_env_correct">check_env_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#forallb_Forall">forallb_Forall</a></span> <span class="kwd">in</span> <span class="id">Hc4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span> ? <span class="id">Hcheck</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_equation_correct">check_equation_correct</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation_incl">wc_equation_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.elements_from_list_incl">Env.elements_from_list_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.check_global_correct">check_global_correct</a></span> : <span class="kwd">forall</span> <span class="id">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_global">check_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">Hcheck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span>; <span class="tactic">destruct</span> <span class="id">Hcheck</span> <span class="kwd">as</span> [<span class="id">Hndup</span> <span class="id">Hcheck</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#check_nodup_correct">check_nodup_correct</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">G</span>; <span class="tactic">constructor</span>; <span class="id">inv</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hcheck</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hcheck</span> <span class="kwd">as</span> [<span class="id">Hc1</span> <span class="id">Hc2</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.check_node_correct">check_node_correct</a></span> <span class="kwd">in</span> <span class="id">Hc1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="tactic">intros</span> ? <span class="id">Hin</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.ValidateGlobal">ValidateGlobal</a></span>.<br/>
<br/>
<h3> Some additional properties related to remove_member </h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.remove_member">remove_member</a></span> {<span class="id">B</span>} := @<span class="id"><a href="Velus.Common.CommonList.html#remove_member">remove_member</a></span> <span class="id">_</span> <span class="id"><a href="Velus.Lustre.LClocking.html#B">B</a></span> <span class="id"><a href="Velus.Common.CommonPS.html#EqDec_instance_0">EqDec_instance_0</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_clock_nfreein_remove">wc_clock_nfreein_remove</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">id</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.remove_member">remove_member</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">id</span> <span class="id">ck</span> <span class="id">Hnfree</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">IHHwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hfree</span>'. <span class="tactic">apply</span> <span class="id">Hnfree</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> <span class="id">IHHwc</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_neq_In">remove_member_neq_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">contra</span>; <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id">Hnfree</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_env_nfreein_remove">wc_env_nfreein_remove</a></span> : <span class="kwd">forall</span> <span class="id">id</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">ck</span>) =&gt; ~<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.remove_member">remove_member</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> <span class="id">vars</span> <span class="id">Hndup</span> <span class="id">Hwc</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_incl">Forall_incl</a></span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_incl">remove_member_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">id</span>' <span class="id">ck</span>'] <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">H1</span> <span class="id">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_nfreein_remove">wc_clock_nfreein_remove</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">wc_clock_nfreein_remove</span>' : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">id</span> <span class="id">ck</span> <span class="id">ck</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> ((<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>)::<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">ck</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">id</span> <span class="id">ck</span> <span class="id">ck</span>' <span class="id">Hnfree</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">IHHwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hfree</span>'. <span class="tactic">apply</span> <span class="id">Hnfree</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> <span class="id">IHHwc</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hnfree</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.clock_parent_In">clock_parent_In</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ck</span> <span class="id">ck</span>' <span class="id">id</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#clock_parent">clock_parent</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#b">b</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id">ck</span>') <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Hwc</span> <span class="id">Hparent</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hparent</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<div class="doc">The clock of a var cant depend on its var </div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_nfree_in_clock">wc_nfree_in_clock</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ck</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">ck</span> <span class="id">id</span> <span class="id">Hndup</span> <span class="id">Hin</span> <span class="id">Hwc</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock_self_or_parent">Is_free_in_clock_self_or_parent</a></span> <span class="kwd">in</span> <span class="id">contra</span> <span class="kwd">as</span> [<span class="id">ck</span>' [<span class="id">b</span> [<span class="id">H</span>|<span class="id">H</span>]]]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_det">NoDupMembers_det</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. 2:<span class="tactic">eapply</span> <span class="id">H3</span>. 2:<span class="tactic">eapply</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Clocks.html#clock_not_in_clock">clock_not_in_clock</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">id</span>, <span class="id">ck</span>') <span class="id">vars</span>) <span class="kwd">as</span> <span class="id">Hin</span>' <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.clock_parent_In">clock_parent_In</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">clock_parent_parent</span>' <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Clocks.html#clock_parent_no_loops">clock_parent_no_loops</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_det">NoDupMembers_det</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. 2:<span class="tactic">eapply</span> <span class="id">Hin</span>. 2:<span class="tactic">eapply</span> <span class="id">Hin</span>'. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> A clock dependency order </h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.dep_ord_clock_nil">dep_ord_clock_nil</a></span> : <span class="id"><a href="Velus.Lustre.LClocking.html#dep_ordered_clocks">dep_ordered_clocks</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.dep_ord_clock_cons">dep_ord_clock_cons</a></span> : <span class="kwd">forall</span> <span class="id">ck</span> <span class="id">id</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#dep_ordered_clocks">dep_ordered_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Exists">Exists</a></span> (<span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#dep_ordered_clocks">dep_ordered_clocks</a></span> ((<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>)::<span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Program</span> <span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.wc_env_dep_ordered">wc_env_dep_ordered</a></span> (<span class="id">vars</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)) {<span class="kwd">measure</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vars</span>)} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id">vars</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">vars</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> <span class="id">vars</span> <span class="id">vars</span>' /\ <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> <span class="id">vars</span>' := <span class="id">_</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof48')">Next Obligation.</div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">Hndup</span>. <span class="tactic">rename</span> <span class="id">H0</span> <span class="id">into</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">exists_child_clock</span>' <span class="id">vars</span> <span class="id">Hndup</span> <span class="id">Hwc</span>) <span class="kwd">as</span> [?|[<span class="id">id</span> [<span class="id">ck</span> [<span class="id">Hin</span> <span class="id">Hfree</span>]]]]; <span class="tactic">subst</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">exists</span> []. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">remember</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.remove_member">remove_member</a></span> <span class="id">id</span> <span class="id">vars</span>) <span class="kwd">as</span> <span class="id">vars</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">vars</span>') <span class="kwd">as</span> <span class="id">Hndup</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_NoDupMembers">remove_member_NoDupMembers</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id">vars</span>') <span class="kwd">as</span> <span class="id">Hwc</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_nfreein_remove">wc_env_nfreein_remove</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vars</span>' &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vars</span>) <span class="kwd">as</span> <span class="id">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">Heqvars</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Common.CommonList.html#remove_member_Perm">remove_member_Perm</a></span> <span class="id"><a href="Velus.Common.CommonPS.html#EqDec_instance_0">EqDec_instance_0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hndup</span> <span class="id">Hin</span>) <span class="kwd">as</span> <span class="id">Hperm</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hperm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_length">Permutation_length</a></span> <span class="kwd">in</span> <span class="id">Hperm</span>. <span class="tactic">rewrite</span> <span class="id">Hperm</span>; <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_succ_diag_r">PeanoNat.Nat.lt_succ_diag_r</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">wc_env_dep_ordered</span> <span class="id">_</span> <span class="id">Hlen</span> <span class="id">Hndup</span>' <span class="id">Hwc</span>') <span class="kwd">as</span> [<span class="id">vars</span>'' [<span class="id">Hperm</span> <span class="id">Hdep</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> ((<span class="id">id</span>, <span class="id">ck</span>)::<span class="id">vars</span>''). <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id">Hperm</span>, <span class="id">Heqvars</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_Perm">remove_member_Perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>. <span class="tactic">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_Exists_neg">Forall_Exists_neg</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>, &lt;- <span class="id">Hperm</span>, <span class="id">Heqvars</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_incl">Forall_incl</a></span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_incl">remove_member_incl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">id</span>' <span class="id">ck</span>'] <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_clock_dep_ordered_remove">wc_clock_dep_ordered_remove</a></span> : <span class="kwd">forall</span> <span class="id">id</span> <span class="id">ck</span> <span class="id">x</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> <span class="id">ck</span> [<span class="id">id</span>' <span class="id">ck</span>'] <span class="id">xs</span> <span class="id">Hndup</span> <span class="id">Hin</span> <span class="id">Hdep</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_nfreein_remove">wc_clock_nfreein_remove</a></span> <span class="kwd">with</span> (<span class="id">id</span>:=<span class="id">id</span>') <span class="kwd">in</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Velus.Common.CommonPS.html#EqDec_instance_0">EqDec_instance_0</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.remove_member">remove_member</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_nIn_idem">remove_member_nIn_idem</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hdep</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_Exists_neg">Forall_Exists_neg</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">id</span>, <span class="id">ck</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.wc_env_dep_ordered_remove">wc_env_dep_ordered_remove</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof50')">Proof with</div>
<div class="proofscript" id="proof50">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">id</span>' <span class="id">ck</span>'] <span class="id">xs</span> <span class="id">Hndup</span> <span class="id">Hdep</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [| <span class="tactic">eauto</span>]. <span class="tactic">intros</span> [<span class="id">id</span> <span class="id">ck</span>] <span class="id">Hin</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_dep_ordered_remove">wc_clock_dep_ordered_remove</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> Another equivalent clock dependency order </h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.only_depends_on">only_depends_on</a></span> (<span class="id">vars</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.only_depends_on_Con">only_depends_on_Con</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ck</span> <span class="id">id</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">ck</span> <span class="id">id</span> <span class="id">b</span> <span class="id">Hon</span> <span class="id">id</span>' <span class="id">Hisfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hon</span>. <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.only_depends_on_incl">only_depends_on_incl</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">ck</span> <span class="id">Hincl</span> <span class="id">Honly</span> <span class="id">id</span> <span class="id">Hfree</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_clock_only_depends_on">wc_clock_only_depends_on</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">ck</span> <span class="id">Hwc</span> <span class="id">id</span> <span class="id">Hisfree</span>; <span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hisfree</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">x</span>, <span class="id">ck</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.dep_ordered_nil">dep_ordered_nil</a></span> : <span class="id"><a href="Velus.Lustre.LClocking.html#dep_ordered_on">dep_ordered_on</a></span> []<br/>
&nbsp;&nbsp;| <span class="id"><a name="LCLOCKING.dep_ordered_cons">dep_ordered_cons</a></span> : <span class="kwd">forall</span> <span class="id">nck</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#nck">nck</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#dep_ordered_on">dep_ordered_on</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#nck">nck</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.dep_ordered_on_InMembers">dep_ordered_on_InMembers</a></span> : <span class="kwd">forall</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span> =&gt; <span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt; <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ncks</span> <span class="id">Hdep</span>. <span class="tactic">induction</span> <span class="id">Hdep</span>; <span class="tactic">simpl</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">id</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">nck</span> <span class="kwd">as</span> [<span class="id">id</span>' <span class="id">ck</span>']; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">id</span> <span class="id">ck</span>] <span class="id">Hin</span> <span class="id">id</span>' <span class="id">Hisfree</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">nck</span> <span class="kwd">as</span> [<span class="id">id</span>'' <span class="id">ck</span>''].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hin</span> <span class="kwd">in</span> <span class="id">Hisfree</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.dep_ordered_dep_ordered_on">dep_ordered_dep_ordered_on</a></span> : <span class="kwd">forall</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof55')">Proof with</div>
<div class="proofscript" id="proof55">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ncks</span>; <span class="tactic">intros</span> <span class="id">Hndup</span> <span class="id">Hwc</span> <span class="id">Hdep</span>; [<span class="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hndup</span>. <span class="id">inv</span> <span class="id">Hdep</span>. <span class="tactic">constructor</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">IHncks</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_dep_ordered_remove">wc_env_dep_ordered_remove</a></span> <span class="kwd">with</span> (<span class="id">x</span>:=(<span class="id">a0</span>, <span class="id">b</span>)) <span class="kwd">in</span> <span class="id">Hwc</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hwc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_only_depends_on">wc_clock_only_depends_on</a></span>, <span class="id"><a href="Velus.Clocks.html#wc_clock_no_loops_remove">wc_clock_no_loops_remove</a></span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.dep_ordered_on_dep_ordered">dep_ordered_on_dep_ordered</a></span> : <span class="kwd">forall</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof56')">Proof with</div>
<div class="proofscript" id="proof56">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ncks</span> <span class="kwd">as</span> [|[<span class="id">id</span> <span class="id">ck</span>]]; <span class="tactic">intros</span> <span class="id">Hndup</span> <span class="id">Hwc</span> <span class="id">Hdep</span>; [<span class="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hndup</span>':=<span class="id">Hndup</span>). <span class="id">inv</span> <span class="id">Hndup</span>'; <span class="id">inv</span> <span class="id">Hdep</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">IHncks</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_nfreein_remove">wc_env_nfreein_remove</a></span> <span class="kwd">with</span> (<span class="id">id</span>:=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="Velus.Common.CommonPS.html#EqDec_instance_0">EqDec_instance_0</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.remove_member">remove_member</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#remove_member_nIn_idem">remove_member_nIn_idem</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_nfree_in_clock">wc_nfree_in_clock</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>... 1:<span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on_InMembers">dep_ordered_on_InMembers</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [? ?] ? <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">contra</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on_InMembers">dep_ordered_on_InMembers</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_Exists_neg">Forall_Exists_neg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">contra</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">contra</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.dep_ordered_iff">dep_ordered_iff</a></span> : <span class="kwd">forall</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_clocks">dep_ordered_clocks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> &lt;-&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof57')">Proof with</div>
<div class="proofscript" id="proof57">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_dep_ordered_on">dep_ordered_dep_ordered_on</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on_dep_ordered">dep_ordered_on_dep_ordered</a></span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.wc_env_dep_ordered_on_remove">wc_env_dep_ordered_on_remove</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span>::<span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof58')">Proof with</div>
<div class="proofscript" id="proof58">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">xs</span> <span class="id">Hndup</span> <span class="id">Hdep</span> <span class="id">Hwenv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on_dep_ordered">dep_ordered_on_dep_ordered</a></span> <span class="kwd">in</span> <span class="id">Hdep</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_dep_ordered_remove">wc_env_dep_ordered_remove</a></span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.wc_env_dep_ordered_on">wc_env_dep_ordered_on</a></span> : <span class="kwd">forall</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">vars</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' /\ <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id">vars</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">Hndup</span> <span class="id">Hwenv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_dep_ordered">wc_env_dep_ordered</a></span> <span class="id">vars</span> <span class="id">Hndup</span> <span class="id">Hwenv</span>) <span class="kwd">as</span> [<span class="id">vars</span>' [<span class="id">Hperm</span> <span class="id">Hdep</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">vars</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_dep_ordered_on">dep_ordered_dep_ordered_on</a></span> <span class="kwd">in</span> <span class="id">Hdep</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">Hperm</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">Hperm</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="LCLOCKING.only_depends_on_Proper">only_depends_on_Proper</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Proper">Proper</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation.Permutation</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span> ==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#iff">iff</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">Hperm</span> <span class="id">ck</span> <span class="id">ck</span>' ?; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; [<span class="tactic">rewrite</span> &lt;- <span class="id">Hperm</span>|<span class="tactic">rewrite</span> <span class="id">Hperm</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> Additional properties about WellInstantiated </h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.anon_streams">anon_streams</a></span> (<span class="id">l</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#map_filter">map_filter</a></span> (<span class="kwd">fun</span> '(<span class="id">ck</span>, <span class="id">id</span>) =&gt; <span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">id</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="id"><a href="Velus.Lustre.LClocking.html#l">l</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.anon_streams_anon_streams">anon_streams_anon_streams</a></span> : <span class="kwd">forall</span> (<span class="id">anns</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.ann">ann</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>) = <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.anon_streams">Syn.anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#anns">anns</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">anns</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">ty</span> [<span class="id">ck</span> [<span class="id">id</span>|]]]; <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.WellInstantiated_sub_fsts">WellInstantiated_sub_fsts</a></span> : <span class="kwd">forall</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">ins</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ins">ins</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#outs">outs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#map_filter">map_filter</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ins">ins</a></span>) = (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#outs">outs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hinst</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">Hsub</span> <span class="id">_</span>]; <span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [<span class="id">ck</span> <span class="id">id</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sub</span>; <span class="tactic">simpl</span>; [<span class="tactic">f_equal</span>|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.instck_only_depends_on">instck_only_depends_on</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">bck</span> <span class="id">bckvars</span> <span class="id">sub</span> <span class="id">ck</span> <span class="id">ck</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bckvars">bckvars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#bckvars">bckvars</a></span>++<span class="id"><a href="Velus.Common.CommonList.html#map_filter">map_filter</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id">ck</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof63')">Proof with</div>
<div class="proofscript" id="proof63">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> <span class="id">ck</span>' <span class="id">Hbck</span> <span class="id">Hdep</span> <span class="id">Hinst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_incl">only_depends_on_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id">eqn</span>:<span class="id">Hinst</span>'; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sub</span> <span class="id">eqn</span>:<span class="id">Hsub</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_Con">only_depends_on_Con</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hdep</span>) <span class="kwd">as</span> <span class="id">Hdep</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">IHck</span> <span class="id">_</span> <span class="id">Hbck</span> <span class="id">Hdep</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> <span class="id">Hfree</span>. <span class="id">inv</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id">Hdep</span> <span class="id">i</span> (<span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>; <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#map_filter_In">map_filter_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHck</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> Relation between nclocksof and fresh_ins </h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.anon_streams_nclockof_fresh_in">anon_streams_nclockof_fresh_in</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclockof">nclockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof64')">Proof with</div>
<div class="proofscript" id="proof64">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">Hwc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> <span class="id">Hin</span>; <span class="id">inv</span> <span class="id">Hin</span>... <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id">_</span>) <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H4</span> <span class="id">H5</span> <span class="id">H6</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">IHa</span>... <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">ty</span> [<span class="id">ck</span> <span class="id">id</span>]]; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id">_</span>) <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H4</span> <span class="id">H5</span> <span class="id">H6</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">IHa</span>... <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.unnamed_stream">unnamed_stream</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">ty</span> [<span class="id">ck</span> <span class="id">id</span>]]; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id">_</span>) <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H4</span> <span class="id">H5</span> <span class="id">H6</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tys</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id">_</span>) <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H5</span> <span class="id">H6</span> <span class="id">H7</span> <span class="id">H8</span> <span class="id">H9</span> <span class="id">H10</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tys</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id">_</span>) <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H5</span> <span class="id">H6</span> <span class="id">H7</span> <span class="id">H8</span> <span class="id">H9</span> <span class="id">H10</span> <span class="id">H11</span> <span class="id">H12</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tys</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_anon_streams">anon_streams_anon_streams</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_anon_streams">anon_streams_anon_streams</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.anon_streams_nclocksof_fresh_ins">anon_streams_nclocksof_fresh_ins</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof">nclocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>)) (<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof65')">Proof with</div>
<div class="proofscript" id="proof65">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> <span class="id">Hf</span>; <span class="id">inv</span> <span class="id">Hf</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#map_filter_app">map_filter_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_app">incl_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_nclockof_fresh_in">anon_streams_nclockof_fresh_in</a></span> <span class="kwd">in</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span>, <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span>, <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> wc_exp implies wc_clock </h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id">bck</span> (<span class="id">sub</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id">vars</span> <span class="id">vars</span>' : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>)) <span class="id">dom</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="kwd">forall</span> <span class="id">i</span>' <span class="id">ck</span> <span class="id">ck</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#i">i</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">i</span>', <span class="id">ck</span>') <span class="id">vars</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.preserving_sub_incl1">preserving_sub_incl1</a></span> : <span class="kwd">forall</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars1</span> <span class="id">vars1</span>' <span class="id">vars2</span> <span class="id">dom</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id">vars1</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars1">vars1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars1">vars1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars2">vars2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id">vars1</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars2">vars2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars1</span> <span class="id">vars1</span>' <span class="id">vars2</span> <span class="id">dom</span> <span class="id">Hincl</span> <span class="id">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.preserving_sub_incl2">preserving_sub_incl2</a></span> : <span class="kwd">forall</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars1</span> <span class="id">vars2</span> <span class="id">vars2</span>' <span class="id">dom</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars2">vars2</a></span> <span class="id">vars2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars1">vars1</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars2">vars2</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars1">vars1</a></span> <span class="id">vars2</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars1</span> <span class="id">vars2</span> <span class="id">vars2</span>' <span class="id">dom</span> <span class="id">Hincl</span> <span class="id">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.preserving_sub_incl3">preserving_sub_incl3</a></span> : <span class="kwd">forall</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">dom</span> <span class="id">dom</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span> <span class="id">dom</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' <span class="id">dom</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#dom">dom</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">dom</span> <span class="id">dom</span>' <span class="id">Hincl</span> <span class="id">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_incl">Forall_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="LCLOCKING.preserving_sub_Proper">preserving_sub_Proper</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Proper">Proper</a></span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span> ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) ==&gt; @<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#iff">iff</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bck</span> <span class="id">bck</span>' ? <span class="id">sub</span> <span class="id">sub</span>' ?; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars1</span> <span class="id">vars1</span>' <span class="id">Hperm1</span> <span class="id">vars2</span> <span class="id">vars2</span>' <span class="id">Hperm2</span> <span class="id">dom</span> <span class="id">dom</span>' <span class="id">Hperm3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl1">preserving_sub_incl1</a></span> <span class="kwd">in</span> <span class="id">H</span>. 2:<span class="tactic">rewrite</span> <span class="id">Hperm1</span>. 4:<span class="tactic">rewrite</span> &lt;- <span class="id">Hperm1</span>. 2,4:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl2">preserving_sub_incl2</a></span> <span class="kwd">in</span> <span class="id">H</span>. 2:<span class="tactic">rewrite</span> <span class="id">Hperm2</span>. 4:<span class="tactic">rewrite</span> &lt;- <span class="id">Hperm2</span>. 2,4:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl3">preserving_sub_incl3</a></span> <span class="kwd">in</span> <span class="id">H</span>. 2:<span class="tactic">rewrite</span> <span class="id">Hperm3</span>. 4:<span class="tactic">rewrite</span> &lt;- <span class="id">Hperm3</span>. 2,4:<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="LCLOCKING.frees_in_clock">frees_in_clock</a></span> (<span class="id">ck</span> : <span class="id"><a href="Velus.ClockDefs.html#clock">clock</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Cbase">Cbase</a></span> =&gt; []<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id">ck</span>' <span class="id">id</span> <span class="id">_</span> =&gt; <span class="id">id</span>::(<span class="id"><a href="Velus.Lustre.LClocking.html#frees_in_clock">frees_in_clock</a></span> <span class="id">ck</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.Is_free_in_frees_in_clock">Is_free_in_frees_in_clock</a></span> : <span class="kwd">forall</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">id</span> =&gt; <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.frees_in_clock">frees_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof70')">Proof with</div>
<div class="proofscript" id="proof70">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">simpl</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.only_depends_on_frees_in_clock">only_depends_on_frees_in_clock</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.frees_in_clock">frees_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> <span class="id">Hdep</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">incl_nil</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_cons">incl_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">Hdep</span>, <span class="id"><a href="Velus.Clocks.html#FreeCon1">FreeCon1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">IHck</span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_Con">only_depends_on_Con</a></span>, <span class="id">Hdep</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.instck_wc_clock">instck_wc_clock</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">ck</span> <span class="id">ck</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.frees_in_clock">frees_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ck</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id">ck</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof72')">Proof with</div>
<div class="proofscript" id="proof72">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">bck</span> <span class="id">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ck</span>; <span class="tactic">intros</span> <span class="id">ck</span>' <span class="id">Hwc</span> <span class="id">Hwcb</span> <span class="id">Hpre</span> <span class="id">Hinst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ClockDefs.html#instck">instck</a></span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">ck</span>) <span class="id">eqn</span>:<span class="id">Hinst</span>'; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id">bck</span> <span class="id">sub</span> <span class="id">vars</span> <span class="id">vars</span>' (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.frees_in_clock">frees_in_clock</a></span> <span class="id">ck</span>)) <span class="kwd">as</span> <span class="id">Hpre</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl3">preserving_sub_incl3</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">IHck</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">Hwcb</span> <span class="id">Hpre</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="kwd">in</span> <span class="id">Hpre</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">sub</span> <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">Hsub</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinst</span>. <span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hpre</span>... <span class="tactic">left</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.WellInstantiated_wc_clock">WellInstantiated_wc_clock</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">sub</span> <span class="id">bck</span> <span class="id">id</span> <span class="id">ck</span> <span class="id">ck</span>' <span class="id">name</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id">vars</span>' (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.frees_in_clock">frees_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#id">id</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) (<span class="id">ck</span>', <span class="id"><a href="Velus.Lustre.LClocking.html#name">name</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id">ck</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span> <span class="id">vars</span>' <span class="id">sub</span> <span class="id">bck</span> <span class="id">id</span> <span class="id">ck</span> <span class="id">ck</span>' <span class="id">name</span> <span class="id">Hwc</span> <span class="id">Hwcb</span> <span class="id">Hpre</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">Hsub</span> <span class="id">Hinst</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.instck_wc_clock">instck_wc_clock</a></span> <span class="kwd">in</span> <span class="id">Hinst</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">WellInstantiated_wc_clocks</span>' : <span class="kwd">forall</span> <span class="id">vars</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>'++<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof74')">Proof with</div>
<div class="proofscript" id="proof74">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">Hndup</span> <span class="id">Hdep</span> <span class="id">Hbck</span> <span class="id">Hwc</span> <span class="id">Hwinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwinst</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id">l</span>) <span class="kwd">as</span> <span class="id">Hwc</span>' <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_dep_ordered_on_remove">wc_env_dep_ordered_on_remove</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hdep</span>. <span class="id">inv</span> <span class="id">Hdep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">IHHwinst</span> <span class="id">H5</span> <span class="id">H2</span> <span class="id">Hwc</span>') <span class="kwd">as</span> [<span class="id">Hpres</span>' <span class="id">Hwc</span>''].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub">preserving_sub</a></span> <span class="id">bck</span> <span class="id">sub</span> ((<span class="id">a</span>, <span class="id">b</span>)::<span class="id">l</span>) (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> (<span class="id">y</span>::<span class="id">l</span>')) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> ((<span class="id">a</span>, <span class="id">b</span>)::<span class="id">l</span>))) <span class="kwd">as</span> <span class="id">Hpres</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">constructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">id</span>' <span class="id">ck</span> <span class="id">ck</span>' <span class="id">Hsub</span> <span class="id">Hinst</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hin</span>. 2:(<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [<span class="id">ck</span>'' ?]. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [? <span class="id">Hinst</span>']; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>. <span class="tactic">f_equal</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span>' <span class="id">Hin</span> <span class="id">id</span>'' <span class="id">ck</span>' <span class="id">ck</span>'' <span class="id">Hsub</span> <span class="id">Hinst</span> <span class="id">Hin</span>'; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span>' <span class="kwd">as</span> [<span class="id">Heq</span>|<span class="id">Hin</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [? ?]; <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">Hsub</span>' <span class="id">Hinst</span>']; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hsub</span> <span class="kwd">in</span> <span class="id">Hsub</span>'. <span class="tactic">rewrite</span> <span class="id">Hinst</span> <span class="kwd">in</span> <span class="id">Hinst</span>'. <span class="id">inv</span> <span class="id">Hinst</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id">Hin</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hsub</span> <span class="id">Hinst</span> <span class="id">Hin</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [? [?|]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [<span class="id">ck</span> [<span class="id">id</span>|]]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_wc_clock">WellInstantiated_wc_clock</a></span> <span class="kwd">in</span> <span class="id">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">inv</span> <span class="id">Hwc</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl3">preserving_sub_incl3</a></span>. 1:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_frees_in_clock">only_depends_on_frees_in_clock</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl2">preserving_sub_incl2</a></span>... <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_wc_clock">WellInstantiated_wc_clock</a></span> <span class="kwd">in</span> <span class="id">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">inv</span> <span class="id">Hwc</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl3">preserving_sub_incl3</a></span>. 1:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_frees_in_clock">only_depends_on_frees_in_clock</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.preserving_sub_incl2">preserving_sub_incl2</a></span>... <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [<span class="id">ck</span> [<span class="id">id</span>|]]; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>|]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.WellInstantiated_wc_clocks">WellInstantiated_wc_clocks</a></span> : <span class="kwd">forall</span> <span class="id">vars</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id">vars</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#xs">xs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>'++<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ys">ys</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof75')">Proof with</div>
<div class="proofscript" id="proof75">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">vars</span>' <span class="id">bck</span> <span class="id">sub</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">Hndup</span> <span class="id">Hwc</span> <span class="id">Hwenv</span> <span class="id">Hwellinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_dep_ordered_on">wc_env_dep_ordered_on</a></span> <span class="id">_</span> <span class="id">Hndup</span> <span class="id">Hwenv</span>) <span class="kwd">as</span> [<span class="id">xs</span>' [<span class="id">Hperm1</span> <span class="id">Hdep1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">xs</span>') <span class="kwd">as</span> <span class="id">Hndup</span>'' <span class="tactic">by</span> (<span class="tactic">rewrite</span> &lt;- <span class="id">Hperm1</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Permutation_1">Forall2_Permutation_1</a></span> <span class="kwd">in</span> <span class="id">Hwellinst</span> <span class="kwd">as</span> [<span class="id">ys</span>' [<span class="id">Hperm2</span> <span class="id">Hwellinst</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">WellInstantiated_wc_clocks</span>' <span class="kwd">in</span> <span class="id">Hwellinst</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>. 2:<span class="tactic">rewrite</span> <span class="id">Hperm2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span>. <span class="tactic">rewrite</span> <span class="id">Hperm2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">Hperm1</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_exp_clockof">wc_exp_clockof</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in">fresh_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clockof">clockof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof76')">Proof with</div>
<div class="proofscript" id="proof76">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">Forall_clocksof</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#flat_map_concat_map">flat_map_concat_map</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_concat">Forall_concat</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span> ? <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">e</span> <span class="id">HG</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hwc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Henv</span> <span class="kwd">in</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;(anon)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Henv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Henv</span> <span class="kwd">in</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHe</span> <span class="kwd">in</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHe1</span> <span class="kwd">in</span> <span class="id">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span> <span class="kwd">in</span> <span class="id">H6</span>, <span class="id">H7</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="kwd">in</span> <span class="id">H6</span>; <span class="tactic">rewrite</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Forall_clocksof</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H4</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span> <span class="kwd">in</span> <span class="id">H6</span>, <span class="id">H7</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clock_of_nclock">clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="kwd">in</span> <span class="id">H6</span>; <span class="tactic">rewrite</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Forall_clocksof</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H4</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tys</span>; [<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> ? <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">es</span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>)) <span class="kwd">as</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">Forall_clocksof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H4</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">H6</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">H1</span>; <span class="tactic">subst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tys</span>; [<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> ? <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">ets</span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">ets</span>)) <span class="kwd">as</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">Forall_clocksof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H5</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">H8</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">ets</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">destruct</span> <span class="id">H2</span>; <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>... <span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tys</span>; [<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> ? <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">ets</span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">ets</span>)) <span class="kwd">as</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">Forall_clocksof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H6</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_Forall">Forall_Forall</a></span> <span class="kwd">in</span> <span class="id">H9</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">ets</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="tactic">destruct</span> <span class="id">H2</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>... <span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">es</span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>)) <span class="kwd">as</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">Forall_clocksof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H0</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H5</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">G</span>' <span class="id">Hwcnode</span>]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span> ++ <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">es</span>)) <span class="id">bck</span>) <span class="kwd">as</span> <span class="id">Hbck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_bck">WellInstantiated_bck</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>. <span class="tactic">apply</span> <span class="id">Hwc</span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hwcnode</span> <span class="kwd">as</span> [? <span class="id">_</span>]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_ingt0">n_ingt0</a></span>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span> <span class="id">H7</span> <span class="id">H8</span>) <span class="kwd">as</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_wc_clocks">WellInstantiated_wc_clocks</a></span> <span class="kwd">in</span> <span class="id">Hinst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hinst</span>. <span class="tactic">destruct</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hinst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#map_filter_app">map_filter_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>. <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_app">incl_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">etransitivity</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_nclocksof_fresh_ins">anon_streams_nclocksof_fresh_ins</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_anon_streams">anon_streams_anon_streams</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span> <span class="id">n</span>) <span class="kwd">as</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, &lt;- <span class="id"><a href="Velus.Common.CommonList.html#Permutation_swap">Permutation_swap</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> *. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>; <span class="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hwcnode</span> <span class="kwd">as</span> [<span class="id">_</span> [<span class="id">Hwcnode</span> <span class="id">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hwcnode</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">es</span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id">es</span>)) <span class="kwd">as</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">Forall_clocksof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H0</span> <span class="id">_</span> <span class="id">Hin</span> (<span class="id">H5</span> <span class="id">_</span> <span class="id">Hin</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_in_incl">fresh_in_incl</a></span>, <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">G</span>' <span class="id">Hwcnode</span>]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id">vars</span> ++ <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id">es</span>)) <span class="id">bck</span>) <span class="kwd">as</span> <span class="id">Hbck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_bck">WellInstantiated_bck</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_nclocksof">clocksof_nclocksof</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwc</span>. <span class="tactic">apply</span> <span class="id">Hwc</span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hwcnode</span> <span class="kwd">as</span> [? <span class="id">_</span>]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_ingt0">n_ingt0</a></span>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span> <span class="id">H7</span> <span class="id">H8</span>) <span class="kwd">as</span> <span class="id">Hinst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_wc_clocks">WellInstantiated_wc_clocks</a></span> <span class="kwd">in</span> <span class="id">Hinst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hinst</span>. <span class="tactic">destruct</span> <span class="id">Hinst</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hinst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#map_filter_app">map_filter_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>. <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_app">incl_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">etransitivity</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_nclocksof_fresh_ins">anon_streams_nclocksof_fresh_ins</a></span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="Velus.Common.CommonList.html#incl_map">incl_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams_anon_streams">anon_streams_anon_streams</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span> <span class="id">n</span>) <span class="kwd">as</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, &lt;- <span class="id"><a href="Velus.Common.CommonList.html#Permutation_swap">Permutation_swap</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> *. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>; <span class="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hwcnode</span> <span class="kwd">as</span> [<span class="id">_</span> [<span class="id">Hwcnode</span> <span class="id">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hwcnode</span>...<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.wc_exp_clocksof">wc_exp_clocksof</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>++<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>))) (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof">clocksof</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof77')">Proof with</div>
<div class="proofscript" id="proof77">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">es</span> <span class="id">HwG</span> <span class="id">Hwenv</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="tactic">simpl</span>. <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp_clockof">wc_exp_clockof</a></span> <span class="kwd">in</span> <span class="id">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span>, <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appl">incl_appl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_incl">wc_clock_incl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.fresh_ins">fresh_ins</a></span>, <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_appr">incl_appr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.wc_clock_is_free_in">wc_clock_is_free_in</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt; <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwc</span> ? <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hfree</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.Forall_wc_clock_is_free_in">Forall_wc_clock_is_free_in</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Clocks.html#wc_clock">wc_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">ck</span> =&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt; <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ck</span> <span class="id">Hwc</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_is_free_in">wc_clock_is_free_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.wc_env_is_free_in">wc_env_is_free_in</a></span> : <span class="kwd">forall</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">_</span>, <span class="id">ck</span>) =&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt; <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwenv</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> <span class="kwd">in</span> <span class="id">Hwenv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [? <span class="id">ck</span>] <span class="id">Hwc</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_clock_is_free_in">wc_clock_is_free_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id">dep_ordered_on</span>' : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Velus.ClockDefs.html#nclock">nclock</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id">dep_ordered</span>'<span class="id">_nil</span> : <span class="kwd">forall</span> <span class="id">vars</span>, <span class="id">dep_ordered_on</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> []<br/>
&nbsp;&nbsp;| <span class="id">dep_ordered</span>'<span class="id">_cons</span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ncks</span> <span class="id">ck</span> <span class="id">name</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dep_ordered_on</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>++<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dep_ordered_on</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> ((<span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>, <span class="id"><a href="Velus.Lustre.LClocking.html#name">name</a></span>)::<span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id">dep_ordered_on</span>'<span class="id">_Forall</span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dep_ordered_on</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">ck</span>, <span class="id">_</span>) =&gt; <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>++<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hdep</span>; <span class="tactic">induction</span> <span class="id">Hdep</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">name</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_incl">only_depends_on_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">name</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ck</span>' <span class="id">name</span>'] <span class="id">Hdep</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on_incl">only_depends_on_incl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">incl_appr</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_tl">incl_tl</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.WellInstantiated_dep_ordered_on">WellInstantiated_dep_ordered_on</a></span> : <span class="kwd">forall</span> <span class="id">bck</span> <span class="id">bckinputs</span> <span class="id">sub</span> <span class="id">cks</span> <span class="id">ncks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.only_depends_on">only_depends_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bckinputs">bckinputs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#cks">cks</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dep_ordered_on</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#bckinputs">bckinputs</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ncks">ncks</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">cks</span>; <span class="tactic">intros</span> * <span class="id">Hdep</span> <span class="id">Hbck</span> <span class="id">Hwi</span>; <span class="id">inv</span> <span class="id">Hdep</span>; <span class="id">inv</span> <span class="id">Hwi</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [<span class="id">ck</span> <span class="id">name</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_sub_fsts">WellInstantiated_sub_fsts</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.instck_only_depends_on">instck_only_depends_on</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.WellInstantiated_is_free_in">WellInstantiated_is_free_in</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">f</span> <span class="id">n</span> <span class="id">inputs</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">sub</span> <span class="id">bck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#f">f</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">ck</span>, <span class="id">_</span>) =&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#inputs">inputs</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated">WellInstantiated</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#bck">bck</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#sub">sub</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#outs">outs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> '(<span class="id">ck</span>, <span class="id">_</span>) =&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Clocks.html#Is_free_in_clock">Is_free_in_clock</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#inputs">inputs</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#ins">ins</a></span>)) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#outs">outs</a></span>))) <span class="id"><a href="Velus.Lustre.LClocking.html#outs">outs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hfind</span> <span class="id">Hinputs</span> <span class="id">Hwi1</span> <span class="id">Hwi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_find_node">wc_find_node</a></span> <span class="kwd">in</span> <span class="id">HwcG</span> <span class="kwd">as</span> [? <span class="id">Hwnode</span>]; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">bck</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="id">ins</span>)) <span class="kwd">as</span> <span class="id">Hbck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_bck">WellInstantiated_bck</a></span> <span class="kwd">in</span> <span class="id">Hwi1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hwnode</span> <span class="kwd">as</span> [? <span class="id">_</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#length_idck">length_idck</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_ingt0">n_ingt0</a></span> <span class="id">n</span>). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span> <span class="id">Hwi1</span> <span class="id">Hwi2</span>) <span class="kwd">as</span> <span class="id">Hwi</span>. <span class="tactic">clear</span> <span class="id">Hwi1</span> <span class="id">Hwi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#idck_app">idck_app</a></span> <span class="kwd">in</span> <span class="id">Hwi</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="tactic">exists</span> <span class="id">vars</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_in">n_in</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_out">n_out</a></span> <span class="id">n</span>)) <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> /\ <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.dep_ordered_on">dep_ordered_on</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="kwd">as</span> [<span class="id">vars</span> [<span class="id">Hperm</span> <span class="id">Hdepo</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_env_dep_ordered_on">wc_env_dep_ordered_on</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">specialize</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_nodup">n_nodup</a></span> <span class="id">n</span>) <span class="kwd">as</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#NoDupMembers_idck">NoDupMembers_idck</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation_app_comm</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.n_vars">n_vars</a></span> <span class="id">n</span>)), &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Hndup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hwnode</span> <span class="kwd">as</span> [<span class="id">_</span> [? <span class="id">_</span>]]; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Permutation_1">Forall2_Permutation_1</a></span> <span class="kwd">in</span> <span class="id">Hwi</span> <span class="kwd">as</span> [<span class="id">vars</span>' [<span class="id">Hperm</span>' <span class="id">Hwi</span>]]; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.WellInstantiated_dep_ordered_on">WellInstantiated_dep_ordered_on</a></span> <span class="kwd">with</span> (<span class="id">bckinputs</span>:=<span class="id">inputs</span>) <span class="kwd">in</span> <span class="id">Hwi</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">dep_ordered_on</span>'<span class="id">_Forall</span> <span class="kwd">in</span> <span class="id">Hwi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hperm</span>', <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hwi</span>. <span class="tactic">destruct</span> <span class="id">Hwi</span> <span class="kwd">as</span> [<span class="id">_</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ck</span> ?] <span class="id">Hondep</span> ? <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hondep</span> <span class="kwd">in</span> <span class="id">Hfree</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.anon_streams">anon_streams</a></span> <span class="kwd">in</span> <span class="id">Hfree</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Hperm</span>' <span class="kwd">in</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#map_filter_app">map_filter_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">Hfree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">Hfree</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hbck</span> <span class="kwd">as</span> [[? ?] [? <span class="id">Hbck</span>]]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hbck</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LCLOCKING.interface_eq">interface_eq</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClocking.html#wc_exp">wc_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.iface_eq_wc_exp">iface_eq_wc_exp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global_iface_eq">global_iface_eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof84')">Proof with</div>
<div class="proofscript" id="proof84">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intros</span> <span class="id">Heq</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">Hwt</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id">G</span>' <span class="id">vars</span>) <span class="id">es</span>) <span class="kwd">as</span> <span class="id">Hwt</span> <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Heq</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id">f</span> <span class="id">G</span>') <span class="kwd">as</span> <span class="id">find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [? [? [? ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_Eapp">wc_Eapp</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">sy</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> &lt;- <span class="id">H4</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id">G</span>' <span class="id">vars</span>) <span class="id">es</span>) <span class="kwd">as</span> <span class="id">Hwt</span> <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id">G</span>' <span class="id">vars</span> <span class="id">r</span>) <span class="kwd">as</span> <span class="id">Hwt</span>' <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Heq</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.find_node">find_node</a></span> <span class="id">f</span> <span class="id">G</span>') <span class="kwd">as</span> <span class="id">find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [? [? [? ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_EappReset">wc_EappReset</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">sy</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> &lt;- <span class="id">H4</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.iface_eq_wc_equation">iface_eq_wc_equation</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">vars</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global_iface_eq">global_iface_eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#equ">equ</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#equ">equ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">vars</span> [<span class="id">xs</span> <span class="id">es</span>] <span class="id">Heq</span> <span class="id">Hwc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> [<span class="id">Hwc1</span> [<span class="id">Hwc2</span> <span class="id">Hwc3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.iface_eq_wc_exp">iface_eq_wc_exp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LCLOCKING.iface_eq_wc_node">iface_eq_wc_node</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.global_iface_eq">global_iface_eq</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id">G</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">n</span> <span class="id">Heq</span> <span class="id">Hwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwt</span> <span class="kwd">as</span> [? [? [? <span class="id">Hwc</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.iface_eq_wc_equation">iface_eq_wc_equation</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.interface_eq">interface_eq</a></span>.<br/>
<br/>
<h2> wc implies wl </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Constructors</span> <span class="id"><a href="Velus.Lustre.LClocking.html#wl_exp">wl_exp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_exp_wl_exp">wc_exp_wl_exp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof87')">Proof with</div>
<div class="proofscript" id="proof87">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.exp_ind2">exp_ind2</a></span>; <span class="tactic">intro</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">Hwt</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>. <span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>. <span class="tactic">rewrite</span> <span class="id">H5</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H6</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;arrow&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H6</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H10</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H11</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>, <span class="id">H8</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H11</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.clocksof_annots">clocksof_annots</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H12</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof_annots">nclocksof_annots</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H8</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;(reset)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.length_clockof_numstreams">length_clockof_numstreams</a></span>, <span class="id">H10</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof_annots">nclocksof_annots</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H7</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">H8</span>...<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">wc_exp_wl_exp</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LCLOCKING.Forall_wc_exp_wl_exp">Forall_wc_exp_wl_exp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_exp">wc_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.wl_exp">wl_exp</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>) <span class="id"><a href="Velus.Lustre.LClocking.html#es">es</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</div>
<div class="proofscript" id="proof88">
 <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Forall_wc_exp_wl_exp</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_equation_wl_equation">wc_equation_wl_equation</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">vars</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_equation">wc_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#vars">vars</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#equ">equ</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.wl_equation">wl_equation</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#equ">equ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof89')">Proof with</div>
<div class="proofscript" id="proof89">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">vars</span> [<span class="id">xs</span> <span class="id">es</span>] [<span class="id">Hwc1</span> [<span class="id">Hwc2</span> <span class="id">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.nclocksof_annots">nclocksof_annots</a></span> <span class="kwd">in</span> <span class="id">Hwc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_length">Forall2_length</a></span> <span class="kwd">in</span> <span class="id">Hwc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span> <span class="kwd">in</span> <span class="id">Hwc2</span>...<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">wc_equation_wl_equation</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_node_wl_node">wc_node_wl_node</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_node">wc_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.wl_node">wl_node</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof90')">Proof with</div>
<div class="proofscript" id="proof90">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">n</span> [<span class="id">_</span> [<span class="id">_</span> [<span class="id">_</span> <span class="id">Hwc</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn.wl_node">wl_node</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *...<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">wc_node_wl_node</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fact</span> <span class="id"><a name="LCLOCKING.wc_global_wl_global">wc_global_wl_global</a></span> : <span class="kwd">forall</span> <span class="id">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING.wc_global">wc_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Lustre.LClocking.html#Syn.wl_global">wl_global</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#G">G</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof91')">Proof with</div>
<div class="proofscript" id="proof91">
 <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">G</span> <span class="id">Hwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hwt</span>; <span class="tactic">constructor</span>...<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">wc_global_wl_global</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LClockingFun">LClockingFun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ids</span>  : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Op</span>   : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Syn</span>  : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;: <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn">Syn</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Op">Op</a></span> <span class="id"><a href="Velus.Lustre.LClocking.html#Syn">Syn</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Lustre.LClocking.html#LClockingFun">LClockingFun</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
