
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Correctness</title>
<meta name="description" content="Documentation of Coq module Correctness" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Correctness</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Operators.html">Operators</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Clocks.html">Clocks</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LSyntax.html">Lustre.LSyntax</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoreExpr.CESyntax.html">CoreExpr.CESyntax</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.NLSyntax.html">NLustre.NLSyntax</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Transcription.Tr.html">Transcription.Tr</a></span> <span class="id"><a href="Velus.Transcription.TrOrdered.html">Transcription.TrOrdered</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LTyping.html">Lustre.LTyping</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LClocking.html">Lustre.LClocking</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LOrdered.html">Lustre.LOrdered</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LCausality.html">Lustre.LCausality</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.LSemantics.html">Lustre.LSemantics</a></span> <span class="id"><a href="Velus.Lustre.LClockSemantics.html">Lustre.LClockSemantics</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.Normalization.Normalization.html">Lustre.Normalization.Normalization</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Lustre.Normalization.Correctness.html">Lustre.Normalization.Correctness</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.NLOrdered.html">NLustre.NLOrdered</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.NLCoindSemantics.html">NLustre.NLCoindSemantics</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoindStreams.html">CoindStreams</a></span> <span class="id"><a href="Velus.IndexedStreams.html">IndexedStreams</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">List.ListNotations</span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html">Permutation</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.omega.Omega.html">Omega</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html">Morphisms</a></span>.<br/>
<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html">common.Errors</a></span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html">Classes.EquivDec</a></span>.<br/>
<br/>
<h1> Semantics Preservation Proof for Transcription </h1>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="CORRECTNESS">CORRECTNESS</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span>  : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span>   : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">OpAux</span>: <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">L</span>           : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span>          <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">CE</span>   : <span class="id"><a href="Velus.CoreExpr.CESyntax.html#CESYNTAX">CESYNTAX</a></span>             <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NL</span>          : <span class="id"><a href="Velus.NLustre.NLSyntax.html#NLSYNTAX">NLSYNTAX</a></span>         <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>              <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">TR</span>   : <span class="id"><a href="Velus.Transcription.Tr.html#TR">TR</a></span>               <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>      <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LT</span>          : <span class="id"><a href="Velus.Lustre.LTyping.html#LTYPING">LTYPING</a></span>          <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LC</span>          : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LCA</span>         : <span class="id"><a href="Velus.Lustre.LCausality.html#LCAUSALITY">LCAUSALITY</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ord</span>         : <span class="id"><a href="Velus.NLustre.NLOrdered.html#NLORDERED">NLORDERED</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>              <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Lord</span>        : <span class="id"><a href="Velus.Lustre.LOrdered.html#LORDERED">LORDERED</a></span>         <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Str</span>  : <span class="id"><a href="Velus.CoindStreams.html#COINDSTREAMS">COINDSTREAMS</a></span>         <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IStr</span>        : <span class="id"><a href="Velus.IndexedStreams.html#INDEXEDSTREAMS">INDEXEDSTREAMS</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LS</span>          : <span class="id"><a href="Velus.Lustre.LSemantics.html#LSEMANTICS">LSEMANTICS</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LCS</span>         : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS">LCLOCKSEMANTICS</a></span>  <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC">LC</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS">LS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LN</span>          : <span class="id"><a href="Velus.Lustre.Normalization.Normalization.html#NORMALIZATION">NORMALIZATION</a></span>    <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NLSC</span>        : <span class="id"><a href="Velus.NLustre.NLCoindSemantics.html#NLCOINDSEMANTICS">NLCOINDSEMANTICS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ord">Ord</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_const_step">sem_const_step</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_constant">to_constant</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#v">v</a></span> ⋅ <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.history_tl">history_tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#tl">Streams.tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">einduction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Htr</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv1">const_inv1</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> [ <span class="id">b</span>' [ <span class="id">Hs</span> <span class="id">Hb</span> ] ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv2">const_inv2</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> (<span class="id">b</span>' &amp; <span class="id">Hs</span> &amp; <span class="id">Hb</span> &amp; <span class="id">Hc</span>) ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hs</span>; <span class="tactic">rewrite</span> <span class="id">Hb</span>; <span class="tactic">simpl</span>; <span class="tactic">econstructor</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">es</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">es</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H12</span>. <span class="id">inv</span> <span class="id">H10</span>. <span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x0</span>. <span class="tactic">destruct</span> <span class="id">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step">sem_var_step</a></span>; <span class="tactic">eauto</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_lexp_step">sem_lexp_step</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_lexp">to_lexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#v">v</a></span> ⋅ <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.history_tl">history_tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#tl">Streams.tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">einduction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Htr</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv1">const_inv1</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> [ <span class="id">b</span>' [ <span class="id">Hs</span> <span class="id">Hb</span> ] ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv2">const_inv2</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> (<span class="id">b</span>' &amp; <span class="id">Hs</span> &amp; <span class="id">Hb</span> &amp; <span class="id">Hc</span>) ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hs</span>; <span class="tactic">rewrite</span> <span class="id">Hb</span>; <span class="tactic">simpl</span>; <span class="tactic">econstructor</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H5</span>.  <span class="tactic">destruct</span> <span class="id">xs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>. <span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.env_maps_tl">env_maps_tl</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">monadInv</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H10</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">monadInv</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">s1</span>, <span class="id">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H13</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">es</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">es</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>. <span class="tactic">destruct</span> <span class="id">l</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">try</span> <span class="id">now</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">monadInv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H11</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">destruct</span> <span class="id">s0</span>, <span class="id">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step">sem_var_step</a></span>. <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_cexp_step">sem_cexp_step</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#v">v</a></span> ⋅ <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.history_tl">history_tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#tl">Streams.tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">einduction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Htr</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">now</span> <span class="id">inv</span> <span class="id">Htr</span>) || (<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="kwd">in</span> <span class="id">Htr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">Htr</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_step">sem_lexp_step</a></span>; <span class="tactic">eauto</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases</span>; <span class="id">monadInv</span> <span class="id">Htr</span>; <span class="tactic">fold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="kwd">in</span> *;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">H11</span>; <span class="id">inv</span> <span class="id">H6</span>; <span class="id">inv</span> <span class="id">H12</span>; <span class="id">inv</span> <span class="id">H7</span>; <span class="id">inv</span> <span class="id">H13</span>; <span class="id">inv</span> <span class="id">H10</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H3</span>, <span class="id">H2</span>; <span class="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">clear</span> <span class="id">H10</span> <span class="id">H7</span>; <span class="tactic">destruct</span> <span class="id">x2</span>, <span class="id">y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H8</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step">sem_var_step</a></span>; <span class="tactic">eauto</span> | <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">econstructor</span> ]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H8</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_step">sem_lexp_step</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">constructor</span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.ty_lexp">ty_lexp</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_lexp">to_lexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#L.typeof">L.typeof</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = [<span class="id"><a href="Velus.Transcription.Correctness.html#CE.typeof">CE.typeof</a></span> <span class="id">e</span>'].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Htr</span>; <span class="id">inv</span> <span class="id">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>. <span class="tactic">simpl</span>. <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">cases</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">Hwt</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">monadInv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.typesof">L.typesof</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#flat_map">flat_map</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_exp_lexp">sem_exp_lexp</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_lexp">to_lexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_exp">NLSC.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id">e</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Htr</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">now</span> <span class="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">monadInv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">Hwt</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.ty_lexp">ty_lexp</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">EQ</span>. <span class="id">now</span> <span class="id">inv</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">monadInv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">Hwt</span>. <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.ty_lexp">ty_lexp</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.ty_lexp">ty_lexp</a></span> <span class="kwd">in</span> <span class="id">EQ1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H11</span> <span class="kwd">in</span> <span class="id">EQ</span>. <span class="id">inv</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> <span class="id">H12</span> <span class="kwd">in</span> <span class="id">EQ1</span>. <span class="id">now</span> <span class="id">inv</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">cases</span>. <span class="id">monadInv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">clear</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">Hwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H11</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_lexp_single">sem_lexp_single</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_lexp">to_lexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">s</span>, <span class="id"><a href="Velus.Transcription.Correctness.html#ss">ss</a></span> = [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Htr</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Htr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">eexists</span>; <span class="id">now</span> <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">H2</span>. <span class="tactic">subst</span>. <span class="id">monadInv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">EQ</span>; [|<span class="tactic">eauto</span>]. <span class="id">inv</span> <span class="id">EQ</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H11</span>. <span class="id">inv</span> <span class="id">H11</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_exps_lexps">sem_exps_lexps</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">tenv</span> <span class="id">es</span> <span class="id">les</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap">mmap</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_lexp">to_lexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#les">les</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#tenv">tenv</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ss">ss</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_exp">NLSC.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#les">les</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ss">ss</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hmmap</span> <span class="id">Hwt</span> <span class="id">Hsem</span>. <span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">les</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hsem</span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">Hmmap</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.mmap_cons">mmap_cons</a></span> <span class="kwd">in</span> <span class="id">Hmmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hmmap</span> <span class="kwd">as</span> [ <span class="id">x</span>' [<span class="id">le</span>' [<span class="id">Hle</span> [<span class="id">Htolexp</span>  <span class="id">Hmmap</span>]]]]. <span class="id">inv</span> <span class="id">Hwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHHsem</span> <span class="kwd">in</span> <span class="id">Hmmap</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Htolexp</span>' := <span class="id">Htolexp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_single">sem_lexp_single</a></span> <span class="kwd">in</span> <span class="id">Htolexp</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Htolexp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_lexp">sem_exp_lexp</a></span> <span class="kwd">in</span> <span class="id">Htolexp</span>; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_exp_cexp">sem_exp_cexp</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">G</span>' <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id">G</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_cexp">NLSC.sem_cexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id">e</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Htr</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">now</span> <span class="id">inv</span> <span class="id">Htr</span>) || (<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="kwd">in</span> <span class="id">Htr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">Htr</span>; <span class="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_lexp">sem_exp_lexp</a></span>; <span class="tactic">eauto</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases</span>; <span class="id">monadInv</span> <span class="id">Htr</span>; <span class="tactic">fold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">H11</span>; <span class="id">inv</span> <span class="id">H6</span>; <span class="id">inv</span> <span class="id">H12</span>; <span class="id">inv</span> <span class="id">H7</span>; <span class="id">inv</span> <span class="id">H13</span>; <span class="id">inv</span> <span class="id">H10</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H3</span>, <span class="id">H2</span>; <span class="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">clear</span> <span class="id">H10</span> <span class="id">H7</span>; <span class="tactic">destruct</span> <span class="id">x2</span>, <span class="id">y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">H11</span>; <span class="id">inv</span> <span class="id">H12</span>. <span class="id">inv</span> <span class="id">H8</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">merge_id</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hwt</span>. <span class="id">inv</span> <span class="id">H12</span>. <span class="id">inv</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_lexp">sem_exp_lexp</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_lexp_step2">sem_lexp_step2</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">v</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_exp">NLSC.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#v">v</a></span> ⋅ <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_exp">NLSC.sem_exp</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.history_tl">history_tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#tl">Streams.tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span>; <span class="tactic">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">unfold_St</span> <span class="id">b</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step_nl">sem_var_step_nl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H9</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step_nl">sem_var_step_nl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step_nl">sem_var_step_nl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H10</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step_nl">sem_var_step_nl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_cexp_step2">sem_cexp_step2</a></span>: <span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">v</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_cexp">NLSC.sem_cexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#v">v</a></span> ⋅ <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_cexp">NLSC.sem_cexp</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.history_tl">history_tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#tl">Streams.tl</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span>; <span class="tactic">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H10</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step_nl">sem_var_step_nl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H10</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_step2">sem_lexp_step2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_step2">sem_lexp_step2</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.fby_const">fby_const</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">c</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.fby">LS.fby</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> ≡ <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const">const</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>  ≡ <span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#rs">rs</a></span> ≡ <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sfby">sfby</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Op.sem_const">sem_const</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span> * <span class="id">Hfby</span> <span class="id">Hconst</span> <span class="id">Hac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ys</span>; <span class="id">inv</span> <span class="id">Hfby</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hac</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>; <span class="tactic">simpl</span>; <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv1">const_inv1</a></span> <span class="kwd">in</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hconst</span> <span class="kwd">as</span> (?&amp; <span class="id">Hc</span> &amp; <span class="id">Hb</span>). <span class="tactic">rewrite</span> <span class="id">Hb</span> <span class="kwd">in</span> <span class="id">Hac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hac</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv2">const_inv2</a></span> <span class="kwd">in</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hconst</span> <span class="kwd">as</span> (?&amp; <span class="id">Hc</span> &amp; <span class="id">Hb</span> &amp; <span class="id">Hx</span>). <span class="tactic">rewrite</span> <span class="id">Hb</span> <span class="kwd">in</span> <span class="id">Hac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hac</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span> <span class="id">Cofix</span>. <span class="id">revert</span> <span class="id">H0</span> <span class="id">H3</span> <span class="id">Hb</span> <span class="id">Hc</span>. <span class="id">revert</span> <span class="id">rs0</span> <span class="id">x0</span> <span class="id">ys</span> <span class="id">xs0</span> <span class="id">v</span> <span class="id">c</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span> * <span class="id">Hac</span> <span class="id">Hfby1</span> <span class="id">Hb</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">ys</span>; <span class="id">inv</span> <span class="id">Hfby1</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hac</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>; <span class="tactic">simpl</span>; <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv1">const_inv1</a></span> <span class="kwd">in</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hconst</span> <span class="kwd">as</span> (?&amp; <span class="id">Hc</span> &amp; <span class="id">Hbb</span>). <span class="tactic">rewrite</span> <span class="id">Hbb</span> <span class="kwd">in</span> <span class="id">Hac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hac</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv2">const_inv2</a></span> <span class="kwd">in</span> <span class="id">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hconst</span> <span class="kwd">as</span> (?&amp; <span class="id">Hc</span> &amp; <span class="id">Hbb</span> &amp; <span class="id">Hx</span>). <span class="tactic">rewrite</span> <span class="id">Hbb</span> <span class="kwd">in</span> <span class="id">Hac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hac</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_const_exp">sem_const_exp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">c</span> <span class="id">c</span>' <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_constant">to_constant</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#OpAux.present">present</a></span> <span class="id">c</span>' ⋅ <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">c</span>' = <span class="id"><a href="Velus.Transcription.Correctness.html#Op.sem_const">sem_const</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.exp_ind2">L.exp_ind2</a></span>; <span class="tactic">intros</span> * <span class="id">Htoc</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Htoc</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.const_inv2">const_inv2</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">cases</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H10</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H12</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.fby_const_when">fby_const_when</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">bk</span> <span class="id">x</span> <span class="id">i</span> <span class="id">ck</span> <span class="id">e</span> <span class="id">b</span> <span class="id">c</span> <span class="id">s</span> <span class="id">cs</span> <span class="id">css</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#x">x</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#bk">bk</a></span> (<span class="id"><a href="Velus.ClockDefs.html#Con">Con</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#i">i</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.fby">LS.fby</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#css">css</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_constant">to_constant</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#bk">bk</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#cs">cs</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.when">when</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cs">cs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#css">css</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> ≡ <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sfby">sfby</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Op.sem_const">sem_const</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span> * <span class="id">Hsemv</span> <span class="id">Hsc</span> <span class="id">Hfby</span> <span class="id">Htoc</span> <span class="id">Hse</span> <span class="id">Hwhen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">xs</span>; <span class="id">inv</span> <span class="id">Hfby</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Htoc</span>' := <span class="id">Htoc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_const_step">sem_const_step</a></span> <span class="kwd">in</span> <span class="id">Htoc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwhen</span>; <span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Hwhen</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_const_exp">sem_const_exp</a></span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Cofix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Htoc</span>' := <span class="id">Htoc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwhen</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_const_step">sem_const_step</a></span> <span class="kwd">in</span> <span class="id">Htoc</span>'; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">Hse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="tactic">dependent</span> <span class="id">H</span>. <span class="id">revert</span> <span class="id">H3</span> <span class="id">H5</span> <span class="id">H6</span>. <span class="id">revert</span> <span class="id">bk</span> <span class="id">xs</span> <span class="id">xs0</span> <span class="id">xs1</span> <span class="id">xs0</span> <span class="id">cs0</span> <span class="id">ys0</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">xs</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hsc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sc_step">sc_step</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_step">sem_var_step</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>; <span class="tactic">eapply</span> <span class="id">Cofix</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_const_step">sem_const_step</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.var_fby_const">var_fby_const</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">c</span> <span class="id">a</span> <span class="id">env</span> <span class="id">cenv</span> <span class="id">ck</span> <span class="id">ckx</span> <span class="id">x</span> <span class="id">e0</span> <span class="id">e1</span> <span class="id">cs</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e0">e0</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#cs">cs</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#x">x</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.fby">LS.fby</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cs">cs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.find_clock">find_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#x">x</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.Efby">L.Efby</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#e0">e0</a></span>] [<span class="id"><a href="Velus.Transcription.Correctness.html#e1">e1</a></span>] <span class="id"><a href="Velus.Transcription.Correctness.html#a">a</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="Velus.Transcription.Correctness.html#ckx">ckx</a></span>] = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clock_of_nclock">L.clock_of_nclock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#a">a</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#x">x</a></span>, <span class="id"><a href="Velus.Transcription.Correctness.html#ckx">ckx</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq">envs_eq</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_constant">to_constant</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e0">e0</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#x">x</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sfby">sfby</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Op.sem_const">sem_const</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#c">c</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ck</span>; <span class="tactic">intros</span> * <span class="id">Hse</span> <span class="id">Hxs</span> <span class="id">Hfby</span> <span class="id">Hfind</span> <span class="id">Hwc</span> <span class="id">Hckx</span> <span class="id">Hin</span> <span class="id">Henv</span> <span class="id">Htoc</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;ck&nbsp;=&nbsp;Base.&nbsp;Show&nbsp;that&nbsp;e0&nbsp;is&nbsp;not&nbsp;EWhen&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsc</span>. <span class="tactic">destruct</span> <span class="id">e0</span>; <span class="id">inv</span> <span class="id">Htoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hse</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.fby_const">fby_const</a></span> <span class="kwd">in</span> <span class="id">Hfby</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">cases</span>. <span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hckx</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H11</span>. <span class="tactic">destruct</span> <span class="id">tys</span>; <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clock_of_nclock">L.clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id">x</span>) <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Henv</span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">e0</span>; <span class="id">inv</span> <span class="id">Htoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hse</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.fby_const">fby_const</a></span> <span class="kwd">in</span> <span class="id">Hfby</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.ac_fby1">LCS.ac_fby1</a></span> <span class="kwd">in</span> <span class="id">Hfby</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.ac_const">ac_const</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H5</span>, <span class="id">Hfby</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">cases</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id">x</span>) <span class="kwd">in</span> <span class="id">Henv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Henv</span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="id">inv</span> <span class="id">Hfind</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="id">inv</span> <span class="id">Hckx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a0</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">destruct</span> <span class="id">tys</span>; <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tys</span>; <span class="id">inv</span> <span class="id">H16</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clock_of_nclock">L.clock_of_nclock</a></span>, <span class="id"><a href="Velus.ClockDefs.html#stripname">stripname</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;now&nbsp;(i,b0)&nbsp;=&nbsp;(i0,b1)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hse</span>. <span class="id">inv</span> <span class="id">H18</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H20</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">H20</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H20</span>. <span class="id">inv</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hxs</span>' := <span class="id">Hxs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.fby_const_when">fby_const_when</a></span> <span class="kwd">in</span> <span class="id">Hxs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hxs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">H</span> <span class="id">b</span> <span class="id">env</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">s</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_cexp">to_cexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> [<span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>] -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_caexp">NLSC.sem_caexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> <span class="id">e</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>. <span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Hto</span> <span class="id">Hsem</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_cexp">sem_exp_cexp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hwt</span> <span class="id">Hto</span> <span class="id">Hsem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">s</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hsc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">Cofix</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sc_step">sc_step</a></span>, <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_cexp_step">sem_cexp_step</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_lexp_laexp">sem_lexp_laexp</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">s</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_exp">NLSC.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_aexp">NLSC.sem_aexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ck">ck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">Cofix</span>. <span class="tactic">intros</span> * <span class="id">Hsem</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold_Stv</span> <span class="id">s</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#unfold_Stream">unfold_Stream</a></span> <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hsc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">Cofix</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sc_step">sc_step</a></span>, <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_step2">sem_lexp_step2</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="id"><a name="CORRECTNESS.NCor">NCor</a></span> := <span class="id"><a href="Velus.Lustre.Normalization.Correctness.html#CorrectnessFun">CorrectnessFun</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LT">LT</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC">LC</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS">LS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS">LCS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LN">LN</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sc_cexp">sc_cexp</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">e</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_global">LC.wc_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_nodes">LCS.sc_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LCS.sc_var_inv</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LN.Unnesting.normalized_cexp">LN.Unnesting.normalized_cexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.clockof">L.clockof</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#e">e</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#vs">vs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hsc</span> <span class="id">Hnd</span> <span class="id">Hinv</span> <span class="id">Hnormed</span> <span class="id">Hwc</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_exp">LCS.sc_exp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.normalized_cexp_sem_sem_anon">NCor.normalized_cexp_sem_sem_anon</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="CORRECTNESS.sc_lexps">sc_lexps</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">env</span> <span class="id">H</span> <span class="id">b</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_global">LC.wc_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_nodes">LCS.sc_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LCS.sc_var_inv</span>' <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LN.Unnesting.normalized_lexp">LN.Unnesting.normalized_lexp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof">L.clocksof</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#es">es</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#vs">vs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">HwcG</span> <span class="id">Hsc</span> <span class="id">Hnd</span> <span class="id">Hinv</span> <span class="id">Hnormed</span> <span class="id">Hwc</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hnormed</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2_app">Forall2_app</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Resolve</span>  <span class="id">envs_eq_find</span>'.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_toeq">sem_toeq</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">out</span> <span class="id">G</span> <span class="id">H</span> <span class="id">P</span> <span class="id">env</span> <span class="id">envo</span> <span class="id">eq</span> <span class="id">eq</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LN.NormFby.normalized_equation">LN.NormFby.normalized_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#out">out</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_equation">LT.wt_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idty">idty</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_equation">LC.wc_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_global">LC.wc_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_nodes">LCS.sc_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq">envs_eq</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_node">NLSC.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LCS.sc_var_inv</span>' (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_equation">to_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#envo">envo</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#eq">eq</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">eq</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_equation">LS.sem_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#eq">eq</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_equation">NLSC.sem_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> <span class="id">eq</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ??????? [<span class="id">xs</span> [|<span class="id">e</span> []]] <span class="id">eq</span>' <span class="id">b</span> <span class="id">Hnormed</span> <span class="id">Hwt</span> <span class="id">Hwc</span> <span class="id">Hwcg</span> <span class="id">Hscg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hnodup</span> <span class="id">Henvs</span> <span class="id">Hsemnode</span> <span class="id">Hvar</span> <span class="id">Htoeq</span> <span class="id">Hsem</span>; <span class="tactic">try</span> <span class="id">now</span> (<span class="id">inv</span> <span class="id">Htoeq</span>; <span class="id">cases</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Common.Common.html#NoDupMembers_idck">NoDupMembers_idck</a></span> <span class="kwd">in</span> <span class="id">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hwt</span> <span class="kwd">as</span> (<span class="id">Hwt1</span>&amp;<span class="id">Hwt2</span>). <span class="tactic">destruct</span> <span class="id">Hwc</span> <span class="kwd">as</span> (<span class="id">Hwc1</span>&amp;<span class="id">Hwc2</span>&amp;<span class="id">Hwc3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-4,7-9:(<span class="id">inv</span> <span class="id">Hnormed</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *; <span class="tactic">subst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H13</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H13</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_caexp">sem_exp_caexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H13</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;EFby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Htoeq</span> <span class="kwd">as</span> [<span class="id">Heq</span>']. <span class="id">cases</span>; <span class="id">monadInv</span> <span class="id">Heq</span>'. <span class="tactic">rename</span> <span class="id">x1</span> <span class="id">into</span> <span class="id">ck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hsem</span>' := <span class="id">Hsem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hsem</span> <span class="kwd">as</span> [ ????? <span class="id">Hseme</span> <span class="id">Hsemv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hseme</span> <span class="kwd">as</span> [| ???? <span class="id">Hsef</span> <span class="id">Hse</span>]. <span class="id">inv</span> <span class="id">Hse</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hsemv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">Hsemv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hsemv</span> <span class="kwd">as</span> [|???? <span class="id">Hsvar</span> <span class="id">Hf2</span>]. <span class="id">inv</span> <span class="id">Hf2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hsc</span> := <span class="id">Hwc1</span>). <span class="comment">(*&nbsp;eapply&nbsp;LCS.sc_equation&nbsp;in&nbsp;Hsc;&nbsp;simpl;&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Foralls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span> <span class="kwd">as</span> [| | | | ? ? ? ? <span class="id">Hwte1</span> | | | | | |]. <span class="id">inv</span> <span class="id">Hwte1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hsef</span> <span class="kwd">as</span> [| | | |???????? <span class="id">Hse0</span> <span class="id">Hse1</span> <span class="id">Hwfby</span> | | | | | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">H2</span> <span class="kwd">as</span> [| | | | | ???? <span class="id">Hwc0</span> ? <span class="id">Hck0</span> | | | | | |]; <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_singl">Forall_singl</a></span> <span class="kwd">in</span> <span class="id">Hwc0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hse0</span> <span class="kwd">as</span> [|????? <span class="id">Hf2</span>]. <span class="id">inv</span> <span class="id">Hf2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hse1</span> <span class="kwd">as</span> [|????? <span class="id">Hf2</span>]. <span class="id">inv</span> <span class="id">Hf2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hwfby</span> <span class="kwd">as</span> [|?????? <span class="id">Hlsf</span> <span class="id">Hf</span> <span class="id">Hcat</span>]. <span class="id">inv</span> <span class="id">Hf</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exp_lexp">sem_exp_lexp</a></span> <span class="kwd">in</span> <span class="id">EQ2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_clock">sem_clock</a></span> <span class="id">H</span> <span class="id">b</span> <span class="id">ck</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id">y5</span>)) <span class="kwd">as</span> <span class="id">Hck</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">Hnormed</span>. 2:<span class="id">inv</span> <span class="id">H18</span>; <span class="id">inv</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_cexp">sc_cexp</a></span> <span class="kwd">in</span> <span class="id">H11</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LN.Unnesting.normalized_lexp_numstreams">LN.Unnesting.normalized_lexp_numstreams</a></span> <span class="kwd">in</span> <span class="id">H28</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Transcription.Correctness.html#L.length_clockof_numstreams">L.length_clockof_numstreams</a></span> <span class="kwd">in</span> <span class="id">H28</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">singleton_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_singl">Forall2_singl</a></span> <span class="kwd">in</span> <span class="id">Hck0</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_find">envs_eq_find</a></span> <span class="kwd">in</span> <span class="id">EQ0</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H5</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_singl">Forall2_singl</a></span> <span class="kwd">in</span> <span class="id">H11</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">instantiate</span> (1 := <span class="id">y5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_lexp_laexp">sem_lexp_laexp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;we&nbsp;show&nbsp;how&nbsp;to&nbsp;erase&nbsp;Whens&nbsp;in&nbsp;constants&nbsp;using&nbsp;var_fby_const&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.var_fby_const">var_fby_const</a></span> <span class="kwd">in</span> <span class="id">Hlsf</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.ac_fby2">LCS.ac_fby2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;EArrow&nbsp;*)</span> <span class="id">inv</span> <span class="id">Hnormed</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Eapp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LN.Unnesting.normalized_lexp">LN.Unnesting.normalized_lexp</a></span> <span class="id">l</span>) <span class="kwd">as</span> <span class="id">Hnormed</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">clear</span> - <span class="id">Hnormed</span>. <span class="id">inv</span> <span class="id">Hnormed</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Htoeq</span>. <span class="id">cases</span>; <span class="id">monadInv</span> <span class="id">Htoeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hsem</span>; <span class="tactic">subst</span>. <span class="id">simpl_Foralls</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exps_lexps">sem_exps_lexps</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id">inv</span> <span class="id">H12</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">intros</span> <span class="id">k</span>. <span class="tactic">specialize</span> (<span class="id">H14</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hsemnode</span>; <span class="tactic">eauto</span>. <span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span>. <span class="id">esplit</span>; <span class="id">esplit</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;now&nbsp;we&nbsp;use&nbsp;sc_inside&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">G</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>, <span class="id">H2</span>: <span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">G</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_find_node">LC.wc_find_node</a></span> <span class="kwd">in</span> <span class="id">it</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> (?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LCS.sc_inside_mask</span>' <span class="kwd">with</span> (<span class="id">es</span> := <span class="id">l</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H10</span> <span class="id">Hnormed</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H10</span>; <span class="id">inv</span> <span class="id">Hnormed</span>'; <span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.normalized_lexp_sem_sem_anon">NCor.normalized_lexp_sem_sem_anon</a></span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">inversion_clear</span> <span class="id">it</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> [| | | | | | | | | | |?????? <span class="id">bck</span> <span class="id">sub</span> <span class="id">Wce</span> ? <span class="id">WIi</span> <span class="id">WIo</span> <span class="id">Wcr</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_lexps">sc_lexps</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> <span class="id">Hsc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n0</span>) <span class="id">and</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_find_node">LC.wc_find_node</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">n0</span> <span class="id">Hwcg</span> <span class="id">it</span>) <span class="kwd">as</span> (?&amp; (<span class="id">Wcin</span> &amp;?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#TR.find_base_clock">find_base_clock</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof">L.clocksof</a></span> <span class="id">l</span>) = <span class="id">bck</span>) <span class="kwd">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.find_base_clock_bck">find_base_clock_bck</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_bck">LC.WellInstantiated_bck</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_ingt0">L.n_ingt0</a></span> <span class="id">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_parent">LC.WellInstantiated_parent</a></span> <span class="kwd">in</span> <span class="id">WIi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_parent">LCS.sc_parent</a></span> <span class="kwd">with</span> (<span class="id">ck</span> := <span class="id">bck</span>) <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_bck">LC.WellInstantiated_bck</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_ingt0">L.n_ingt0</a></span> <span class="id">n0</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_parent">LC.WellInstantiated_parent</a></span> <span class="kwd">in</span> <span class="id">WIi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">simpl</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;not&nbsp;reset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hsem</span>; <span class="tactic">subst</span>. <span class="id">simpl_Foralls</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_exp">LS.sem_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_exp">LT.wt_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_exps_lexps">sem_exps_lexps</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="tactic">eapply</span> <span class="id">Hsemnode</span>; <span class="tactic">eauto</span>. <span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span>. <span class="id">esplit</span>; <span class="id">esplit</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;now&nbsp;we&nbsp;use&nbsp;sc_inside&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">G</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>, <span class="id">H2</span>: <span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">G</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id">_</span>) <span class="id">and</span> <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_find_node">LC.wc_find_node</a></span> <span class="kwd">in</span> <span class="id">it</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> (?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LCS.sc_inside</span>' <span class="kwd">with</span> (<span class="id">es</span> := <span class="id">l</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H10</span> <span class="id">Hnormed</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H10</span>; <span class="id">inv</span> <span class="id">Hnormed</span>'; <span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.normalized_lexp_sem_sem_anon">NCor.normalized_lexp_sem_sem_anon</a></span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_exp">LC.wc_exp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">inversion_clear</span> <span class="id">it</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> [| | | | | | | | | | ???? <span class="id">bck</span> <span class="id">sub</span> <span class="id">Wce</span> ? <span class="id">WIi</span> <span class="id">WIo</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sc_lexps">sc_lexps</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> <span class="id">Hsc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.find_node">L.find_node</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">n0</span>) <span class="id">and</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_find_node">LC.wc_find_node</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">n0</span> <span class="id">Hwcg</span> <span class="id">it</span>) <span class="kwd">as</span> (?&amp; (<span class="id">Wcin</span> &amp;?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#TR.find_base_clock">find_base_clock</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof">L.clocksof</a></span> <span class="id">l</span>) = <span class="id">bck</span>) <span class="kwd">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.find_base_clock_bck">find_base_clock_bck</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_bck">LC.WellInstantiated_bck</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_ingt0">L.n_ingt0</a></span> <span class="id">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_parent">LC.WellInstantiated_parent</a></span> <span class="kwd">in</span> <span class="id">WIi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_parent">LCS.sc_parent</a></span> <span class="kwd">with</span> (<span class="id">ck</span> := <span class="id">bck</span>) <span class="kwd">in</span> <span class="id">Hsc</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_bck">LC.WellInstantiated_bck</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>. <span class="tactic">exact</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_ingt0">L.n_ingt0</a></span> <span class="id">n0</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC.WellInstantiated_parent">LC.WellInstantiated_parent</a></span> <span class="kwd">in</span> <span class="id">WIi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Transcription.Correctness.html#L.clocksof_nclocksof">L.clocksof_nclocksof</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; <span class="tactic">eauto</span>. <span class="id">now</span> <span class="tactic">simpl</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">sem_toeqs</span>' :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">out</span> <span class="id">G</span> <span class="id">H</span> <span class="id">P</span> <span class="id">env</span> <span class="id">envo</span> <span class="id">eqs</span> <span class="id">eqs</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LN.NormFby.normalized_equation">LN.NormFby.normalized_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#out">out</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_equation">LT.wt_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idty">idty</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>)) <span class="id"><a href="Velus.Transcription.Correctness.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_equation">LC.wc_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>)) <span class="id"><a href="Velus.Transcription.Correctness.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_global">LC.wc_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_nodes">LCS.sc_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq">envs_eq</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_node">NLSC.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LCS.sc_var_inv</span>' (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#cenv">cenv</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap">mmap</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_equation">to_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#envo">envo</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#eqs">eqs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">eqs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_equation">LS.sem_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#eqs">eqs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_equation">NLSC.sem_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#b">b</a></span>) <span class="id">eqs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">eqs</span>; <span class="tactic">intros</span> * <span class="id">Hnormed</span> <span class="id">Hwt</span> <span class="id">Hwc</span> <span class="id">HwcG</span> <span class="id">HscG</span> <span class="id">Hndup</span> <span class="id">Henvs</span> <span class="id">Hsemnode</span> <span class="id">Hinv</span> <span class="id">Heqs</span> <span class="id">Hsem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hnormed</span>; <span class="id">inv</span> <span class="id">Hwt</span>; <span class="id">inv</span> <span class="id">Hwc</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">monadInv</span> <span class="id">Heqs</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_toeq">sem_toeq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.sem_toeqs">sem_toeqs</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">n</span> <span class="id">H</span> <span class="id">P</span> <span class="id">env</span> <span class="id">envo</span> <span class="id">eqs</span>' <span class="id">ins</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LN.NormFby.normalized_node">LN.NormFby.normalized_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_equation">LT.wt_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idty">idty</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_vars">L.n_vars</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_out">L.n_out</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>))) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_eqs">L.n_eqs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_equation">LC.wc_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_vars">L.n_vars</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_out">L.n_out</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>))) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_eqs">L.n_eqs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCA.node_causal">LCA.node_causal</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Lord.Ordered_nodes">Lord.Ordered_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_global">LT.wt_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_global">LC.wc_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_nodes">LCS.sc_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq">envs_eq</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_vars">L.n_vars</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_out">L.n_out</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_node">NLSC.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#xs">xs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ys">ys</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_node">LC.wc_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.idents">L.idents</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>)) <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> :: <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_name">L.n_name</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#mmap">mmap</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_equation">to_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#env">env</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#envo">envo</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_eqs">L.n_eqs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">eqs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_equation">LS.sem_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span>)) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_eqs">L.n_eqs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_equation">NLSC.sem_equation</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span>)) <span class="id">eqs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnormed</span> <span class="id">Hwt</span> <span class="id">Hwc</span> <span class="id">Hcaus</span> <span class="id">Hord</span> <span class="id">Hwcg</span> <span class="id">Hwtg</span> <span class="id">Hscn</span> <span class="id">Henvs</span> <span class="id">Hnode</span> <span class="id">Hwcn</span> <span class="id">Hins</span> <span class="id">Hscin</span> <span class="id">Hmmap</span> <span class="id">Hsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LCS.sc_var_inv</span>' (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_vars">L.n_vars</a></span> <span class="id">n</span> ++ <span class="id"><a href="Velus.Transcription.Correctness.html#L.n_out">L.n_out</a></span> <span class="id">n</span>)) <span class="id">H</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.clocks_of">clocks_of</a></span> <span class="id">ins</span>)) <span class="kwd">as</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">LCS.sc_node_sc_var_inv</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hscin</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_refl">ident_eqb_refl</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LCS.sem_clocks_det</span>'; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hwcn</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [|<span class="tactic">eauto</span>]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.normalized_equation_sem_sem_anon">NCor.normalized_equation_sem_sem_anon</a></span>; <span class="tactic">eauto</span>. 1,2:<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sem_toeqs</span>' <span class="kwd">in</span> <span class="id">Hmmap</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.Transcription.Correctness.html#L.node_NoDup">L.node_NoDup</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="CORRECTNESS.inputs_clocked_vars">inputs_clocked_vars</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">G</span> <span class="id">H</span> <span class="id">f</span> <span class="id">ins</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> :: <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span>) <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_name">L.n_name</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span> = <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Clocks.html#wc_env">wc_env</a></span> (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span>) (<span class="id"><a href="Velus.Transcription.Correctness.html#L.idents">L.idents</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>)) <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_clocked_vars">NLSC.sem_clocked_vars</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#H">H</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.clocks_of">clocks_of</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span>) (<span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_in">L.n_in</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hv</span> <span class="id">Hnf</span> <span class="id">Wcin</span> <span class="id">Hins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.inputs_clocked_vars">LCS.inputs_clocked_vars</a></span> <span class="kwd">in</span> <span class="id">Hv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_clocked_vars">NLSC.sem_clocked_vars</a></span>, <span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_clocked_var">NLSC.sem_clocked_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Common.Common.html#idck">idck</a></span>, <span class="id"><a href="Velus.Transcription.Correctness.html#L.idents">L.idents</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span> <span class="kwd">in</span> <span class="id">Hins</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_2">Forall2_map_2</a></span> <span class="kwd">in</span> <span class="id">Hv</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_Forall2">Forall2_Forall2</a></span> <span class="kwd">in</span> <span class="id">Hv</span>; [|<span class="tactic">eapply</span> <span class="id">Hins</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_ignore2">Forall2_ignore2</a></span> <span class="kwd">in</span> <span class="id">Hv</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (?&amp;?&amp;?) (?&amp;?&amp;?&amp;?); <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Str.abstract_clock">abstract_clock</a></span> <span class="id">x</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str.ac_aligned">ac_aligned</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="kwd">Import</span> <span class="id"><a name="CORRECTNESS.TrOrdered">TrOrdered</a></span> := <span class="id"><a href="Velus.Transcription.TrOrdered.html#TrOrderedFun">TrOrderedFun</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR">TR</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="CORRECTNESS.sem_l_nl">sem_l_nl</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">G</span> <span class="id">P</span> <span class="id">Hprefs</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LN.NormFby.normalized_global">LN.NormFby.normalized_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#Lord.Ordered_nodes">Lord.Ordered_nodes</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA.node_causal">LCA.node_causal</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_global">LT.wt_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_global">LC.wc_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_global">to_global</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Hprefs">Hprefs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#outs">outs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#G">G</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_node">NLSC.sem_node</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#P">P</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#outs">outs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">G</span> <span class="kwd">as</span> [|<span class="id">node</span>]. <span class="id">now</span> <span class="tactic">inversion</span> 7.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hnormed</span> <span class="id">Hord</span> <span class="id">Hcaus</span> <span class="id">Hwt</span> <span class="id">Hwc</span> <span class="id">Htr</span> <span class="id">Hsem</span> <span class="id">Hscin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hsem</span>' := <span class="id">Hsem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hsem</span>' <span class="kwd">as</span> [? ? ? ? ? ? <span class="id">Hfind</span> <span class="id">Hins</span> <span class="id">Houts</span> <span class="id">Heqs</span> <span class="id">Hbk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#Lord.find_node_not_Is_node_in">Lord.find_node_not_Is_node_in</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hord</span> <span class="id">Hfind</span>) <span class="kwd">as</span> <span class="id">Hnini</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hnormed</span>. <span class="id">inv</span> <span class="id">Hwt</span>. <span class="id">inv</span> <span class="id">Hwc</span>. <span class="id">inv</span> <span class="id">Hcaus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sc_nodes">LCS.sc_nodes</a></span> <span class="id">G</span>) <span class="kwd">as</span> <span class="id">Hsc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">Hord</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.l_sem_node_clock">LCS.l_sem_node_clock</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eqb">ident_eqb</a></span> (<span class="id"><a href="Velus.Transcription.Correctness.html#L.n_name">L.n_name</a></span> <span class="id">node</span>) <span class="id">f</span>) <span class="id">eqn</span>:<span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id">Hord</span>':=<span class="id">Hord</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hord</span> <span class="kwd">as</span> [|? ? <span class="id">Hord</span>'' <span class="id">Hnneqs</span> <span class="id">Hnn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS.Forall_sem_equation_global_tl">LS.Forall_sem_equation_global_tl</a></span> <span class="kwd">in</span> <span class="id">Heqs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Htr</span>':=<span class="id">Htr</span>). <span class="id">monadInv</span> <span class="id">Htr</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node">LS.sem_node</a></span> <span class="id">G</span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#outs">outs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs">LCS.sem_clock_inputs</a></span> <span class="id">G</span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_node">NLSC.sem_node</a></span> <span class="id">x0</span> <span class="id"><a href="Velus.Transcription.Correctness.html#f">f</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#ins">ins</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#outs">outs</a></span>) <span class="kwd">as</span> <span class="id">IHG</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_eq">ident_eqb_eq</a></span> <span class="kwd">in</span> <span class="id">Hnf</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LT.wt_node">LT.wt_node</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">inversion</span> <span class="id">it</span> <span class="kwd">as</span> (<span class="id">Hwt1</span> &amp; <span class="id">Hwt2</span> &amp; <span class="id">Hwt3</span> &amp; <span class="id">Hwt4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Transcription.Correctness.html#LC.wc_node">LC.wc_node</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">and</span> <span class="tactic">inversion</span> <span class="id">it</span> <span class="kwd">as</span> (<span class="id">Hwc1</span> &amp; <span class="id">Hwc2</span> &amp; <span class="id">Hwc3</span> &amp; <span class="id">Hwc4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">econstructor</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> &lt;- <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_node_name">to_node_name</a></span>, <span class="id"><a href="Velus.Common.Common.html#ident_eqb_refl">ident_eqb_refl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> &lt;- <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_node_in">to_node_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> &lt;- <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_node_out">to_node_out</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> &lt;- <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_node_in">to_node_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.inputs_clocked_vars">inputs_clocked_vars</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_equation_cons2">NLSC.sem_equation_cons2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.ord_l_nl">ord_l_nl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id">Hton</span> := <span class="id">EQ</span>). <span class="id">tonodeInv</span> <span class="id">EQ</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.sem_toeqs">sem_toeqs</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.envs_eq_node">envs_eq_node</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id">Htrn</span>' := <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_node_name">to_node_name</a></span> <span class="kwd">in</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.ninin_l_nl">ninin_l_nl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.Common.html#ident_eqb_neq">ident_eqb_neq</a></span> <span class="kwd">in</span> <span class="id">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS.sem_node_cons">LS.sem_node_cons</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS.sem_clock_inputs_cons">LCS.sem_clock_inputs_cons</a></span> <span class="kwd">in</span> <span class="id">Hscin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Htr</span>' := <span class="id">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span> <span class="kwd">in</span> <span class="id">Hord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord.Ordered_nodes_append">Lord.Ordered_nodes_append</a></span> <span class="kwd">in</span> <span class="id">Hord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#NLSC.sem_node_cons2">NLSC.sem_node_cons2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS.ord_l_nl">ord_l_nl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_node_name">to_node_name</a></span> <span class="kwd">in</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR.to_global_names">TR.to_global_names</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS">CORRECTNESS</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="CorrectnessFun">CorrectnessFun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ids</span>   : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Op</span>    : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">L</span>     : <span class="id"><a href="Velus.Lustre.LSyntax.html#LSYNTAX">LSYNTAX</a></span>          <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CE</span>    : <span class="id"><a href="Velus.CoreExpr.CESyntax.html#CESYNTAX">CESYNTAX</a></span>             <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NL</span>    : <span class="id"><a href="Velus.NLustre.NLSyntax.html#NLSYNTAX">NLSYNTAX</a></span>         <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>              <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TR</span>    : <span class="id"><a href="Velus.Transcription.Tr.html#TR">TR</a></span>               <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>      <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LT</span>    : <span class="id"><a href="Velus.Lustre.LTyping.html#LTYPING">LTYPING</a></span>          <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LC</span>    : <span class="id"><a href="Velus.Lustre.LClocking.html#LCLOCKING">LCLOCKING</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LCA</span>   : <span class="id"><a href="Velus.Lustre.LCausality.html#LCAUSALITY">LCAUSALITY</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ord</span>   : <span class="id"><a href="Velus.NLustre.NLOrdered.html#NLORDERED">NLORDERED</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>              <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Lord</span>  : <span class="id"><a href="Velus.Lustre.LOrdered.html#LORDERED">LORDERED</a></span>         <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Str</span>   : <span class="id"><a href="Velus.CoindStreams.html#COINDSTREAMS">COINDSTREAMS</a></span>         <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IStr</span>  : <span class="id"><a href="Velus.IndexedStreams.html#INDEXEDSTREAMS">INDEXEDSTREAMS</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LS</span>    : <span class="id"><a href="Velus.Lustre.LSemantics.html#LSEMANTICS">LSEMANTICS</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span>       <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LCS</span>   : <span class="id"><a href="Velus.Lustre.LClockSemantics.html#LCLOCKSEMANTICS">LCLOCKSEMANTICS</a></span>  <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC">LC</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS">LS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LN</span>          : <span class="id"><a href="Velus.Lustre.Normalization.Normalization.html#NORMALIZATION">NORMALIZATION</a></span>    <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NLSC</span>  : <span class="id"><a href="Velus.NLustre.NLCoindSemantics.html#NLCOINDSEMANTICS">NLCOINDSEMANTICS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span>        <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ord">Ord</a></span>)<br/>
&lt;: <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS">CORRECTNESS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR">TR</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LT">LT</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC">LC</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS">LS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS">LCS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LN">LN</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NLSC">NLSC</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CORRECTNESS">CORRECTNESS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Op">Op</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#L">L</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#CE">CE</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NL">NL</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#TR">TR</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LT">LT</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LC">LC</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCA">LCA</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Lord">Lord</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#Str">Str</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#IStr">IStr</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LS">LS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LCS">LCS</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#LN">LN</a></span> <span class="id"><a href="Velus.Transcription.Correctness.html#NLSC">NLSC</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Transcription.Correctness.html#CorrectnessFun">CorrectnessFun</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
