
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module GenerationProperties</title>
<meta name="description" content="Documentation of Coq module GenerationProperties" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module GenerationProperties</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.ZArith.html">ZArith</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html">common.Errors</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html">common.Globalenvs</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html">lib.Coqlib</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html">lib.Maps</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html">lib.Integers</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html">cfrontend.Ctypes</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html">cfrontend.Clight</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CompCertLib.html">Common.CompCertLib</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Ident.html">Ident</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.Generation.html">ObcToClight.Generation</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.Interface.html">ObcToClight.Interface</a></span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Obc</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">List.ListNotations</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">Z</span>.<br/>
<br/>
<div class="doc">Properties  </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="MProps">MProps</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FMapFacts.html#Properties">FMapFacts.Properties</a></span>(<span class="id"><a href="Velus.ObcToClight.Generation.html#M">M</a></span>).<br/>
<span class="kwd">Import</span> <span class="id">MProps</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_key_equiv">eq_key_equiv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">x</span> <span class="id">k</span>' <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) (<span class="id">k</span>', <span class="id">x</span>') &lt;-&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span> = <span class="id">k</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x1</span>, <span class="id">x2</span>) <span class="id">x3</span> (<span class="id">x</span>'1, <span class="id">x</span>'2) <span class="id">x</span>'3.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.Raw.Proofs.PX.eqk">M.Raw.Proofs.PX.eqk</a></span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setoid_in_key">setoid_in_key</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">k</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA">SetoidList.InA</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)) (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#l">l</a></span> &lt;-&gt; <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">k</span>', <span class="id">x</span>')]; <span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">inv</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_equiv">eq_key_equiv</a></span> <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">x</span>) (<span class="id">x</span>':=<span class="id">x</span>').<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_cons">inmembers_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_equiv">eq_key_equiv</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA_cons">SetoidList.InA_cons</a></span>; <span class="tactic">right</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_key_elt_equiv">eq_key_elt_equiv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">x</span> <span class="id">k</span>' <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key_elt">M.eq_key_elt</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) (<span class="id">k</span>', <span class="id">x</span>') &lt;-&gt; (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) = (<span class="id">k</span>', <span class="id">x</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">x1</span>, <span class="id">x2</span>) <span class="id">x3</span> (<span class="id">x</span>'1, <span class="id">x</span>'2) <span class="id">x</span>'3.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key_elt">M.eq_key_elt</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.Raw.Proofs.PX.eqke">M.Raw.Proofs.PX.eqke</a></span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [[]]; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setoid_in_key_elt">setoid_in_key_elt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">k</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA">SetoidList.InA</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key_elt">M.eq_key_elt</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)) (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#l">l</a></span> &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#k">k</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">k</span>', <span class="id">x</span>')]; <span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">inv</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_elt_equiv">eq_key_elt_equiv</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_elt_equiv">eq_key_elt_equiv</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA_cons">SetoidList.InA_cons</a></span>; <span class="tactic">right</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setoid_nodup">setoid_nodup</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#NoDupA">SetoidList.NoDupA</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#l">l</a></span> &lt;-&gt; <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">k</span>, <span class="id">x</span>)]; <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">Nodup</span>; <span class="id">inv</span> <span class="id">Nodup</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key">setoid_in_key</a></span> <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">x</span>).<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">IHl</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key">setoid_in_key</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">IHl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="MapsTo_add_same">MapsTo_add_same</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">o</span> <span class="id">f</span> (<span class="id">c</span> <span class="id">c</span>': <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add">M.add</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) <span class="id">c</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> = <span class="id">c</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq">M.E.eq</a></span> (<span class="id">o</span>, <span class="id">f</span>) (<span class="id">o</span>, <span class="id">f</span>)) <span class="kwd">as</span> <span class="id">E</span> <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (@<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_1">M.add_1</a></span> <span class="id">_</span> <span class="id">m</span> (<span class="id">o</span>, <span class="id">f</span>) (<span class="id">o</span>, <span class="id">f</span>) <span class="id">c</span>' <span class="id">E</span>) <span class="kwd">as</span> <span class="id">Hin</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hin</span> <span class="kwd">in</span> <span class="id">Hin</span>'; <span class="id">inv</span> <span class="id">Hin</span>'; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="MapsTo_add_empty">MapsTo_add_empty</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">f</span> <span class="id">o</span>' <span class="id">f</span>' <span class="id">c</span> <span class="id">c</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add">M.add</a></span> (<span class="id">o</span>', <span class="id">f</span>') <span class="id">c</span>' (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> = <span class="id">o</span>' /\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> = <span class="id">f</span>' /\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> = <span class="id">c</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">o</span>', <span class="id">f</span>') (<span class="id">o</span>, <span class="id">f</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span>. <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Forall_add">Forall_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">a</span> <span class="id">m</span> <span class="id">P</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#P">P</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#P">P</a></span> ((<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#y">y</a></span>), <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#a">a</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#P">P</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add">M.add</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#y">y</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#a">a</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hm</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ((<span class="id">x</span>', <span class="id">y</span>'), <span class="id">a</span>') <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key_elt">setoid_in_key_elt</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">x</span>, <span class="id">y</span>) (<span class="id">x</span>', <span class="id">y</span>')) <span class="kwd">as</span> [<span class="id">E</span>|<span class="id">E</span>].<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">E</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_1">M.elements_1</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key_elt">setoid_in_key_elt</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Remark</span> <span class="id"><a name="translate_param_fst">translate_param_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">IHxs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="translate_obj_fst">translate_obj_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">objs</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#objs">objs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#objs">objs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">objs</span> <span class="kwd">as</span> [|(<span class="id">o</span>, <span class="id">k</span>)]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">IHobjs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_make_members">NoDupMembers_make_members</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_nodup">c_nodup</a></span> <span class="id">c</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_obj_fst">translate_obj_fst</a></span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">NoDupMembers_make_members</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_bind_vardef_fst">glob_bind_vardef_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">env</span> <span class="id">volatile</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#env">env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#volatile">volatile</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">IHxs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDup_prefix_glob">NoDup_prefix_glob</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} (<span class="id">xs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#A">A</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">intros</span> <span class="id">Hnd</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hnd</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="tactic">intros</span> ((<span class="id">x</span>', <span class="id">t</span>') &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob_injective">prefix_glob_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span>, <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="prefixed_funs">prefixed_funs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">m</span> <span class="id">c</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> <span class="id">prog</span> <span class="kwd">as</span> <span class="id">prog</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">prog</span>' <span class="tactic">at</span> 2 <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqprog</span>' <span class="kwd">in</span> <span class="id">Hin</span> <span class="tactic">at</span> 1; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Heqprog</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">prog</span> <span class="kwd">as</span> [|<span class="id">c</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> ((<span class="id">f</span>', <span class="id">d</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">subst</span> <span class="id">f</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">m</span> &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">inv</span> <span class="id">E</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span>) <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">destruct_list_tac</span> <span class="id">l</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span>' := <span class="tactic">fresh</span> "<span class="id">l</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">l</span>']; [|<span class="tactic">destruct</span> <span class="id">l</span>' <span class="kwd">as</span> [|<span class="id">y</span> <span class="id">xs</span>]].<br/>
<span class="kwd">Ltac</span> <span class="id">destruct_list_eqn_tac</span> <span class="id">l</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> <span class="id">E</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span>' := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">l</span>'] <span class="id">eqn</span>: <span class="id">E</span>; [|<span class="tactic">destruct</span> <span class="id">l</span>' <span class="kwd">as</span> [|<span class="id">y</span> <span class="id">xs</span>]].<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">destruct_list</span>" <span class="id">constr</span>(<span class="id">L</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="kwd">as</span>" <span class="id">simple_intropattern</span>(<span class="id">x</span>) <span class="id">simple_intropattern</span>(<span class="id">y</span>) <span class="id">simple_intropattern</span>(<span class="id">xs</span>) :=<br/>
&nbsp;&nbsp;<span class="id">destruct_list_tac</span> <span class="id">L</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">destruct_list</span>" <span class="id">constr</span>(<span class="id">L</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="kwd">as</span>" <span class="id">simple_intropattern</span>(<span class="id">x</span>) <span class="id">simple_intropattern</span>(<span class="id">y</span>) <span class="id">simple_intropattern</span>(<span class="id">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;":" <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="id">destruct_list_eqn_tac</span> <span class="id">L</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">destruct_list</span>" <span class="id">constr</span>(<span class="id">L</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="tactic">fresh</span> "<span class="id">y</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">xs</span> := <span class="tactic">fresh</span> "<span class="id">xs</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">L</span> <span class="kwd">as</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">destruct_list</span>" <span class="id">constr</span>(<span class="id">L</span>) ":" <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="tactic">fresh</span> "<span class="id">x</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="tactic">fresh</span> "<span class="id">y</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">xs</span> := <span class="tactic">fresh</span> "<span class="id">xs</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">L</span> <span class="kwd">as</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> : <span class="id">E</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="InMembers_rec_instance_methods_temp">InMembers_rec_instance_methods_temp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">s</span> <span class="id">prog</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span>)) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">s</span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">try</span> <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span> <span class="kwd">in</span> *; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span> <span class="kwd">in</span> *; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span> <span class="kwd">in</span> *; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span> <span class="kwd">in</span> *; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id">prog</span>) <span class="kwd">as</span> [(?, ?)|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">i1</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>)); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>; <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id">prog</span>) <span class="kwd">as</span> [(?, ?)|]; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">i1</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>)); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|<span class="id">Hin</span>]; <span class="tactic">try</span> <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id">prog</span>) <span class="kwd">as</span> [(?, ?)|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">i1</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods">In_rec_instance_methods</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#vars">vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> (@<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">s</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> * <span class="id">Wt</span> <span class="id">Nodup</span> <span class="id">Ho</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> * <span class="id">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Wt</span>; <span class="tactic">try</span> <span class="id">now</span> <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">H</span>|]; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">H</span>|]; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHs2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|[|]]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id">IHs2</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [[|]|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHs2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|[|]]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs2</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [[|]|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i0</span>, <span class="id">i1</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_1">M.add_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">right</span>; <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|<span class="id">Hin</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|<span class="id">Hin</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_empty">MapsTo_add_empty</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (? &amp; ? &amp; ?); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_1">M.add_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ <span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i0</span>, <span class="id">i1</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">app_NoDupMembers_det</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_1">M.add_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_2">M.add_2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods_temp_find_method">In_rec_instance_methods_temp_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">fid</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> -&gt; <span class="tactic">exists</span> <span class="id">cls</span> <span class="id">c</span> <span class="id">p</span>' <span class="id">fm</span> <span class="id">cid</span>' <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id">p</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">cid</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fm">fm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">cid</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">cls</span> <span class="id">c</span> <span class="id">p</span>' <span class="id">fm</span> <span class="id">cid</span>' <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id">p</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">cid</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fm">fm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">cid</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">s</span>; <span class="tactic">intros</span> * <span class="id">Hin</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:<span class="id">Hclass</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">p0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:<span class="id">Hmethod</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m0</span>); <span class="tactic">eauto</span>. 1,2:<span class="tactic">destruct</span> <span class="id">x0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [?|?]; <span class="tactic">subst</span>; <span class="tactic">eauto</span> 10.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="In_instance_methods_temp_find_method">In_instance_methods_temp_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fid</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">cls</span> <span class="id">c</span> <span class="id">p</span>' <span class="id">fm</span> <span class="id">cid</span>' <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id">p</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">cid</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fm">fm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">cid</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods_temp_find_method">In_rec_instance_methods_temp_find_method</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.empty_in_iff">Env.Props.P.F.empty_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="id">inv</span> <span class="id">Hin</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods_In_insts">In_rec_instance_methods_In_insts</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#vars">vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">o</span> <span class="id">f</span> <span class="id">c</span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">s</span>; <span class="tactic">intros</span> * <span class="id">Wt</span> <span class="id">Hin</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">Wt</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i0</span>, <span class="id">i1</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">subst</span>; <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_instance_methods_In_insts">In_instance_methods_In_insts</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods_In_insts">In_rec_instance_methods_In_insts</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">o</span>' <span class="id">f</span>' <span class="id">c</span>' <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods_find_method">In_rec_instance_methods_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#vars">vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#s">s</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> -&gt; <span class="tactic">exists</span> <span class="id">c</span> <span class="id">p</span>' <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id">p</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fm">fm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">c</span> <span class="id">p</span>' <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id">p</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fm">fm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">s</span>; <span class="tactic">intros</span> * <span class="id">Wt</span> <span class="id">Hin</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">Wt</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i0</span>, <span class="id">i1</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">eexists</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="In_instance_methods_find_method">In_instance_methods_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">c</span> <span class="id">p</span>' <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id">p</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fm">fm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods_find_method">In_rec_instance_methods_find_method</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_instance_methods_atom">In_instance_methods_atom</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Ident.html#Ids.atom">atom</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_find_method">In_instance_methods_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">m</span>&amp;<span class="id">_</span>&amp;<span class="id">Hfind</span>&amp;<span class="id">_</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id">m</span>) <span class="kwd">as</span> (<span class="id">_</span>&amp;?). <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="atom_instance_methods">atom_instance_methods</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">p</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class">wt_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.atom">atom</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>))) (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hwt</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hwtm</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwtm</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="tactic">intros</span> ((<span class="id">o</span>&amp;<span class="id">fid</span>)&amp;<span class="id">cid</span>) <span class="id">Hin</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_atom">In_instance_methods_atom</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#In_InA">SetoidList.In_InA</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eqke_equiv">eqke_equiv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">In_instance_methods_atom</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">prefs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefs">prefs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#insts">insts</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#mems">mems</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefs">prefs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hatom</span> <span class="id">Hwt</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_find_method">In_instance_methods_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">m</span>&amp;<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">Hinm</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hinm</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hatom</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id">atom_instance_methods</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">p</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class">wt_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; (<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.CommonPS.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.Ident.html#Ids.gensym_prefs">gensym_prefs</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>))) (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hwt</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Hwt</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Hwtm</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwtm</span>. 2:<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="tactic">intros</span> ((<span class="id">o</span>&amp;<span class="id">fid</span>)&amp;<span class="id">cid</span>) <span class="id">Hin</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>) <span class="kwd">as</span> (<span class="id">Good</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">In_instance_methods_atom</span>'; [<span class="tactic">eauto</span>|<span class="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.SetoidList.html#In_InA">SetoidList.In_InA</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eqke_equiv">eqke_equiv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_make_out_vars">NoDupMembers_make_out_vars</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">p</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class">wt_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">WT</span> <span class="id">Find</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Nodup</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_nodup">setoid_nodup</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_3w">M.elements_3w</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#atom_instance_methods">atom_instance_methods</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WT</span> <span class="id">Find</span>) <span class="kwd">as</span> <span class="id">Atom</span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id">atom_instance_methods</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WT</span> <span class="id">Find</span>) <span class="kwd">as</span> <span class="id">Atom</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>)) <span class="kwd">as</span> [|((<span class="id">o</span>, <span class="id">f</span>'), <span class="id">c</span>')];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">inversion_clear</span> <span class="id">Nodup</span> <span class="kwd">as</span> [|? ? ? <span class="id">Notin</span> <span class="id">Nodup</span>'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Atom</span>; <span class="tactic">inversion_clear</span> <span class="id">Atom</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>; <span class="tactic">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (((<span class="id">o</span>', <span class="id">f</span>''), <span class="id">c</span>'') &amp; <span class="id">Eq</span> &amp; <span class="id">Hin</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_out_injective">prefix_out_injective</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> <span class="id">Eq</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDup_funs">NoDup_funs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span>)))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Wt</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> <span class="id">prog</span> <span class="kwd">as</span> <span class="id">prog</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">prog</span>' <span class="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqprog</span>' <span class="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqprog</span>' <span class="kwd">in</span> <span class="id">Wt</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Heqprog</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">prog</span> <span class="kwd">as</span> [|<span class="id">c</span>]; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">inversion_clear</span> <span class="id">Wt</span> <span class="kwd">as</span> [|? ? ? ? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;inversion_clear&nbsp;Nodup&nbsp;as&nbsp;[|?&nbsp;?&nbsp;Notinc].&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_app">concat_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">NoDup_app</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_nodupm">c_nodupm</a></span> <span class="id">c</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>) <span class="kwd">as</span> [|<span class="id">m</span>]; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Nodup</span> <span class="kwd">as</span> [|? ? <span class="id">Notin</span>]; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="tactic">intros</span> (<span class="id">m</span>' &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="tactic">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun_injective">prefix_fun_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [? <span class="id">E</span>]. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="tactic">exists</span> <span class="id">m</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>) <span class="kwd">as</span> [|<span class="id">m</span>]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="tactic">intros</span> ((<span class="id">x</span>, <span class="id">d</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_concat">in_concat</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">l</span>' &amp; <span class="id">Hin</span>' &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">c</span>' &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="tactic">subst</span> <span class="id">l</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>'; <span class="tactic">destruct</span> <span class="id">Hin</span>' <span class="kwd">as</span> (<span class="id">m</span>' &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">inversion</span> <span class="id">E</span> <span class="kwd">as</span> [[<span class="id">Eq</span> <span class="id">E</span>']]; <span class="tactic">clear</span> <span class="id">E</span> <span class="id">E</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>) <span class="kwd">as</span> (<span class="id">_</span>&amp;?); <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>') <span class="kwd">as</span> (<span class="id">_</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun_injective">prefix_fun_injective</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Eq</span> <span class="kwd">as</span> [<span class="id">Eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>) = <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">IH</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_out_temps_prefixed">make_out_temps_prefixed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">prog</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">m</span> <span class="id">c</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id">m</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_rec_instance_methods_temp">InMembers_rec_instance_methods_temp</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_rec_instance_methods_temp">InMembers_rec_instance_methods_temp</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id">prog</span>) <span class="kwd">as</span> [(?, ?)|]; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">i1</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>)); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">l</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m0</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>, &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="build_check_size_env_ok">build_check_size_env_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars">gvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars_vol">gvars_vol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#defs">defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#public">public</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main">main</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env">build_composite_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>'; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' <span class="id">types</span>) <span class="kwd">as</span> [[<span class="id">gce</span> ?]|?]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">gce</span> <span class="id">types</span>) <span class="id">eqn</span>: <span class="id">E</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">u</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="build_ok">build_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars">gvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars_vol">gvars_vol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#defs">defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#public">public</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main">main</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env">build_composite_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="check_size_env_ok">check_size_env_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars">gvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars_vol">gvars_vol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#defs">defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#public">public</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main">main</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="check_size_ok">check_size_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">types</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ce">ce</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">t</span> =&gt; <span class="kwd">match</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> <span class="id">id</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size">check_size</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ce">ce</a></span> <span class="id">id</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">types</span> <span class="kwd">as</span> [|(<span class="id">id</span>, <span class="id">su</span>, <span class="id">m</span>, <span class="id">attr</span>) <span class="id">types</span> <span class="id">IH</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size">check_size</a></span> <span class="id">ce</span> <span class="id">id</span>) <span class="id">eqn</span>: <span class="id">E</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">u</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_program_defs">make_program_defs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars">gvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars_vol">gvars_vol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#defs">defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#public">public</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main">main</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">gce</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env">build_composite_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#types">types</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gce">gce</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#p">p</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defs">AST.prog_defs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gce">gce</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars">gvars</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gce">gce</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#gvars_vol">gvars_vol</a></span> ++ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#defs">defs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>'; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' <span class="id">types</span>) <span class="kwd">as</span> [[<span class="id">gce</span> ?]|?]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">gce</span> <span class="id">types</span>) <span class="id">eqn</span>: <span class="id">E</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">u</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_pres_var">type_pres_var</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">x</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_var">translate_var</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>) = <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_var">translate_var</a></span>; <span class="id">cases</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">type_pres_var</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_pres">type_pres</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">e</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_exp">translate_exp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span>) = <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.typeof">typeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span> <span class="kwd">as</span> [| |<span class="id">cst</span>| | |]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">cst</span>; <span class="tactic">simpl</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">u</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">type_pres</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id">types_pres</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">x</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span> = <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>)) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#list_type_to_typelist">list_type_to_typelist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">f</span>) <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">intros</span> * <span class="id">Heq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">Heq</span> <span class="kwd">as</span> [|? ? ? ? <span class="id">Ht</span>]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Ht</span>; <span class="tactic">rewrite</span> &lt;-<span class="id">Ht</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">apply</span> <span class="id">IHl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="types_pres">types_pres</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">c</span> <span class="id">caller</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.typeof">typeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#list_type_to_typelist">list_type_to_typelist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_exp">translate_exp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#caller">caller</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hes</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">types_pres</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Hes</span> <span class="kwd">as</span> [|? (?&amp;?)]; <span class="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_of_params_make_in_arg">type_of_params_make_in_arg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#list_type_to_typelist">list_type_to_typelist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xs">xs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_translate_param">NoDupMembers_translate_param</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span> <span class="id">f</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">Nodup</span> <span class="kwd">as</span> [|??? <span class="id">Notin</span>]; <span class="tactic">simpl</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>; <span class="tactic">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> ((?&amp;?) &amp; <span class="id">E</span> &amp;?); <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">NoDupMembers_translate_param</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="AtomOrGensym_inv">AtomOrGensym_inv</a></span> : <span class="kwd">forall</span> <span class="id">prefs</span> <span class="id">pref</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.CommonPS.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefs">prefs</a></span>) (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#pref">pref</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#pref">pref</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefs">prefs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="tactic">intros</span> * [?|(?&amp;?&amp;?&amp;?)].<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_not_atom">prefix_not_atom</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_gensym_injective">prefix_gensym_injective</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonPS.html#ps_of_list_In">ps_of_list_In</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="self_not_in_translate_param_in">self_not_in_translate_param_in</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">self_not_in_translate_param_in</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="out_not_in_translate_param_in">out_not_in_translate_param_in</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">out_not_in_translate_param_in</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="self_not_in_translate_param_vars">self_not_in_translate_param_vars</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_vars">m_good_vars</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">self_not_in_translate_param_vars</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="out_not_in_translate_param_vars">out_not_in_translate_param_vars</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_vars">m_good_vars</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">out_not_in_translate_param_vars</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="self_not_in_temps">self_not_in_temps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_prefixed">make_out_temps_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (<span class="id">Eq</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">self_not_in_temps</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="out_not_in_temps">out_not_in_temps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>) ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_prefixed">make_out_temps_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (<span class="id">Eq</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">out_not_in_temps</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="c_objs_field_offset">c_objs_field_offset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">o</span> <span class="id">c</span> <span class="id">cls</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">d</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ge">ge</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#d">d</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="kwd">forall</span> <span class="id">ofs</span>, <span class="tactic">exists</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset_rec">field_offset_rec</a></span> <span class="id">ge</span> <span class="id">o</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">cls</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ofs">ofs</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#d">d</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_split">in_split</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">ws</span> &amp; <span class="id">xs</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hin</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_cons">map_cons</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id">cls</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> <span class="id">ws</span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> <span class="id">xs</span>).<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Hin</span> <span class="id">ws</span> <span class="id">xs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ws</span> <span class="id">xs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="tactic">intros</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">setoid_rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>. <span class="id">now</span> <span class="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> (<span class="id">x</span>, <span class="id">ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.Common.CommonPS.html#ident_eq_dec">ident_eq_dec</a></span> <span class="id">o</span> <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">He</span>|<span class="id">Hne</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">He</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>. <span class="id">now</span> <span class="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_false">peq_false</a></span> <span class="kwd">with</span> (1:=<span class="id">Hne</span>). <span class="tactic">apply</span> <span class="id">IH</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_translate_mem_type">field_translate_mem_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">clsnm</span> <span class="id">cls</span> <span class="id">prog</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#clsnm">clsnm</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>, <span class="id">prog</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ty">ty</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ty">ty</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hfind</span> ? ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#in_field_type">in_field_type</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">left</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id">x</span>, <span class="id">ty</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_translate_obj_type">field_translate_obj_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">clsnm</span> <span class="id">cls</span> <span class="id">prog</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#clsnm">clsnm</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>, <span class="id">prog</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hfind</span> ? ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#in_field_type">in_field_type</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">exists</span> (<span class="id">o</span>, <span class="id">c</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_exprlist_app">eval_exprlist_app</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">es</span> <span class="id">es</span>' <span class="id">vs</span> <span class="id">vs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tge">tge</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#le">le</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#list_type_to_typelist">list_type_to_typelist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span>)) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#vs">vs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tge">tge</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#le">le</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> <span class="id">es</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#list_type_to_typelist">list_type_to_typelist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id">es</span>')) <span class="id">vs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tge">tge</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#e">e</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#le">le</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span> ++ <span class="id">es</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#list_type_to_typelist">list_type_to_typelist</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#es">es</a></span> ++ <span class="id">es</span>'))) (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#vs">vs</a></span> ++ <span class="id">vs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">es</span>; <span class="tactic">intros</span> * <span class="id">Ev</span> <span class="id">Ev</span>'; <span class="id">inv</span> <span class="id">Ev</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="wf_struct">wf_struct</a></span> (<span class="id">ge</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) '((<span class="id">x</span>, <span class="id">t</span>): <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type">Ctypes.type</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">id</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#id">id</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ge">ge</a></span> ! <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="kwd">forall</span> <span class="id">x</span>' <span class="id">t</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">x</span>', <span class="id">t</span>') (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">chunk</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">t</span>' = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#chunk">chunk</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Memdata.html#align_chunk">Memdata.align_chunk</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#chunk">chunk</a></span> | <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ge">ge</a></span> <span class="id">t</span>').<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">contr</span> := <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> &lt;&gt; ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="id">contradict</span> <span class="id">H</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">auto</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">try</span> <span class="id">contradiction</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="case_out">case_out</a></span> {<span class="id">A</span>} (<span class="id">m</span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span>) (<span class="id">anil</span>: <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#A">A</a></span>) (<span class="id">asing</span>: <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> -&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span> -&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#A">A</a></span>) (<span class="id">a</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>) -&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#A">A</a></span>) : <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#A">A</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m">m</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [] =&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#anil">anil</a></span><br/>
&nbsp;&nbsp;| [(<span class="id">x</span>, <span class="id">t</span>)] =&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#asing">asing</a></span> <span class="id">x</span> <span class="id">t</span><br/>
&nbsp;&nbsp;| <span class="id">outs</span> =&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#a">a</a></span> <span class="id">outs</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MethodSpec">MethodSpec</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="MethodSpec.c">c</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span>) (<span class="id"><a name="MethodSpec.f">f</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="method_spec">method_spec</a></span> (<span class="id">prog</span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>) (<span class="id">fd</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#function">function</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_out_param</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> =&gt; [(<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))]) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_return</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> <span class="id">t</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_temp_out</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">t</span> =&gt; [<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>)])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> =&gt; []) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_body</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">t</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span>) = (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f_out_param">f_out_param</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_return">fn_return</a></span>) = <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f_return">f_return</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_callconv">fn_callconv</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span>) = <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span>) = <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f_temp_out">f_temp_out</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_body">fn_body</a></span>) = <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f_body">f_body</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="method_spec_eq">method_spec_eq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">fd1</span> <span class="id">fd2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd1">fd1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd2">fd2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd1">fd1</a></span> = <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd2">fd2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span>; <span class="tactic">destruct</span> <span class="id">fd1</span>, <span class="id">fd2</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">intuition</span>; <span class="tactic">f_equal</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="MethodSpec.ownerid">ownerid</a></span> <span class="id"><a name="MethodSpec.cid">cid</a></span>: <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a name="MethodSpec.owner">owner</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span>) (<span class="id"><a name="MethodSpec.prog">prog</a></span> <span class="id">prog</span>' <span class="id">prog</span>'': <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>) (<span class="id"><a name="MethodSpec.fid">fid</a></span>: <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> (<span class="id"><a name="MethodSpec.Findowner">Findowner</a></span> : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.ownerid">ownerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.owner">owner</a></span>, <span class="id">prog</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="MethodSpec.Findcl">Findcl</a></span>    : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.cid">cid</a></span> <span class="id">prog</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>, <span class="id">prog</span>''))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="MethodSpec.Findmth">Findmth</a></span>   : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.fid">fid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="MethodSpec.WTp">WTp</a></span>       : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="instance_methods_temp_find_class">instance_methods_temp_find_class</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">prog</span>') <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> = <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">prog</span>'' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) <span class="kwd">as</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_chained">find_class_chained</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="kwd">in</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">WT</span> <span class="kwd">as</span> [| | | |????????? <span class="id">Findcl</span>' <span class="id">Findmth</span>'|]; <span class="tactic">intro</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHs1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog</span>') <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog</span>'') <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id">prog</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p</span>')) <span class="kwd">as</span> <span class="id">Find1</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_chained">find_class_chained</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p</span>')) <span class="kwd">as</span> <span class="id">Find2</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_chained">find_class_chained</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find1</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find2</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="translate_stmt_find_class">translate_stmt_find_class</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">prog</span>') <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) = <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">prog</span>'' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) <span class="kwd">as</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_chained">find_class_chained</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="kwd">in</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">WT</span> <span class="kwd">as</span> [| | | |????????? <span class="id">Findcl</span>' <span class="id">Findmth</span>'|]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">IHs1</span>, <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">IHs1</span>, <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog</span>') <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#binded_funcall">binded_funcall</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id">prog</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p</span>')) <span class="kwd">as</span> <span class="id">Find1</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_chained">find_class_chained</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">i</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p</span>')) <span class="kwd">as</span> <span class="id">Find2</span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_chained">find_class_chained</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find1</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find2</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="method_spec_find_class">method_spec_find_class</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id">prog</span>' <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span> &lt;-&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fd">fd</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#instance_methods_temp_find_class">instance_methods_temp_find_class</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_stmt_find_class">translate_stmt_find_class</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec">MethodSpec</a></span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">inv_trans_tac</span> <span class="id">H</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">type</span> <span class="id">of</span> <span class="id">H</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#translate">translate</a></span> ?<span class="id">b</span> ?<span class="id">a</span> ?<span class="id">n</span> ?<span class="id">p</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> ?<span class="id">tp</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate">translate</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">n</span> <span class="id">p</span>) <span class="kwd">as</span> [(<span class="id">c</span>, <span class="id">cls</span>)|] <span class="id">eqn</span>: <span class="id">En</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>)) <span class="id">eqn</span>: <span class="id">Estep</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.reset">reset</a></span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>)) <span class="id">eqn</span>: <span class="id">Ereset</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="tactic">split</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">p</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">p</span>))) <span class="kwd">as</span> (<span class="id">s</span>, <span class="id">f</span>) <span class="id">eqn</span>: <span class="id">E</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">inv_trans</span>" <span class="id">ident</span>(<span class="id">H</span>) "<span class="kwd">as</span>" <span class="id">ident</span>(<span class="id">En</span>) <span class="id">ident</span>(<span class="id">Estep</span>) <span class="id">ident</span>(<span class="id">Ereset</span>) "<span class="kwd">with</span>" <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans_tac</span> <span class="id">H</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">inv_trans</span>" <span class="id">ident</span>(<span class="id">H</span>) "<span class="kwd">as</span>" <span class="id">ident</span>(<span class="id">En</span>) <span class="id">ident</span>(<span class="id">Estep</span>) <span class="id">ident</span>(<span class="id">Ereset</span>) "<span class="kwd">with</span>" <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">inv_trans</span>" <span class="id">ident</span>(<span class="id">H</span>) "<span class="kwd">as</span>" <span class="id">ident</span>(<span class="id">En</span>) <span class="id">ident</span>(<span class="id">Estep</span>) <span class="id">ident</span>(<span class="id">Ereset</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">inv_trans</span>" <span class="id">ident</span>(<span class="id">H</span>) "<span class="kwd">with</span>" <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">inv_trans</span>" <span class="id">ident</span>(<span class="id">H</span>) "<span class="kwd">with</span>" <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">inv_trans</span>" <span class="id">ident</span>(<span class="id">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="TranslateOk">TranslateOk</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.main_node">main_node</a></span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.prog">prog</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.tprog">tprog</a></span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.do_sync">do_sync</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.all_public">all_public</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.tge">tge</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.gcenv">gcenv</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#genv_cenv">genv_cenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.TRANSL">TRANSL</a></span>: <span class="id"><a href="Velus.ObcToClight.Generation.html#translate">translate</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.all_public">all_public</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">Errors.OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.WT">WT</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_self">find_self</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">sb</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#sb">sb</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>' <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, ?)|]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="tactic">destruct</span> <span class="id">Eq</span> <span class="kwd">as</span> [? <span class="id">Funs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol_exists">Genv.find_symbol_exists</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">TRANSL</span> <span class="kwd">as</span> [<span class="id">Htprog</span>]; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Consistent">Consistent</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_env_consistent">composite_env_consistent</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_ok">build_ok</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env_consistent">build_composite_env_consistent</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_defs_norepet">prog_defs_norepet</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>' <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, <span class="id">P</span>)|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="tactic">destruct</span> <span class="id">Eq</span> <span class="kwd">as</span> [? <span class="id">Funs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">TRANSL</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> 4 <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#glob_bind_vardef_fst">glob_bind_vardef_fst</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ( ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="kwd">if</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> [(<span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_sync">make_sync</a></span>); (<span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ [(<span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_entry_point">make_entry_point</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>)]))) <span class="kwd">as</span> <span class="id">Notin_self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|[((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|[((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id">Hin</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob_injective">prefix_glob_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">auto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_out">m_good_out</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob_injective">prefix_glob_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">auto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span>) <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">funs</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (?&amp;?); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|[<span class="id">Hin</span>|[<span class="id">Hin</span>|[<span class="id">Hin</span>|]]]]; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.sync_not_glob">sync_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_sync_not_glob">main_sync_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_not_glob">main_proved_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_not_glob">main_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|[<span class="id">Hin</span>|]]; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_not_glob">main_proved_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_not_glob">main_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="kwd">if</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> [(<span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_sync">make_sync</a></span>); (<span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ [(<span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_entry_point">make_entry_point</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>)]))) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.CommonPS.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.Ident.html#Ids.gensym_prefs">gensym_prefs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>)) <span class="kwd">as</span> <span class="id">Atom_out</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (<span class="id">x</span>, <span class="id">t</span>) ?; <span class="tactic">apply</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_out">m_good_out</a></span> <span class="id">m</span> (<span class="id">x</span>, <span class="id">t</span>)); <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.CommonPS.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.Ident.html#Ids.gensym_prefs">gensym_prefs</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>)) <span class="kwd">as</span> <span class="id">Atom_in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (<span class="id">x</span>, <span class="id">t</span>) ?; <span class="tactic">apply</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="id">m</span> (<span class="id">x</span>, <span class="id">t</span>)); <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hm_out</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDup_prefix_glob">NoDup_prefix_glob</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupout">m_nodupout</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hm_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDup_prefix_glob">NoDup_prefix_glob</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>))) <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id">Funs</span>; <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDup_funs">NoDup_funs</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">z</span>  =&gt; ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#z">z</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hin_not_funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.glob_not_in_prefixed">glob_not_in_prefixed</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> * <span class="id">Hin</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#z">z</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hout_not_funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.glob_not_in_prefixed">glob_not_in_prefixed</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> * <span class="id">Hin</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#z">z</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hout_not_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.NoDupMembers_glob">NoDupMembers_glob</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id">m</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span> [?<span class="id">x</span> :: <span class="id">_</span> :: <span class="id">_</span>] =&gt; <span class="tactic">rewrite</span> (<span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span> <span class="id">x</span>) <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id">NoDup_app</span>'; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_not_In_app">Forall_not_In_app</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_not_In_singleton">Forall_not_In_singleton</a></span>; <span class="tactic">auto</span>; <span class="tactic">try</span> <span class="id">now</span> <span class="tactic">repeat</span> <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-6,19:(<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#In_singleton">In_singleton</a></span>; <span class="id">prove_str_to_pos_neq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-4,13,14:(<span class="tactic">intro</span> <span class="id">contra</span>; <span class="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">contra</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">contra</span>); <span class="tactic">unfold</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="kwd">in</span> <span class="id">contra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_not_atom">prefix_not_atom</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> &lt;- <span class="id">contra</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-12:(<span class="tactic">clear</span> - <span class="id">m</span>; <span class="tactic">intro</span> <span class="id">contra</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">contra</span> <span class="kwd">as</span> (?&amp;<span class="id">Hglob</span>&amp;<span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,5:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.sync_not_glob">sync_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,4:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_sync_not_glob">main_sync_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,3,5,7:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_not_glob">main_proved_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-4:<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_not_glob">main_not_glob</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="TranslateOk.ClassProperties">ClassProperties</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variables</span> (<span class="id"><a name="TranslateOk.ClassProperties.ownerid">ownerid</a></span>: <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a name="TranslateOk.ClassProperties.owner">owner</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span>) (<span class="id">prog</span>': <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.ClassProperties.Findcl">Findcl</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>, <span class="id">prog</span>').<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="make_members_co">make_members_co</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> ! <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span> = <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#attr_alignas">attr_alignas</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_attr">co_attr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_sizeof">co_sizeof</a></span>) &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_name">find_class_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.Findcl">Findcl</a></span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> [? <span class="id">SIZE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [<span class="id">Structs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_struct">make_struct</a></span> <span class="kwd">in</span> <span class="id">Structs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_In">find_class_In</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="kwd">fun</span> <span class="id">c</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> :: <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out">make_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">in_concat</span>' <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> :: <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out">make_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Structs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env_charact">build_composite_env_charact</a></span> <span class="kwd">as</span> (<span class="id">co</span> &amp; <span class="id">Hco</span> &amp; <span class="id">Hmembers</span> &amp; <span class="id">Hattr</span> &amp; ?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">co</span>; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Hattr</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Hmembers</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDupMembers_make_members">NoDupMembers_make_members</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_size_ok">check_size_ok</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size">check_size</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="tactic">rewrite</span> <span class="id">Hco</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">Le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_is_le_bool">Zle_is_le_bool</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties">MethodProperties</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variables</span> (<span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span>: <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span>) (<span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.OutStruct">OutStruct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.OutStruct.Length">Length</a></span>: (1 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>))%<span class="id">nat</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="global_out_struct">global_out_struct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_su">co_su</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_attr">co_attr</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#co">co</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_sizeof">co_sizeof</a></span>) &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> [? <span class="id">SIZE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [<span class="id">Structs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out">make_out</a></span> <span class="kwd">in</span> <span class="id">Structs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.Findcl">Findcl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_In">find_class_In</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="kwd">fun</span> <span class="id">c</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#make_struct">make_struct</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span> :: <span class="id"><a href="Velus.ObcToClight.Generation.html#filter_out">filter_out</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span> <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#filter_out">filter_out</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#filter_out">filter_out</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#filter_In">filter_In</a></span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="tactic">try</span> <span class="id">contradict</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.OutStruct.Length">Length</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Lt.html#lt_n_0">lt_n_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Lt.html#lt_irrefl">lt_irrefl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="tactic">at</span> 1 <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">erewrite</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_name">find_class_name</a></span>, <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_concat_cons">in_concat_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Structs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env_charact">build_composite_env_charact</a></span> <span class="kwd">as</span> (<span class="id">co</span> &amp; <span class="id">Hco</span> &amp; <span class="id">Hmembers</span> &amp; ? &amp; ?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">co</span>; <span class="tactic">repeat</span> (<span class="tactic">split</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Hmembers</span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>, &lt;- <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupout">m_nodupout</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_size_ok">check_size_ok</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size">check_size</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="tactic">rewrite</span> <span class="id">Hco</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">Le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_is_le_bool">Zle_is_le_bool</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="output_match">output_match</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">outco</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#outco">outco</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>) = <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#outco">outco</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Houtco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#global_out_struct">global_out_struct</a></span> <span class="kwd">as</span> (<span class="id">outco</span>' &amp; <span class="id">Houtco</span>' &amp; <span class="id">Eq</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Houtco</span> <span class="kwd">in</span> <span class="id">Houtco</span>'; <span class="id">now</span> <span class="id">inv</span> <span class="id">Houtco</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.OutStruct">OutStruct</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="well_formed_instance_methods">well_formed_instance_methods</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#o">o</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">c</span> <span class="id">cls</span> <span class="id">callee</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cid">cid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#cls">cls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fid">fid</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#callee">callee</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (1 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#callee">callee</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>))%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Ho</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_name">find_class_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.Findcl">Findcl</a></span>) <span class="kwd">as</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>) <span class="kwd">as</span> <span class="id">Eq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span> <span class="kwd">as</span> [<span class="id">WT</span>']; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span> <span class="kwd">in</span> <span class="id">WT</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="kwd">in</span> <span class="id">WT</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_nodupobjs">c_nodupobjs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">discriminate</span>); <span class="id">inv</span> <span class="id">WT</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods">In_rec_instance_methods</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHs2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHs1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods">In_rec_instance_methods</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHs2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHs1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i0</span>, <span class="id">i1</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">cls</span>, <span class="id">p</span>', <span class="id">fm</span>; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_sub">find_class_sub</a></span> <span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_sub_same">find_class_sub_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">fm</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H10</span>; <span class="id">inv</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="methods_corres">methods_corres</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">loc_f</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#loc_f">loc_f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#loc_f">loc_f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_defs_norepet">prog_defs_norepet</a></span> <span class="kwd">as</span> <span class="id">Norepet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_name">find_class_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.Findcl">Findcl</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>))) <span class="kwd">as</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [? <span class="id">Funs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> <span class="kwd">in</span> <span class="id">Funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_In">find_class_In</a></span> <span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="kwd">fun</span> <span class="id">c</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c">c</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span> <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">in_concat</span>' <span class="kwd">in</span> <span class="id">Findmth</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">Funs</span> <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>' <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, <span class="id">P</span>)|]; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree_Properties.of_list_norepet">PTree_Properties.of_list_norepet</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion_clear</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">right</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">Findmth</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hget</span> <span class="kwd">as</span> (<span class="id">loc_f</span> &amp; <span class="id">Findsym</span> &amp; <span class="id">Finddef</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#fundef">fundef</a></span> <span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))) <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intro</span> <span class="id">Hin</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Eq</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Eq</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Good</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_remove_1">NoDupMembers_remove_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDupMembers_make_out_vars">NoDupMembers_make_out_vars</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> ++ <span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)) <span class="kwd">as</span> <span class="id">Nodup</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app">NoDupMembers_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app">NoDupMembers_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Environment.html#Env.NoDupMembers_elements">Env.NoDupMembers_elements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_temp_find_method">In_instance_methods_temp_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">c</span>'&amp;<span class="id">_</span>&amp;<span class="id">m</span>'&amp;?&amp;?&amp;<span class="id">_</span>&amp;<span class="id">Hmethod</span>&amp;?); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hmethod</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id">m</span>') <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> (<span class="id">Hvars</span>&amp;<span class="id">_</span>). <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>. <span class="tactic">destruct</span> <span class="id">Hvars</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Hvars</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">contra</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">contra</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">apply</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span> <span class="id">x</span>) <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">intro</span> <span class="id">Hin</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_temp_find_method">In_instance_methods_temp_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin</span>' <span class="kwd">as</span> (?&amp;<span class="id">c</span>'&amp;<span class="id">_</span>&amp;<span class="id">m</span>'&amp;?&amp;?&amp;<span class="id">_</span>&amp;<span class="id">Hmethod</span>&amp;?); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hmethod</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id">m</span>') <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> (<span class="id">Hvars</span>&amp;<span class="id">_</span>). <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>. <span class="tactic">destruct</span> <span class="id">Hvars</span> <span class="kwd">as</span> (<span class="id">Hvars</span>&amp;<span class="id">_</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>; <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="tactic">split</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_vars">m_good_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>. <span class="tactic">intro</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Good</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_prefixed">make_out_temps_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (<span class="id">Eq</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint_cons_l">list_disjoint_cons_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#NoDupMembers_disjoint">NoDupMembers_disjoint</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">rewrite</span> &lt;-2<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>; <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="tactic">split</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_vars">m_good_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>. <span class="tactic">intro</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Good</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intro</span> <span class="id">Hin</span>. <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_prefixed">make_out_temps_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (<span class="id">Eq</span>&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint_cons_l">list_disjoint_cons_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#NoDupMembers_disjoint">NoDupMembers_disjoint</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">rewrite</span> &lt;-2<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>) <span class="kwd">as</span> (<span class="id">y</span>, <span class="id">t</span>) ? ? : <span class="id">Out</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">set</span> (<span class="id">f</span>:= {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#mkfunction">fn_return</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_callconv</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_params</span> := (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>)) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_vars</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_temps</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_body</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">loc_f</span>, <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span>) <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">loc_f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">set</span> (<span class="id">f</span>:= {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#mkfunction">fn_return</a></span> := <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">t</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_callconv</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_params</span> := (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_vars</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_temps</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id">y</span>, <span class="id">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_body</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span> (<span class="id">y</span>, <span class="id">t</span>))) |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">loc_f</span>, <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span>) <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">loc_f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint_cons_r">list_disjoint_cons_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Eq</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_out">m_good_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id">y</span>, <span class="id">t</span>)) <span class="kwd">as</span> <span class="id">Good</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Good</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Out</span>. <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span> <span class="id">y</span>) <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Nodup</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>, <span class="id">Out</span>; <span class="tactic">right</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#inmembers_eq">inmembers_eq</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">set</span> (<span class="id">f</span>:= {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#mkfunction">fn_return</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_callconv</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_params</span> := (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_vars</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_temps</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_body</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">loc_f</span>, <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span>) <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">loc_f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties">MethodProperties</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties">ClassProperties</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="instance_methods_caract">instance_methods_caract</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ownerid</span> <span class="id">owner</span> <span class="id">prog</span>' <span class="id">callerid</span> <span class="id">caller</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ownerid">ownerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#owner">owner</a></span>, <span class="id">prog</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#caller">caller</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>) &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span> /\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#wf_struct">wf_struct</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#caller">caller</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Findcl</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program_find_class">wt_program_find_class</a></span> <span class="kwd">as</span> [<span class="id">WT</span>']; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span> <span class="kwd">in</span> <span class="id">WT</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (?&amp;?) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (((<span class="id">o</span>, <span class="id">fid</span>), <span class="id">cid</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key_elt">setoid_in_key_elt</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span> <span class="id">owner</span>)) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_In_insts">In_instance_methods_In_insts</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#well_formed_instance_methods">well_formed_instance_methods</a></span> <span class="kwd">as</span> (<span class="id">c</span> &amp; <span class="id">cls</span> &amp; <span class="id">callee</span> &amp; <span class="id">Findc</span> &amp; <span class="id">Findcallee</span> &amp; <span class="id">Notnil</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class_name">find_class_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Findc</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Findcallee</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#global_out_struct">global_out_struct</a></span> <span class="kwd">as</span> (<span class="id">co</span> &amp; <span class="id">Hco</span> &amp; ? &amp; <span class="id">Hmembers</span> &amp; ? &amp; ? &amp; ?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">reflexivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">simpl</span>; <span class="tactic">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="kwd">with</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hco</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">exists</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span> <span class="id">callee</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id">c</span>)), <span class="id">co</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hmembers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hinxt</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="kwd">in</span> <span class="id">Hinxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hinxt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinxt</span> <span class="kwd">as</span> ((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">Eq</span> &amp; <span class="id">Hinxt</span>); <span class="id">inv</span> <span class="id">Eq</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_class_sig">find_main_class_sig</a></span>: {<span class="id">c_prog_main</span> | <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_prog_main">c_prog_main</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="c_main">c_main</a></span>   : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class_sig">find_main_class_sig</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="prog_main">prog_main</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class_sig">find_main_class_sig</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="find_main_class">find_main_class</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_main">prog_main</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_main">prog_main</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class_sig">find_main_class_sig</a></span> <span class="kwd">as</span> ((?&amp;?)&amp;?); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_step_sig">find_main_step_sig</a></span>: {<span class="id">m_step</span> | <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m_step">m_step</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class">find_main_class</a></span> <span class="kwd">in</span> <span class="id">En</span>; <span class="id">inv</span> <span class="id">En</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_reset_sig">find_main_reset_sig</a></span>: {<span class="id">m_reset</span> | <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.reset">reset</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#m_reset">m_reset</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class">find_main_class</a></span> <span class="kwd">in</span> <span class="id">En</span>; <span class="id">inv</span> <span class="id">En</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="main_step">main_step</a></span> : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_step_sig">find_main_step_sig</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="main_reset">main_reset</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_reset_sig">find_main_reset_sig</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="find_main_step">find_main_step</a></span> : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_step_sig">find_main_step_sig</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="find_main_reset">find_main_reset</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.reset">reset</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_reset">main_reset</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_reset_sig">find_main_reset_sig</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="TranslateClasses">TranslateClasses</a></span>: {<span class="id">structs_funs</span> | <span class="tactic">split</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) = <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#structs_funs">structs_funs</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="structs">structs</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_definition">composite_definition</a></span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="funs">funs</a></span>   : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#globdef">AST.globdef</a></span> <span class="id">_</span> <span class="id">_</span>)) := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tprog_defs">tprog_defs</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ce</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ce">ce</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) [(<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>), <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span>)] ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ce">ce</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>)) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#funs">funs</a></span> ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">if</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> [(<span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_sync">make_sync</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> []) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(<span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_entry_point">make_entry_point</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>)].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">subst</span> <span class="id">ce</span> <span class="id">tge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#funs">TranslateOk.funs</a></span>; <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>) <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>); <span class="id">inv</span> <span class="id">E</span>; <span class="tactic">simpl</span> <span class="id">snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class">find_main_class</a></span> <span class="kwd">in</span> <span class="id">En</span>; <span class="id">inv</span> <span class="id">En</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_step">find_main_step</a></span> <span class="kwd">in</span> <span class="id">Estep</span>; <span class="id">inv</span> <span class="id">Estep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>' <span class="kwd">in</span> <span class="id">Trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, ?)|]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Trans</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="is_volatile">is_volatile</a></span> (<span class="id">xt</span>: <span class="id"><a href="Velus.ClockDefs.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">x</span>, <span class="id">t</span>) := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#xt">xt</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="in_vardef_is_volatile">in_vardef_is_volatile</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> ((<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>))) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#x">x</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ty</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#merge_attributes">merge_attributes</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">t</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#mk_attr">mk_attr</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (@<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Gvar">AST.Gvar</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fundef">Clight.fundef</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#mkglobvar">AST.mkglobvar</a></span> <span class="id">ty</span> [<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Init_space">AST.Init_space</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">ty</span>)] <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree_Properties.of_list_norepet">PTree_Properties.of_list_norepet</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_defs_norepet">prog_defs_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Hget</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">Findsym</span> &amp; <span class="id">Finddef</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">setoid_rewrite</span> <span class="id">Finddef</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_step_in">volatile_step_in</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (<span class="id">x</span>, <span class="id">t</span>) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#in_vardef_is_volatile">in_vardef_is_volatile</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tprog_defs">tprog_defs</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">left</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>, <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">t</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id">x</span>, <span class="id">t</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_step_out">volatile_step_out</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="tactic">intros</span> (<span class="id">x</span>, <span class="id">t</span>) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#in_vardef_is_volatile">in_vardef_is_volatile</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tprog_defs">tprog_defs</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">left</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>, <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">t</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> (<span class="id">x</span>, <span class="id">t</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tprog_main_proved_id">tprog_main_proved_id</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_main">Ctypes.prog_main</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_program</span>' <span class="kwd">in</span> <span class="id">Trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">build_composite_env</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, ?)|]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Trans</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.out_step">out_step</a></span>   := <span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.t_out_step">t_out_step</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="main_f">main_f</a></span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#function">function</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#mkfunction">fn_return</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_callconv</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_params</span> := [];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_vars</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> =&gt; [(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.out_step">out_step</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.t_out_step">t_out_step</a></span>)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_temps</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">y</span> <span class="id">t</span> =&gt; [(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#y">y</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#t">t</a></span>)])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> =&gt; [])  ++ <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fn_body</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#main_body">main_body</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="norepet_vars_main">norepet_vars_main</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span>; <span class="id">cases</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="norepet_params_main">norepet_params_main</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="disjoint_params_temps_main">disjoint_params_temps_main</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#NoDupMembers_disjoint">NoDupMembers_disjoint</a></span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>) <span class="kwd">as</span> (?,?) (?,?) ? : <span class="id">Hout</span>; <span class="tactic">simpl</span> <span class="id">app</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">constructor</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>; <span class="tactic">right</span>; <span class="tactic">rewrite</span> <span class="id">Hout</span>; <span class="tactic">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="well_initialized">well_initialized</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#id">id</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Gvar">AST.Gvar</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#v">v</a></span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.init_data_list_aligned">Genv.init_data_list_aligned</a></span> 0 (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#gvar_init">AST.gvar_init</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#v">v</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">i</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Init_addrof">AST.Init_addrof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#i">i</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#ofs">ofs</a></span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#gvar_init">AST.gvar_init</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#v">v</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">as</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_ok">build_ok</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span>) <span class="kwd">as</span> <span class="id">Hbuild</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_program_defs">make_program_defs</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> (<span class="id">gce</span> &amp; <span class="id">Hbuild</span>' &amp; <span class="id">Eq</span>); <span class="tactic">clear</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hbuild</span> <span class="kwd">in</span> <span class="id">Hbuild</span>'; <span class="id">inv</span> <span class="id">Hbuild</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Eq</span>; <span class="tactic">clear</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">intros</span> * [<span class="id">Hinv</span>|<span class="id">Hinv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinv</span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> * <span class="id">Hinio</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hinio</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinio</span>; [<span class="tactic">discriminate</span>|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [<span class="id">Hinv</span>|[<span class="id">Hinv</span>|[<span class="id">Hinv</span>|[<span class="id">Hinv</span>|<span class="id">Hinv</span>]]]]; <span class="tactic">try</span> <span class="id">now</span> <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">induction</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>)) <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">contradict</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [<span class="id">Hinv</span>|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinv</span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">intros</span> * <span class="id">Hinio</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hinio</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinio</span>; [<span class="tactic">discriminate</span>|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> <span class="id">En</span> <span class="id">Hbuild</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> <span class="kwd">as</span> <span class="id">prog1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">prog1</span>)) <span class="kwd">with</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) <span class="kwd">in</span> <span class="id">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-<span class="id">Heqprog1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Heqprog1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">prog1</span> <span class="kwd">as</span> [|<span class="id">c</span>' <span class="id">prog</span>']; <span class="tactic">intros</span> * <span class="id">E</span> <span class="id">Hinv</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">E</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#split_last">split_last</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="tactic">split</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">prog</span>'))) <span class="kwd">as</span> (<span class="id">g</span>, <span class="id">d</span>) <span class="id">eqn</span>: <span class="id">Egd</span>; <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_app">concat_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="tactic">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [|<span class="id">Hinv</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>'); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [<span class="id">Hinv</span>|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">a</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="tactic">try</span> <span class="id">now</span> <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [[<span class="id">Hinv</span>|<span class="id">Hinv</span>]|[<span class="id">Hinv</span>|<span class="id">Hinv</span>]]; <span class="tactic">try</span> <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_ptr">find_main_ptr</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Internal">Ctypes.Internal</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) ! <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>)) <span class="kwd">as</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span>; <span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree_Properties.of_list_norepet">PTree_Properties.of_list_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_defs_norepet">prog_defs_norepet</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">setoid_rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tprog_defs">tprog_defs</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">right</span>; <span class="tactic">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="tactic">intro</span>; <span class="id">cases</span>; [<span class="tactic">do</span> 2 <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>|]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Hget</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">Findsym</span> &amp; <span class="id">Finddef</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">b</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>; <span class="tactic">subst</span> <span class="id">tge</span>; <span class="tactic">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">f_equal</span>; <span class="id">cases</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk">TranslateOk</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Consistent</span> <span class="id">prog_defs_norepet</span> <span class="id">make_members_co</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">norepet_vars_main</span> <span class="id">norepet_params_main</span> <span class="id">disjoint_params_temps_main</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
