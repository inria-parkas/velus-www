
<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ObcSemantics</title>
<meta name="description" content="Documentation of Coq module ObcSemantics" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
</head>

<body>
<h1 class="title">Module ObcSemantics</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FMapPositive.html">FSets.FMapPositive</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ListNotations">List.ListNotations</a></span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CommonProgram.html">CommonProgram</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Operators.html">Operators</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.VelusMemory.html">VelusMemory</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Obc.ObcSyntax.html">Obc.ObcSyntax</a></span>.<br/>
<br/>
<h1> Obc semantics </h1>
<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="OBCSEMANTICS">OBCSEMANTICS</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span>   : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span>    : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Syn</span>   : <span class="id"><a href="Velus.Obc.ObcSyntax.html#OBCSYNTAX">OBCSYNTAX</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OpAux">OpAux</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="OBCSEMANTICS.menv">menv</a></span> := <span class="id"><a href="Velus.VelusMemory.html#memory">memory</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="OBCSEMANTICS.venv">venv</a></span> := <span class="id"><a href="Velus.VelusMemory.html#env">env</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="OBCSEMANTICS.mempty">mempty</a></span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> := <span class="id"><a href="Velus.VelusMemory.html#empty_memory">empty_memory</a></span> _.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="OBCSEMANTICS.vempty">vempty</a></span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span> := <span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> _.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="OBCSEMANTICS.instance_match">instance_match</a></span> (<span class="id">i</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id">me</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span>) : <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Velus.VelusMemory.html#find_inst">find_inst</a></span> <span class="id">i</span> <span class="id">me</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.mempty">mempty</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> =&gt; <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.instance_match_empty">instance_match_empty</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.instance_match">instance_match</a></span> <span class="id">x</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.mempty">mempty</a></span> = <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.mempty">mempty</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.instance_match">instance_match</a></span>, <span class="id"><a href="Velus.VelusMemory.html#find_inst">find_inst</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.gempty">Env.gempty</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="OBCSEMANTICS.exp_eval">exp_eval</a></span> (<span class="id">me</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span>) (<span class="id">ve</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span>): <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.exp">exp</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.evar">evar</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Var">Var</a></span> <span class="id">x</span> <span class="id">ty</span>) (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id">ve</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.estate">estate</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">islast</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.VelusMemory.html#find_val">find_val</a></span> <span class="id">x</span> <span class="id">me</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.State">State</a></span> <span class="id">x</span> <span class="id">ty</span> <span class="id">islast</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.econst">econst</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Const">Const</a></span> <span class="id">c</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.sem_cconst">sem_cconst</a></span> <span class="id">c</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.eenum">eenum</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Enum">Enum</a></span> <span class="id">x</span> <span class="id">ty</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Venum">Venum</a></span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.eunop">eunop</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">e</span> <span class="id">v</span> <span class="id">v'</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.sem_unop">sem_unop</a></span> <span class="id">op</span> <span class="id">v</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Unop">Unop</a></span> <span class="id">op</span> <span class="id">e</span> <span class="id">ty</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.ebinop">ebinop</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v'</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e2</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.sem_binop">sem_binop</a></span> <span class="id">op</span> <span class="id">v1</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e1</span>) <span class="id">v2</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e2</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Binop">Binop</a></span> <span class="id">op</span> <span class="id">e1</span> <span class="id">e2</span> <span class="id">ty</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.evalid">evalid</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">v</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id">ve</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exp_eval</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Valid">Valid</a></span> <span class="id">x</span> <span class="id">ty</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval">stmt_eval</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.stmt">stmt</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> * <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Iassign">Iassign</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">x</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Assign">Assign</a></span> <span class="id">x</span> <span class="id">e</span>) (<span class="id">me</span>, <span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">ve</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Iassignst">Iassignst</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">x</span> <span class="id">e</span> <span class="id">isreset</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.AssignSt">AssignSt</a></span> <span class="id">x</span> <span class="id">e</span> <span class="id">isreset</span>) (<span class="id"><a href="Velus.VelusMemory.html#add_val">add_val</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">me</span>, <span class="id">ve</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Icall">Icall</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">vos</span> <span class="id">clsid</span> <span class="id">o</span> <span class="id">f</span> <span class="id">ys</span> <span class="id">ome'</span> <span class="id">rvos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span>) <span class="id">es</span> <span class="id">vos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_call_eval</span> <span class="id">prog</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.instance_match">instance_match</a></span> <span class="id">o</span> <span class="id">me</span>) <span class="id">clsid</span> <span class="id">f</span> <span class="id">vos</span> <span class="id">ome'</span> <span class="id">rvos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Call">Call</a></span> <span class="id">ys</span> <span class="id">clsid</span> <span class="id">o</span> <span class="id">f</span> <span class="id">es</span>) (<span class="id"><a href="Velus.VelusMemory.html#add_inst">add_inst</a></span> <span class="id">o</span> <span class="id">ome'</span> <span class="id">me</span>, <span class="id"><a href="Velus.Environment.html#Env.adds_opt">Env.adds_opt</a></span> <span class="id">ys</span> <span class="id">rvos</span> <span class="id">ve</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Iexterncall">Iexterncall</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">f</span> <span class="id">tyout</span> <span class="id">tyins</span> <span class="id">vs</span> <span class="id">y</span> <span class="id">rvo</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">ty</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span> = <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Tprimitive">Tprimitive</a></span> <span class="id">ty</span>) <span class="id">es</span> <span class="id">tyins</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> <span class="id">v</span>))) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.sem_extern">sem_extern</a></span> <span class="id">f</span> <span class="id">tyins</span> <span class="id">vs</span> <span class="id">tyout</span> <span class="id">rvo</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.ExternCall">ExternCall</a></span> <span class="id">y</span> <span class="id">f</span> <span class="id">es</span> <span class="id">tyout</span>) (<span class="id">me</span>, <span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id">y</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> <span class="id">rvo</span>) <span class="id">ve</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Icomp">Icomp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">ve1</span> <span class="id">me1</span> <span class="id">ve2</span> <span class="id">me2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">a1</span> (<span class="id">me1</span>, <span class="id">ve1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me1</span> <span class="id">ve1</span> <span class="id">a2</span> (<span class="id">me2</span>, <span class="id">ve2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> <span class="id">a1</span> <span class="id">a2</span>) (<span class="id">me2</span>, <span class="id">ve2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Iswitch">Iswitch</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">cond</span> <span class="id">branches</span> <span class="id">default</span> <span class="id">c</span> <span class="id">s</span> <span class="id">me'</span> <span class="id">ve'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">cond</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Venum">Venum</a></span> <span class="id">c</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">branches</span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Common.Common.html#or_default">or_default</a></span> <span class="id">default</span> <span class="id">s</span>) (<span class="id">me'</span>, <span class="id">ve'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Switch">Switch</a></span> <span class="id">cond</span> <span class="id">branches</span> <span class="id">default</span>) (<span class="id">me'</span>, <span class="id">ve'</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Iskip">Iskip</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Skip">Skip</a></span> (<span class="id">me</span>, <span class="id">ve</span>)<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> : <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="OBCSEMANTICS.Iecall">Iecall</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">fm</span> <span class="id">vos</span> <span class="id">prog'</span> <span class="id">me'</span> <span class="id">ve'</span> <span class="id">cls</span> <span class="id">rvos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_class">find_class</a></span> <span class="id">clsid</span> <span class="id">prog</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">cls</span>, <span class="id">prog'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_method">find_method</a></span> <span class="id">f</span> <span class="id">cls</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vos</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_in">m_in</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_eval</span> <span class="id">prog'</span> <span class="id">me</span> (<span class="id"><a href="Velus.Environment.html#Env.adds_opt">Env.adds_opt</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_in">m_in</a></span>)) <span class="id">vos</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.vempty">vempty</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_body">m_body</a></span>) (<span class="id">me'</span>, <span class="id">ve'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id">ve'</span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_out">m_out</a></span>)) <span class="id">rvos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stmt_call_eval</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">vos</span> <span class="id">me'</span> <span class="id">rvos</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#exp_eval">exp_eval</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#stmt_eval">stmt_eval</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#stmt_call_eval">stmt_call_eval</a></span> : <span class="id">obcsem</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind">stmt_eval_call_eval_ind</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> : <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.stmt">stmt</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> * <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.P_call">P_call</a></span> : <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>) -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.assignCase">assignCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">x</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Assign">Assign</a></span> <span class="id">x</span> <span class="id">e</span>) (<span class="id">me</span>, <span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">ve</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.assignstCase">assignstCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">x</span> <span class="id">e</span> <span class="id">isreset</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.AssignSt">AssignSt</a></span> <span class="id">x</span> <span class="id">e</span> <span class="id">isreset</span>) (<span class="id"><a href="Velus.VelusMemory.html#add_val">add_val</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">me</span>, <span class="id">ve</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.callCase">callCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">vos</span> <span class="id">clsid</span> <span class="id">o</span> <span class="id">f</span> <span class="id">ys</span> <span class="id">ome'</span> <span class="id">rvos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span>) <span class="id">es</span> <span class="id">vos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> <span class="id">prog</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.instance_match">instance_match</a></span> <span class="id">o</span> <span class="id">me</span>) <span class="id">clsid</span> <span class="id">f</span> <span class="id">vos</span> <span class="id">ome'</span> <span class="id">rvos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_call">P_call</a></span> <span class="id">prog</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.instance_match">instance_match</a></span> <span class="id">o</span> <span class="id">me</span>) <span class="id">clsid</span> <span class="id">f</span> <span class="id">vos</span> <span class="id">ome'</span> <span class="id">rvos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Call">Call</a></span> <span class="id">ys</span> <span class="id">clsid</span> <span class="id">o</span> <span class="id">f</span> <span class="id">es</span>) (<span class="id"><a href="Velus.VelusMemory.html#add_inst">add_inst</a></span> <span class="id">o</span> <span class="id">ome'</span> <span class="id">me</span>, <span class="id"><a href="Velus.Environment.html#Env.adds_opt">Env.adds_opt</a></span> <span class="id">ys</span> <span class="id">rvos</span> <span class="id">ve</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.externcallCase">externcallCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">f</span> <span class="id">tyout</span> <span class="id">tyins</span> <span class="id">vs</span> <span class="id">y</span> <span class="id">rvo</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">ty</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.typeof">typeof</a></span> <span class="id">e</span> = <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Tprimitive">Tprimitive</a></span> <span class="id">ty</span>) <span class="id">es</span> <span class="id">tyins</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> <span class="id">v</span>))) <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.sem_extern">sem_extern</a></span> <span class="id">f</span> <span class="id">tyins</span> <span class="id">vs</span> <span class="id">tyout</span> <span class="id">rvo</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.ExternCall">ExternCall</a></span> <span class="id">y</span> <span class="id">f</span> <span class="id">es</span> <span class="id">tyout</span>) (<span class="id">me</span>, <span class="id"><a href="Velus.Environment.html#Env.add">Env.add</a></span> <span class="id">y</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> <span class="id">rvo</span>) <span class="id">ve</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.compCase">compCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">ve1</span> <span class="id">me1</span> <span class="id">ve2</span> <span class="id">me2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">a1</span> (<span class="id">me1</span>, <span class="id">ve1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">a1</span> (<span class="id">me1</span>, <span class="id">ve1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me1</span> <span class="id">ve1</span> <span class="id">a2</span> (<span class="id">me2</span>, <span class="id">ve2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me1</span> <span class="id">ve1</span> <span class="id">a2</span> (<span class="id">me2</span>, <span class="id">ve2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> <span class="id">a1</span> <span class="id">a2</span>) (<span class="id">me2</span>, <span class="id">ve2</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.switchCase">switchCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">cond</span> <span class="id">branches</span> <span class="id">default</span> <span class="id">c</span> <span class="id">s</span> <span class="id">me'</span> <span class="id">ve'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">cond</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Venum">Venum</a></span> <span class="id">c</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">branches</span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Common.Common.html#or_default">or_default</a></span> <span class="id">default</span> <span class="id">s</span>) (<span class="id">me'</span>, <span class="id">ve'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Switch">Switch</a></span> <span class="id">cond</span> <span class="id">branches</span> <span class="id">default</span>) (<span class="id">me'</span>, <span class="id">ve'</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.skipCase">skipCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Skip">Skip</a></span> (<span class="id">me</span>, <span class="id">ve</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_ind.Call">Call</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">fm</span> <span class="id">vos</span> <span class="id">prog'</span> <span class="id">me'</span> <span class="id">ve'</span> <span class="id">cls</span> <span class="id">rvos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_class">find_class</a></span> <span class="id">clsid</span> <span class="id">prog</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">cls</span>, <span class="id">prog'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_method">find_method</a></span> <span class="id">f</span> <span class="id">cls</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">vos</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_in">m_in</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog'</span> <span class="id">me</span> (<span class="id"><a href="Velus.Environment.html#Env.adds_opt">Env.adds_opt</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_in">m_in</a></span>)) <span class="id">vos</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.vempty">vempty</a></span>) <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_body">m_body</a></span>) (<span class="id">me'</span>, <span class="id">ve'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog'</span> <span class="id">me</span> (<span class="id"><a href="Velus.Environment.html#Env.adds_opt">Env.adds_opt</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_in">m_in</a></span>)) <span class="id">vos</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.vempty">vempty</a></span>) <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_body">m_body</a></span>) (<span class="id">me'</span>, <span class="id">ve'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id">ve'</span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">fm</span>.(<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.m_out">m_out</a></span>)) <span class="id">rvos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_call">P_call</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">vos</span> <span class="id">me'</span> <span class="id">rvos</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_ind_2">stmt_eval_ind_2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">prog</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span>) (<span class="id">me</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span>) (<span class="id">ve</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span>) (<span class="id">s</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.stmt">stmt</a></span>) (<span class="id">meve'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> * <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.venv">venv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> <span class="id">meve'</span>) {<span class="id">struct</span> <span class="id">Sem</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_stmt">P_stmt</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> <span class="id">meve'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="OBCSEMANTICS.stmt_call_eval_ind_2">stmt_call_eval_ind_2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">prog</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span>) (<span class="id">me</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span>) (<span class="id">c</span> <span class="id">f</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id">xs</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>)) (<span class="id">me'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span>) (<span class="id">ys</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">c</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">me'</span> <span class="id">ys</span>) {<span class="id">struct</span> <span class="id">Sem</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.P_call">P_call</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">c</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">me'</span> <span class="id">ys</span>.<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.assignCase">assignCase</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.assignstCase">assignstCase</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.callCase">callCase</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.externcallCase">externcallCase</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.compCase">compCase</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.switchCase">switchCase</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.skipCase">skipCase</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>; <span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind.Call">Call</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Defined.</div></details>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Combined</span> <span class="kwd">Scheme</span> <span class="id">stmt_eval_call_ind</span> <span class="id">from</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_ind_2">stmt_eval_ind_2</a></span>, <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval_ind_2">stmt_call_eval_ind_2</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_ind">stmt_eval_call_eval_ind</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">CoInductive</span> <span class="id"><a name="OBCSEMANTICS.loop_call">loop_call</a></span> (<span class="id">prog</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span>) (<span class="id">clsid</span> <span class="id">f</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id">ins</span> <span class="id">outs</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>)): <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="OBCSEMANTICS.Step">Step</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">me</span> <span class="id">me'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> (<span class="id">ins</span> <span class="id">n</span>) <span class="id">me'</span> (<span class="id">outs</span> <span class="id">n</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">loop_call</span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">me'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">loop_call</span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">n</span> <span class="id">me</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="OBCSEMANTICS.LoopCallCoind">LoopCallCoind</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="OBCSEMANTICS.LoopCallCoind.R">R</a></span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.program">program</a></span> -&gt; <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>)) -&gt; (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.value">value</a></span>)) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.menv">menv</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="OBCSEMANTICS.LoopCallCoind.LoopCase">LoopCase</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">n</span> <span class="id">me</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.LoopCallCoind.R">R</a></span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">n</span> <span class="id">me</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">me'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> (<span class="id">ins</span> <span class="id">n</span>) <span class="id">me'</span> (<span class="id">outs</span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.LoopCallCoind.R">R</a></span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">me'</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.loop_call_coind">loop_call_coind</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">n</span> <span class="id">me</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.LoopCallCoind.R">R</a></span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">n</span> <span class="id">me</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.loop_call">loop_call</a></span> <span class="id">prog</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> <span class="id">n</span> <span class="id">me</span>.<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">COINDHYP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">HR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.LoopCallCoind.LoopCase">LoopCase</a></span> <span class="kwd">with</span> (1 := <span class="id">HR</span>) <span class="kwd">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.LoopCallCoind">LoopCallCoind</a></span>.<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="id">Add</span> <span class="id">Parametric</span> <span class="id">Morphism</span> <span class="id">P</span> <span class="id">f</span> <span class="id">m</span>: (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.loop_call">loop_call</a></span> <span class="id">P</span> <span class="id">f</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> <span class="id">signature</span> (<span class="kwd">fun</span> <span class="id">a</span> <span class="id">b</span> =&gt; <span class="kwd">forall</span> <span class="id">n</span>, <span class="id">a</span> <span class="id">n</span> = <span class="id">b</span> <span class="id">n</span>) ==&gt; (<span class="kwd">fun</span> <span class="id">a</span> <span class="id">b</span> =&gt; <span class="kwd">forall</span> <span class="id">n</span>, <span class="id">a</span> <span class="id">n</span> = <span class="id">b</span> <span class="id">n</span>) ==&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> ==&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Program.Basics.html#impl">Basics.impl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">loop_call_eq_str</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">COFIX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">E</span> ?? <span class="id">E'</span> ?? <span class="id">Loop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Loop</span>; <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> &lt;-<span class="id">E</span>, &lt;-<span class="id">E'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eapply</span> <span class="id">COFIX</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
<h2> Determinism of semantics </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.exp_eval_det">exp_eval_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> <span class="id">v1</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> <span class="id">v1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> <span class="id">v2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">v1</span> = <span class="id">v2</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">e</span>; <span class="id">intros</span> * <span class="id">H1</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v0</span>) <span class="kwd">as</span> <span class="id">E</span> <span class="kwd">by</span> <span class="id">auto</span>; <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v1</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v0</span>) <span class="kwd">as</span> <span class="id">E</span> <span class="kwd">by</span> <span class="id">auto</span>; <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v4</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v3</span>) <span class="kwd">as</span> <span class="id">E</span> <span class="kwd">by</span> <span class="id">auto</span>; <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.exps_eval_det">exps_eval_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">vs1</span> <span class="id">vs2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span>) <span class="id">es</span> <span class="id">vs1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span>) <span class="id">es</span> <span class="id">vs2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vs1</span> = <span class="id">vs2</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Sem1</span> <span class="id">Sem2</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">vs2</span>; <span class="id">induction</span> <span class="id">Sem1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> 1; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval_det">exp_eval_det</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">exps_eval_det'</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">vs1</span> <span class="id">vs2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> <span class="id">v</span>))) <span class="id">es</span> <span class="id">vs1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">v</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.Vscalar">Vscalar</a></span> <span class="id">v</span>))) <span class="id">es</span> <span class="id">vs2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vs1</span> = <span class="id">vs2</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Sem1</span> <span class="id">Sem2</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">vs2</span>; <span class="id">induction</span> <span class="id">Sem1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> 1; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval_det">exp_eval_det</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>. <span class="id">now</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_call_eval_det">stmt_eval_call_eval_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> <span class="id">meve1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> <span class="id">meve1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">meve2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> <span class="id">meve2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">meve1</span> = <span class="id">meve2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">vs</span> <span class="id">me1</span> <span class="id">rvs1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">vs</span> <span class="id">me1</span> <span class="id">rvs1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">me2</span> <span class="id">rvs2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">clsid</span> <span class="id">f</span> <span class="id">vs</span> <span class="id">me2</span> <span class="id">rvs2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">me1</span> = <span class="id">me2</span> /\ <span class="id">rvs1</span> = <span class="id">rvs2</span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_ind">stmt_eval_call_ind</a></span>; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Assign&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ _ _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">e</span> _, <span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">e</span> _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval_det">exp_eval_det</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;AssignSt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ _ _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">e</span> _, <span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">e</span> _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval_det">exp_eval_det</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Call">Call</a></span> _ _ _ _ _) _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ _ _, <span class="id">H'</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ _ _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exps_eval_det">exps_eval_det</a></span> <span class="kwd">with</span> (2 := <span class="id">H'</span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> _ _ _ _ _ ?<span class="id">me'</span> ?<span class="id">rvs'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> _ _ _ _ _ ?<span class="id">ome'</span> ?<span class="id">rvs</span> |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ome'</span> = <span class="id">me'</span> /\ <span class="id">rvs</span> = <span class="id">rvs'</span>) <span class="kwd">as</span> <span class="id">E</span>; <span class="id">eauto</span>; <span class="id">inv</span> <span class="id">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Extern&nbsp;Call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ _ _) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>. <span class="id">repeat</span> <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ _ _, <span class="id">H'</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ _ _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">exps_eval_det'</span> <span class="kwd">with</span> (2 := <span class="id">H'</span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">tyins</span> = <span class="id">tyins0</span>); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_eq">Forall2_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">in</span> <span class="id">H10</span>; [|<span class="id">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op.sem_extern_det">sem_extern_det</a></span>; <span class="id">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Comp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> _ _) _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">s</span> ?<span class="id">mv1</span>, <span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">s</span> ?<span class="id">mv2</span> |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">E</span> := <span class="id">fresh</span> <span class="kwd">in</span> <span class="id">assert</span> (<span class="id">mv1</span> = <span class="id">mv2</span>) <span class="kwd">as</span> <span class="id">E</span>; <span class="id">eauto</span>; <span class="id">inv</span> <span class="id">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">take</span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Switch">Switch</a></span> _ _ _) _) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">e</span> _, <span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> ?<span class="id">me</span> ?<span class="id">ve</span> ?<span class="id">e</span> _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval_det">exp_eval_det</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> _ _ = _, <span class="id">H'</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> _ _ = _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H'</span>; <span class="id">inv</span> <span class="id">H'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ _ _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;stmt_call_eval&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> _ _ _ _ _ _ _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_class">find_class</a></span> ?<span class="id">c</span> ?<span class="id">p</span> = _, <span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_class">find_class</a></span> ?<span class="id">c</span> ?<span class="id">p</span> = _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H'</span>; <span class="id">inv</span> <span class="id">H'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_method">find_method</a></span> ?<span class="id">f</span> ?<span class="id">m</span> = _, <span class="id">H'</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.find_method">find_method</a></span> ?<span class="id">f</span> ?<span class="id">m</span> = _ |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H'</span>; <span class="id">inv</span> <span class="id">H'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ _ ?<span class="id">mv</span> |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> ((<span class="id">me'</span>, <span class="id">ve'</span>) = <span class="id">mv</span>) <span class="kwd">as</span> <span class="id">E</span>; <span class="id">eauto</span>; <span class="id">inv</span> <span class="id">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ ?<span class="id">xs</span> _, <span class="id">H'</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ ?<span class="id">xs</span> ?<span class="id">ys</span> |- _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> - <span class="id">H</span> <span class="id">H'</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">ys</span>; <span class="id">induction</span> <span class="id">H</span>; <span class="id">intros</span>; <span class="id">inv</span> <span class="id">H'</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">datatypes</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_det">stmt_eval_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">s</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">me1</span> <span class="id">ve1</span> <span class="id">me2</span> <span class="id">ve2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> (<span class="id">me1</span>, <span class="id">ve1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> (<span class="id">me2</span>, <span class="id">ve2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">me1</span> = <span class="id">me2</span> /\ <span class="id">ve1</span> = <span class="id">ve2</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Sem1</span> <span class="id">Sem2</span>; <span class="id">apply</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_call_eval_det">stmt_eval_call_eval_det</a></span>) <span class="kwd">with</span> (2 := <span class="id">Sem2</span>) <span class="kwd">in</span> <span class="id">Sem1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_fold_left_shift">stmt_eval_fold_left_shift</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">A</span> <span class="id">prog</span> <span class="id">f</span> (<span class="id">xs</span>:<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id">A</span>) <span class="id">iacc</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">me'</span> <span class="id">ve'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span> (<span class="kwd">fun</span> <span class="id">i</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">i</span>) <span class="id">xs</span> <span class="id">iacc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">me'</span>, <span class="id">ve'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">me''</span> <span class="id">ve''</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span> (<span class="kwd">fun</span> <span class="id">i</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">i</span>) <span class="id">xs</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Skip">Skip</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">me''</span>, <span class="id">ve''</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me''</span> <span class="id">ve''</span> <span class="id">iacc</span> (<span class="id">me'</span>, <span class="id">ve'</span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">split</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (?&amp;?&amp; <span class="id">H</span> &amp;?); <span class="id">now</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">setoid_rewrite</span> <span class="id">IHxs</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> (?&amp;?&amp;?&amp; <span class="id">H</span>); <span class="id">inv</span> <span class="id">H</span>; <span class="id">eauto</span> 8 <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> (?&amp;?&amp;(?&amp;?&amp;?&amp; <span class="id">H</span>)&amp;?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">H</span> <span class="kwd">as</span> [| | | |?????????? <span class="id">H'</span>| |]; <span class="id">inv</span> <span class="id">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_fold_left_lift">stmt_eval_fold_left_lift</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">A</span> <span class="id">prog</span> <span class="id">f</span> (<span class="id">xs</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id">A</span>) <span class="id">me</span> <span class="id">ve</span> <span class="id">iacc</span> <span class="id">me'</span> <span class="id">ve'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span> (<span class="kwd">fun</span> <span class="id">i</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> <span class="id">i</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">xs</span> <span class="id">iacc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">me'</span>, <span class="id">ve'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">me''</span> <span class="id">ve''</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">iacc</span> (<span class="id">me''</span>, <span class="id">ve''</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me''</span> <span class="id">ve''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span> (<span class="kwd">fun</span> <span class="id">i</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Comp">Comp</a></span> <span class="id">i</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">xs</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Skip">Skip</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">me'</span>, <span class="id">ve'</span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">split</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (?&amp;?&amp;?&amp; <span class="id">H</span>); <span class="id">now</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">setoid_rewrite</span> <span class="id">IHxs</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> (?&amp;?&amp; <span class="id">H</span> &amp;?); <span class="id">inv</span> <span class="id">H</span>; <span class="id">eauto</span> 8 <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> (?&amp;?&amp;?&amp;?&amp;?&amp; <span class="id">H</span> &amp;?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">H</span> <span class="kwd">as</span> [| | | |????????? <span class="id">H'</span>| |]; <span class="id">inv</span> <span class="id">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
<h2> Other properties </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.Forall2_exp_eval_not_None">Forall2_exp_eval_not_None</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">es</span> <span class="id">vos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.exp_eval">exp_eval</a></span> <span class="id">me</span> <span class="id">ve</span>) <span class="id">es</span> <span class="id">vos</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span>, <span class="id">e</span> &lt;&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Var">Var</a></span> <span class="id">x</span> <span class="id">ty</span>) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">vo</span> =&gt; <span class="id">vo</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">vos</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> 1 <span class="kwd">as</span> [|<span class="id">e</span> <span class="id">vo</span> <span class="id">es</span> <span class="id">vos</span> <span class="id">Hexp</span> <span class="id">Hvos</span> <span class="id">IH</span>]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> 1 <span class="kwd">as</span> [|? ? <span class="id">Hnvar</span> <span class="id">Hnvars</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hexp</span>; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Hnvar</span> <span class="id">x</span> <span class="id">ty</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.stmt_eval_find_val_mono">stmt_eval_find_val_mono</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">s</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">me'</span> <span class="id">ve'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> <span class="id">prog</span> <span class="id">me</span> <span class="id">ve</span> <span class="id">s</span> (<span class="id">me'</span>, <span class="id">ve'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Velus.VelusMemory.html#find_val">find_val</a></span> <span class="id">x</span> <span class="id">me</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.VelusMemory.html#find_val">find_val</a></span> <span class="id">x</span> <span class="id">me'</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;trick&nbsp;to&nbsp;perform&nbsp;the&nbsp;induction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">me'</span> <span class="kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">me'</span>, <span class="id">ve'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Sem</span>; <span class="id">generalize</span> (<span class="id">me'</span>, <span class="id">ve'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> 1 <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval_ind_2">stmt_eval_ind_2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">P_call</span> := <span class="kwd">fun</span> <span class="id">prog</span> <span class="id">me</span> <span class="id">c</span> <span class="id">f</span> <span class="id">xs</span> <span class="id">me'</span> <span class="id">ys</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>; <span class="id">simpl</span>; <span class="id">auto</span>; <span class="id">intros</span> <span class="id">y</span> <span class="id">Hmfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#ident_eq_dec">ident_eq_dec</a></span> <span class="id">y</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="id">subst</span>; <span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.VelusMemory.html#find_val_gss">find_val_gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.VelusMemory.html#find_val_gso">find_val_gso</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="OBCSEMANTICS.stmt_call_eval_cons">stmt_call_eval_cons</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">c'</span> <span class="id">c</span> <span class="id">me</span> <span class="id">f</span> <span class="id">vs</span> <span class="id">me'</span> <span class="id">rvs</span> <span class="id">enums</span> <span class="id">externs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.c_name">c_name</a></span> <span class="id">c</span> &lt;&gt; <span class="id">c'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Program">Program</a></span> <span class="id">enums</span> <span class="id">externs</span> (<span class="id">c</span> :: <span class="id">prog</span>)) <span class="id">me</span> <span class="id">c'</span> <span class="id">f</span> <span class="id">vs</span> <span class="id">me'</span> <span class="id">rvs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span> (<span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Program">Program</a></span> <span class="id">enums</span> <span class="id">externs</span> <span class="id">prog</span>) <span class="id">me</span> <span class="id">c'</span> <span class="id">f</span> <span class="id">vs</span> <span class="id">me'</span> <span class="id">rvs</span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Neq</span>; <span class="id">split</span>; <span class="id">intros</span> <span class="id">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inversion_clear</span> <span class="id">Sem</span> <span class="kwd">as</span> [??????????? <span class="id">Find</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_cons">find_unit_cons</a></span> <span class="kwd">in</span> <span class="id">Find</span> <span class="kwd">as</span> [[]|[? <span class="id">Find</span>]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_call_eval">stmt_call_eval</a></span>; <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Sem</span>; <span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_cons">find_unit_cons</a></span>; <span class="id">simpl</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">chase_skip</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS.stmt_eval">stmt_eval</a></span> _ _ _ <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn.Skip">Skip</a></span> _ |- _ =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS">OBCSEMANTICS</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ObcSemanticsFun">ObcSemanticsFun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span>   : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span>    : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Syn</span>   : <span class="id"><a href="Velus.Obc.ObcSyntax.html#OBCSYNTAX">OBCSYNTAX</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OpAux">OpAux</a></span>) &lt;: <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS">OBCSEMANTICS</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn">Syn</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OBCSEMANTICS">OBCSEMANTICS</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Ids">Ids</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Op">Op</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#Syn">Syn</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.Obc.ObcSemantics.html#ObcSemanticsFun">ObcSemanticsFun</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
