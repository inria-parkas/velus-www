
<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module GenerationProperties</title>
<meta name="description" content="Documentation of Coq module GenerationProperties" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
</head>

<body>
<h1 class="title">Module GenerationProperties</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.ZArith.html">ZArith</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html">common.Errors</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html">common.Globalenvs</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html">lib.Coqlib</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html">lib.Maps</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html">lib.Integers</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html">cfrontend.Ctypes</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html">cfrontend.Clight</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html">cfrontend.ClightBigstep</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CommonTyping.html">CommonTyping</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CompCertLib.html">Common.CompCertLib</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Ident.html">Ident</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.Generation.html">ObcToClight.Generation</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.Interface.html">ObcToClight.Interface</a></span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#OpAux">OpAux</a></span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc">Obc</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ListNotations">List.ListNotations</a></span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">Z</span>.<br/>
<br/>
<div class="doc">Properties  </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="MProps">MProps</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FMapFacts.html#Properties">FMapFacts.Properties</a></span>(<span class="id"><a href="Velus.ObcToClight.Generation.html#M">M</a></span>).<br/>
<span class="kwd">Import</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MProps">MProps</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_key_equiv">eq_key_equiv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">x</span> <span class="id">k'</span> <span class="id">x'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id">k</span>, <span class="id">x</span>) (<span class="id">k'</span>, <span class="id">x'</span>) &lt;-&gt; <span class="id">k</span> = <span class="id">k'</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">x1</span>, <span class="id">x2</span>) <span class="id">x3</span> (<span class="id">x'1</span>, <span class="id">x'2</span>) <span class="id">x'3</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.Raw.Proofs.PX.eqk">M.Raw.Proofs.PX.eqk</a></span>; <span class="id">simpl</span>; <span class="id">split</span>; <span class="id">intro</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id">H</span>; <span class="id">subst</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>; <span class="id">split</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setoid_in_key">setoid_in_key</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">k</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA">SetoidList.InA</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>)) (<span class="id">k</span>, <span class="id">x</span>) <span class="id">l</span> &lt;-&gt; <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">k</span> <span class="id">l</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">k'</span>, <span class="id">x'</span>)]; <span class="id">split</span>; <span class="id">intros</span> <span class="id">Hin</span>; <span class="id">try</span> <span class="id">inv</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_equiv">eq_key_equiv</a></span> <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">x</span>) (<span class="id">x'</span>:=<span class="id">x'</span>).<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_cons">InMembers_cons</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_equiv">eq_key_equiv</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA_cons">SetoidList.InA_cons</a></span>; <span class="id">right</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_key_elt_equiv">eq_key_elt_equiv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">x</span> <span class="id">k'</span> <span class="id">x'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key_elt">M.eq_key_elt</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id">k</span>, <span class="id">x</span>) (<span class="id">k'</span>, <span class="id">x'</span>) &lt;-&gt; (<span class="id">k</span>, <span class="id">x</span>) = (<span class="id">k'</span>, <span class="id">x'</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">x1</span>, <span class="id">x2</span>) <span class="id">x3</span> (<span class="id">x'1</span>, <span class="id">x'2</span>) <span class="id">x'3</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key_elt">M.eq_key_elt</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.Raw.Proofs.PX.eqke">M.Raw.Proofs.PX.eqke</a></span>; <span class="id">simpl</span>; <span class="id">split</span>; <span class="id">intro</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [[]]; <span class="id">subst</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>; <span class="id">split</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setoid_in_key_elt">setoid_in_key_elt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">k</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA">SetoidList.InA</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key_elt">M.eq_key_elt</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>)) (<span class="id">k</span>, <span class="id">x</span>) <span class="id">l</span> &lt;-&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">k</span>, <span class="id">x</span>) <span class="id">l</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">k'</span>, <span class="id">x'</span>)]; <span class="id">split</span>; <span class="id">intros</span> <span class="id">Hin</span>; <span class="id">try</span> <span class="id">inv</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>; <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_elt_equiv">eq_key_elt_equiv</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eq_key_elt_equiv">eq_key_elt_equiv</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id">IHl</span> <span class="id">k</span> <span class="id">x</span>); <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#InA_cons">SetoidList.InA_cons</a></span>; <span class="id">right</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setoid_nodup">setoid_nodup</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#NoDupA">SetoidList.NoDupA</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.eq_key">M.eq_key</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>)) <span class="id">l</span> &lt;-&gt; <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">l</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l</span> <span class="kwd">as</span> [|(<span class="id">k</span>, <span class="id">x</span>)]; <span class="id">split</span>; <span class="id">intro</span> <span class="id">Nodup</span>; <span class="id">inv</span> <span class="id">Nodup</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key">setoid_in_key</a></span> <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">x</span>).<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id">IHl</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key">setoid_in_key</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> <span class="id">IHl</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="MapsTo_add_same">MapsTo_add_same</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">o</span> <span class="id">f</span> (<span class="id">c</span> <span class="id">c'</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">f</span>) <span class="id">c</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add">M.add</a></span> (<span class="id">o</span>, <span class="id">f</span>) <span class="id">c'</span> <span class="id">m</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">c</span> = <span class="id">c'</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#add_mapsto_iff">F.add_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [[[]]|[[]]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="MapsTo_add_empty">MapsTo_add_empty</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">f</span> <span class="id">o'</span> <span class="id">f'</span> <span class="id">c</span> <span class="id">c'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">f</span>) <span class="id">c</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add">M.add</a></span> (<span class="id">o'</span>, <span class="id">f'</span>) <span class="id">c'</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">o</span> = <span class="id">o'</span> /\ <span class="id">f</span> = <span class="id">f'</span> /\ <span class="id">c</span> = <span class="id">c'</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#add_mapsto_iff">F.add_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [[[]]|[? <span class="id">Hin</span>]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#empty_mapsto_iff">F.empty_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">contradiction</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Forall_add">Forall_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">a</span> <span class="id">m</span> <span class="id">P</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">P</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> <span class="id">m</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> ((<span class="id">x</span>, <span class="id">y</span>), <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id">P</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.add">M.add</a></span> (<span class="id">x</span>, <span class="id">y</span>) <span class="id">a</span> <span class="id">m</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hm</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">intros</span> ((<span class="id">x'</span>, <span class="id">y'</span>), <span class="id">a'</span>) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key_elt">setoid_in_key_elt</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#add_mapsto_iff">F.add_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [[[]]|[? <span class="id">Hin</span>]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">subst</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_1">M.elements_1</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key_elt">setoid_in_key_elt</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="translate_param_fst">translate_param_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id">xs</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xs</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intro</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="translate_obj_fst">translate_obj_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">objs</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> <span class="id">objs</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">objs</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intro</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">objs</span> <span class="kwd">as</span> [|(<span class="id">o</span>, <span class="id">k</span>)]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_make_members">NoDupMembers_make_members</a></span> : <span class="kwd">forall</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">y</span>, <span class="id">t</span>) =&gt; (<span class="id">y</span>, <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span> <span class="id">c</span>) ++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span> <span class="id">c</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intro</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_nodup">c_nodup</a></span> <span class="id">c</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_obj_fst">translate_obj_fst</a></span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">NoDupMembers_make_members</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Corollary</span> <span class="id">NoDupMembers_make_members'</span> : <span class="kwd">forall</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#name_member">name_member</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">c</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#mk_members_names">mk_members_names</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">NoDupMembers_make_members'</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_bind_vardef_fst">glob_bind_vardef_fst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span> <span class="id">env</span> <span class="id">volatile</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id">env</span> <span class="id">volatile</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> <span class="id">xs</span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) <span class="id">xs</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDup_prefix_glob">NoDup_prefix_glob</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">A</span>} (<span class="id">xs</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> * <span class="id">A</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">xs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) <span class="id">xs</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="id">intros</span> <span class="id">Hnd</span>; <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hnd</span>; <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="id">intros</span> ((<span class="id">x'</span>, <span class="id">t'</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob_injective">prefix_glob_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H1</span>, <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="prefixed_funs">prefixed_funs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">f</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> <span class="id">prog</span>) <span class="id">prog</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span>)))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">m</span> <span class="id">c</span>, <span class="id">f</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id">m</span> <span class="id">c</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span> <span class="id">prog</span>) <span class="kwd">as</span> [|<span class="id">c</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> ((<span class="id">f'</span>, <span class="id">d</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">subst</span> <span class="id">f'</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">m</span> &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">inv</span> <span class="id">E</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span>) <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Ltac</span> <span class="id">destruct_list_tac</span> <span class="id">l</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l'</span> := <span class="id">fresh</span> <span class="string">"l"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">l'</span>]; [|<span class="id">destruct</span> <span class="id">l'</span> <span class="kwd">as</span> [|<span class="id">y</span> <span class="id">xs</span>]].<br/>
<span class="kwd">Ltac</span> <span class="id">destruct_list_eqn_tac</span> <span class="id">l</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> <span class="id">E</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l'</span> := <span class="id">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">l'</span>] <span class="id">eqn</span>: <span class="id">E</span>; [|<span class="id">destruct</span> <span class="id">l'</span> <span class="kwd">as</span> [|<span class="id">y</span> <span class="id">xs</span>]].<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"destruct_list"</span> <span class="id">constr</span>(<span class="id">L</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"as"</span> <span class="id">simple_intropattern</span>(<span class="id">x</span>) <span class="id">simple_intropattern</span>(<span class="id">y</span>) <span class="id">simple_intropattern</span>(<span class="id">xs</span>) :=<br/>
&nbsp;&nbsp;<span class="id">destruct_list_tac</span> <span class="id">L</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"destruct_list"</span> <span class="id">constr</span>(<span class="id">L</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"as"</span> <span class="id">simple_intropattern</span>(<span class="id">x</span>) <span class="id">simple_intropattern</span>(<span class="id">y</span>) <span class="id">simple_intropattern</span>(<span class="id">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">":"</span> <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="id">destruct_list_eqn_tac</span> <span class="id">L</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"destruct_list"</span> <span class="id">constr</span>(<span class="id">L</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id">fresh</span> <span class="string">"x"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id">fresh</span> <span class="string">"y"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">xs</span> := <span class="id">fresh</span> <span class="string">"xs"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">L</span> <span class="kwd">as</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"destruct_list"</span> <span class="id">constr</span>(<span class="id">L</span>) <span class="string">":"</span> <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id">fresh</span> <span class="string">"x"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id">fresh</span> <span class="string">"y"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">xs</span> := <span class="id">fresh</span> <span class="string">"xs"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">L</span> <span class="kwd">as</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xs</span> : <span class="id">E</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="InMembers_rec_instance_methods_temp">InMembers_rec_instance_methods_temp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">s</span> <span class="id">prog</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id">prog</span> <span class="id">e</span> <span class="id">s</span>)) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id">prog</span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> _) <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id">e</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s</span> <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">revert</span> <span class="id">e0</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ _) <span class="id">and</span> <span class="id">induction</span> <span class="id">it</span> <span class="kwd">as</span> [|[|] ??? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IH</span>, <span class="id">IHs</span>; <span class="id">auto</span>; <span class="id">symmetry</span>; <span class="id">rewrite</span> <span class="id">IH</span>, <span class="id">IHs</span>; <span class="id">auto</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span>; <span class="id">symmetry</span>; <span class="id">rewrite</span> <span class="id">IHs2</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">c</span> <span class="id">prog</span>) <span class="kwd">as</span> [(<span class="id">cls</span>, ?)|]; [|<span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.elements_empty">Env.Props.P.elements_empty</a></span>; <span class="id">auto</span> <span class="kwd">with</span> *].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">f</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">cls</span>)); [|<span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.elements_empty">Env.Props.P.elements_empty</a></span>; <span class="id">auto</span> <span class="kwd">with</span> *].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">ys</span>; <span class="id">simpl</span>; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="id">simpl</span>; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- 3 <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, 2 <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.empty_in_iff">Env.Props.P.F.empty_in_iff</a></span>; [ <span class="id">tauto</span> | .. ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="id">split</span>; <span class="id">auto</span>; <span class="id">intros</span> [ <span class="id">H</span> | <span class="id">H</span> ]; <span class="id">auto</span>; <span class="id">inversion</span> <span class="id">H</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="InMembers_rec_extcalls_temp">InMembers_rec_extcalls_temp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">s</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_extcalls_temp">rec_extcalls_temp</a></span> <span class="id">e</span> <span class="id">s</span>)) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_extcalls_temp">rec_extcalls_temp</a></span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> _) <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id">e</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s</span> <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">revert</span> <span class="id">e0</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ _) <span class="id">and</span> <span class="id">induction</span> <span class="id">it</span> <span class="kwd">as</span> [|[|] ??? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IH</span>, <span class="id">IHs</span>; <span class="id">auto</span>; <span class="id">symmetry</span>; <span class="id">rewrite</span> <span class="id">IH</span>, <span class="id">IHs</span>; <span class="id">auto</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span>; <span class="id">symmetry</span>; <span class="id">rewrite</span> <span class="id">IHs2</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> &lt;- 3 <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, 2 <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.empty_in_iff">Env.Props.P.F.empty_in_iff</a></span>; <span class="id">tauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods_In_insts">In_rec_instance_methods_In_insts</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id">m</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">o</span> <span class="id">f</span> <span class="id">c</span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">f</span>) <span class="id">c</span> <span class="id">m</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">c</span>) <span class="id">insts</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) <span class="id">insts</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s</span> <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">intros</span> * <span class="id">Wt</span> <span class="id">Hin</span> <span class="id">Spec</span>; <span class="id">inv</span> <span class="id">Wt</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">m</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> _ = _) <span class="id">and</span> <span class="id">clear</span> <span class="id">it</span>; <span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|[|] ? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ (_ :: _)) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IH</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">ys</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#add_mapsto_iff">F.add_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [[[]]|[]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">subst</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_instance_methods_In_insts">In_instance_methods_In_insts</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) <span class="id">insts</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> * (?&amp;?) ?.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods_In_insts">In_rec_instance_methods_In_insts</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">o'</span> <span class="id">f'</span> <span class="id">c'</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">discriminate</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods">In_rec_instance_methods</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">insts</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) <span class="id">insts</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id">m</span> <span class="id">s</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> _) <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> <span class="id">m</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s</span> <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">simpl</span>; <span class="id">intros</span> * <span class="id">Wt</span> <span class="id">Nodup</span> <span class="id">Ho</span>; <span class="id">inv</span> <span class="id">Wt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#empty_mapsto_iff">F.empty_mapsto_iff</a></span>; <span class="id">tauto</span>).<br/>
&nbsp;&nbsp;- <span class="id">revert</span> <span class="id">m</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> _ = _) <span class="id">and</span> <span class="id">clear</span> <span class="id">it</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|[|] ? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ (_ :: _)) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IH</span>, <span class="id">IHs</span>; <span class="id">eauto</span>; <span class="id">symmetry</span>; <span class="id">rewrite</span> <span class="id">IH</span>; <span class="id">auto</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span>; <span class="id">eauto</span>; <span class="id">symmetry</span>; <span class="id">rewrite</span> <span class="id">IHs2</span>, <span class="id">IHs1</span>; <span class="id">eauto</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">ys</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#empty_mapsto_iff">F.empty_mapsto_iff</a></span>; <span class="id">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> 2 <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#add_mapsto_iff">F.add_mapsto_iff</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#empty_mapsto_iff">F.empty_mapsto_iff</a></span>; <span class="id">simpl</span>; <span class="id">split</span>; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> [|<span class="id">Hin</span>]; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i</span>, <span class="id">f</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[]|]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>; <span class="id">app_NoDupMembers_det</span>; <span class="id">tauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods_temp_find_method">In_rec_instance_methods_temp_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">fid</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id">fid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id">p</span> <span class="id">m</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id">fid</span> <span class="id">m</span> -&gt; <span class="kwd">exists</span> <span class="id">cls</span> <span class="id">c</span> <span class="id">p'</span> <span class="id">fm</span> <span class="id">cid'</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cls</span> <span class="id">p</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">p'</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">cid'</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fid</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">cid'</span> <span class="id">o</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">cls</span> <span class="id">c</span> <span class="id">p'</span> <span class="id">fm</span> <span class="id">cid'</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cls</span> <span class="id">p</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">p'</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">cid'</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fid</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">cid'</span> <span class="id">o</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s</span> <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">intros</span> * <span class="id">Hin</span> <span class="id">Hfind</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">revert</span> <span class="id">m</span> <span class="id">Hin</span> <span class="id">Hfind</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|[|] ? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> _ _) <span class="id">eqn</span>:<span class="id">Hclass</span>; <span class="id">eauto</span>. <span class="id">destruct</span> <span class="id">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> _ _) <span class="id">eqn</span>:<span class="id">Hmethod</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">ys</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m0</span>); <span class="id">eauto</span>. 1,2:<span class="id">destruct</span> <span class="id">x0</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [?|?]; <span class="id">subst</span>; <span class="id">eauto</span> 10.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="In_instance_methods_temp_find_method">In_instance_methods_temp_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fid</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.In">Env.In</a></span> <span class="id">fid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id">p</span> <span class="id">m</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">cls</span> <span class="id">c</span> <span class="id">p'</span> <span class="id">fm</span> <span class="id">cid'</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cls</span> <span class="id">p</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">p'</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">cid'</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fid</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">cid'</span> <span class="id">o</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods_temp_find_method">In_rec_instance_methods_temp_find_method</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.empty_in_iff">Env.Props.P.F.empty_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="id">inv</span> <span class="id">Hin</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_fold_left_rec_instance_methods">In_fold_left_rec_instance_methods</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">m</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span>) <span class="id">ss</span> -&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">insts</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) <span class="id">insts</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span> (<span class="kwd">fun</span> <span class="id">m</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> <span class="id">m</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id">m</span>)) <span class="id">ss</span> <span class="id">m</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="kwd">exists</span> <span class="id">s</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span>) <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> _) <span class="id">s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|<span class="id">os</span>]; <span class="id">simpl</span>; <span class="id">intros</span> * <span class="id">WTss</span> <span class="id">Nodup</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id">split</span>; <span class="id">auto</span>; <span class="id">intros</span> [|[?[]]]; <span class="id">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">IHss</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods">In_rec_instance_methods</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; <span class="id">intros</span> [<span class="id">Hin'</span>|<span class="id">Hin'</span>]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Hin'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;?&amp;?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;[<span class="id">E</span>|]&amp;?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">E</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">split</span>; <span class="id">intros</span> [<span class="id">Hin'</span>|<span class="id">Hin'</span>]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;?&amp;?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;[|]&amp;?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id">In_fold_left_rec_instance_methods'</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span>) <span class="id">ss</span> -&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">insts</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) <span class="id">insts</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span> (<span class="kwd">fun</span> <span class="id">m</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> <span class="id">m</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id">m</span>)) <span class="id">ss</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> _)) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">s</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span>) <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.empty">M.empty</a></span> _) <span class="id">s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_fold_left_rec_instance_methods">In_fold_left_rec_instance_methods</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#empty_mapsto_iff">F.empty_mapsto_iff</a></span>; <span class="id">eauto</span>; <span class="id">tauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_rec_instance_methods_find_method">In_rec_instance_methods_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> (<span class="id">insts</span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> * <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>)) <span class="id">mems</span> <span class="id">vars</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_stmt">wt_stmt</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">vars</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods">rec_instance_methods</a></span> <span class="id">m</span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> <span class="id">m</span> -&gt; <span class="kwd">exists</span> <span class="id">c</span> <span class="id">p'</span> <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cid</span> <span class="id">p</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">p'</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">fid</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">o</span> <span class="id">insts</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">c</span> <span class="id">p'</span> <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cid</span> <span class="id">p</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">p'</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">fid</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">o</span> <span class="id">insts</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s</span> <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">intros</span> * <span class="id">Wt</span> <span class="id">Hin</span> <span class="id">Hfind</span>; <span class="id">inv</span> <span class="id">Wt</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">clear</span> <span class="id">H4</span> <span class="id">H5</span> <span class="id">H6</span>. <span class="id">revert</span> <span class="id">m</span> <span class="id">Hin</span> <span class="id">Hfind</span>; <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|[|] ? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">eauto</span> 12.<br/>
&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">ys</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.E.eq_dec">M.E.eq_dec</a></span> (<span class="id">i</span>, <span class="id">f</span>) (<span class="id">o</span>, <span class="id">fid</span>)) <span class="kwd">as</span> [[<span class="id">E1</span> <span class="id">E2</span>]|<span class="id">E1</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MapsTo_add_same">MapsTo_add_same</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">eexists</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.add_3">M.add_3</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="In_instance_methods_find_method">In_instance_methods_find_method</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">c</span> <span class="id">p'</span> <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cid</span> <span class="id">p</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">p'</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">fid</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fm</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">o</span> <span class="id">insts</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> * (?&amp;?) ?.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods_find_method">In_rec_instance_methods_find_method</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">discriminate</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="In_instance_methods_atom">In_instance_methods_atom</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Ident.html#Ids.atom">atom</a></span> <span class="id">fid</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hwt</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_find_method">In_instance_methods_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">m</span>&amp;_&amp;<span class="id">Hfind</span>&amp;_); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id">m</span>) <span class="kwd">as</span> (_&amp;?). <span class="id">congruence</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="atom_instance_methods">atom_instance_methods</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">p</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class">wt_class</a></span> <span class="id">p</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">f</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.atom">atom</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>))) (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hwt</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">Hwt</span> <span class="kwd">as</span> [_ <span class="id">Hwtm</span>].<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwtm</span>. 2:<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="id">intros</span> ((<span class="id">o</span>&amp;<span class="id">fid</span>)&amp;<span class="id">cid</span>) <span class="id">Hin</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_atom">In_instance_methods_atom</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#In_InA">SetoidList.In_InA</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eqke_equiv">eqke_equiv</a></span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id">In_instance_methods_atom'</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">prefs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> <span class="id">prefs</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">insts</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">p</span> <span class="id">insts</span> <span class="id">mems</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> <span class="id">prefs</span> <span class="id">o</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hatom</span> <span class="id">Hwt</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_find_method">In_instance_methods_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">m</span>&amp;_&amp;_&amp;<span class="id">Hinm</span>); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hinm</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hatom</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id">atom_instance_methods'</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">p</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class">wt_class</a></span> <span class="id">p</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">f</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; (<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.Ident.html#Ids.gensym_prefs">gensym_prefs</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>))) (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hwt</span> <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">Hwt</span> <span class="kwd">as</span> [_ <span class="id">Hwtm</span>].<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hwtm</span>. 2:<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>. <span class="id">intros</span> ((<span class="id">o</span>&amp;<span class="id">fid</span>)&amp;<span class="id">cid</span>) <span class="id">Hin</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>) <span class="kwd">as</span> (<span class="id">Good</span>&amp;_).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">In_instance_methods_atom'</span>; [<span class="id">eauto</span>|<span class="id">eauto</span>|].<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.SetoidList.html#In_InA">SetoidList.In_InA</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#eqke_equiv">eqke_equiv</a></span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_make_out_vars">NoDupMembers_make_out_vars</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">p</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class">wt_class</a></span> <span class="id">p</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">f</span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">WT</span> <span class="id">Find</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Nodup</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_nodup">setoid_nodup</a></span>; <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_3w">M.elements_3w</a></span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#atom_instance_methods">atom_instance_methods</a></span> _ _ _ _ <span class="id">WT</span> <span class="id">Find</span>) <span class="kwd">as</span> <span class="id">Atom</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id">atom_instance_methods'</span> _ _ _ _ <span class="id">WT</span> <span class="id">Find</span>) <span class="kwd">as</span> <span class="id">Atom'</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements">M.elements</a></span> (<span class="id">elt</span>:=<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">m</span>)) <span class="kwd">as</span> [|((<span class="id">o</span>, <span class="id">f'</span>), <span class="id">c'</span>)];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">inversion_clear</span> <span class="id">Nodup</span> <span class="kwd">as</span> [|? ? ? <span class="id">Notin</span> <span class="id">Nodup'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">Atom</span>; <span class="id">inversion_clear</span> <span class="id">Atom'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">Hin</span>; <span class="id">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (((<span class="id">o'</span>, <span class="id">f''</span>), <span class="id">c''</span>) &amp; <span class="id">Eq</span> &amp; <span class="id">Hin</span>); <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_out_injective">prefix_out_injective</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="id">auto</span>; <span class="id">destruct</span> <span class="id">Eq</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDup_funs">NoDup_funs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog</span>).(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span>)))).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Wt</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#rev_tr_spec">rev_tr_spec</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span>, <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program">CommonTyping.wt_program</a></span> <span class="kwd">in</span> <span class="id">Wt</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span> <span class="id">prog</span>) <span class="kwd">as</span> [|<span class="id">c</span>]; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">using</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">Wt</span> <span class="kwd">as</span> [|?? []].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat_app">concat_app</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">NoDup_app'</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_nodupm">c_nodupm</a></span> <span class="id">c</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>) <span class="kwd">as</span> [|<span class="id">m</span>]; <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">Nodup</span> <span class="kwd">as</span> [|? ? <span class="id">Notin</span>]; <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="id">intros</span> (<span class="id">m'</span> &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="id">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun_injective">prefix_fun_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">try</span> <span class="id">tauto</span>; <span class="id">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [<span class="id">E</span> ?]; <span class="id">rewrite</span> &lt;-<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="kwd">exists</span> <span class="id">m'</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>) <span class="kwd">as</span> [|<span class="id">m</span>]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="id">intros</span> ((<span class="id">y</span>, <span class="id">d</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_concat">in_concat</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">l'</span> &amp; <span class="id">Hin'</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin'</span> <span class="kwd">as</span> (<span class="id">c'</span> &amp; <span class="id">E</span> &amp; <span class="id">Hin'</span>); <span class="id">subst</span> <span class="id">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">m'</span> &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">inversion</span> <span class="id">E</span> <span class="kwd">as</span> [[<span class="id">Eq</span> <span class="id">E'</span>]]; <span class="id">clear</span> <span class="id">E</span> <span class="id">E'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c</span>); <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_good">c_good</a></span> <span class="id">c'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun_injective">prefix_fun_injective</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="id">try</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Eq</span> <span class="kwd">as</span> [<span class="id">Eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">o</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id">xs</span>) = <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">o</span> <span class="id">xs</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">IH</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_out_temps_instance_prefixed">make_out_temps_instance_prefixed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">prog</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id">prog</span> <span class="id">m</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">m</span> <span class="id">c</span>, <span class="id">x</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">m</span> <span class="id">c</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">prog</span> <span class="id">m</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id">e</span>) -&gt; <span class="kwd">exists</span> <span class="id">m</span> <span class="id">c</span>, <span class="id">x</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">m</span> <span class="id">c</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_instance_methods_temp">rec_instance_methods_temp</a></span> <span class="id">prog</span> <span class="id">e</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id">m</span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">m</span> <span class="id">c</span>, <span class="id">x</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix_temp">prefix_temp</a></span> <span class="id">m</span> <span class="id">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>; <span class="id">intros</span> * <span class="id">H</span> * ?;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.elements_empty">Env.Props.P.elements_empty</a></span>; <span class="id">simpl</span>; <span class="id">contradiction</span>|].<br/>
&nbsp;&nbsp;<span class="id">intros</span> ???; <span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id">m</span>) <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ _) <span class="id">and</span> <span class="id">induction</span> <span class="id">it</span> <span class="kwd">as</span> [|[|]]; <span class="id">auto</span>. <span class="id">intros</span>; <span class="id">simpl</span> <span class="kwd">in</span> *. <span class="id">eapply</span> <span class="id">IHit</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">intros</span> * ? <span class="id">Hin</span>; <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_rec_instance_methods_temp">InMembers_rec_instance_methods_temp</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [|]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">IHs2</span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> _)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.elements_empty">Env.Props.P.elements_empty</a></span>; <span class="id">simpl</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id">intros</span> * ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">c</span> <span class="id">prog</span>) <span class="kwd">as</span> [(<span class="id">cls</span>, ?)|]; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">f</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">cls</span>)); <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id">ys</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m0</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">try</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|<span class="id">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> &lt;- <span class="id">H0</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_out_temps_extcall_prefixed">make_out_temps_extcall_prefixed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id">m</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">c</span>, <span class="id">x</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.temp">temp</a></span> <span class="id">c</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> <span class="id">e</span>) -&gt; <span class="kwd">exists</span> <span class="id">c</span>, <span class="id">x</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.temp">temp</a></span> <span class="id">c</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#rec_extcalls_temp">rec_extcalls_temp</a></span> <span class="id">e</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id">m</span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">c</span>, <span class="id">x</span> = <span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.temp">temp</a></span> <span class="id">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>; <span class="id">intros</span> * <span class="id">H</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H</span>; <span class="id">eauto</span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.elements_empty">Env.Props.P.elements_empty</a></span>; <span class="id">simpl</span>; <span class="id">contradiction</span>|].<br/>
&nbsp;&nbsp;<span class="id">intros</span> ??; <span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id">m</span>) <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ _) <span class="id">and</span> <span class="id">induction</span> <span class="id">it</span> <span class="kwd">as</span> [|[|]]; <span class="id">auto</span>. <span class="id">intros</span>; <span class="id">simpl</span> <span class="kwd">in</span> *. <span class="id">eapply</span> <span class="id">IHit</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">intros</span> * ? <span class="id">Hin</span>; <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_rec_extcalls_temp">InMembers_rec_extcalls_temp</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [|]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">IHs2</span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> _)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Environment.html#Env.Props.P.elements_empty">Env.Props.P.elements_empty</a></span>; <span class="id">simpl</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id">intros</span> * ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span>, <span class="id"><a href="Velus.Environment.html#Env.Props.P.F.add_in_iff">Env.Props.P.F.add_in_iff</a></span>, <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|]; <span class="id">subst</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="build_check_size_env_ok">build_check_size_env_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program'</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">p</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env">build_composite_env</a></span> <span class="id">types</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">p</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">p</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id">types</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span>; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> <span class="id">types0</span>) <span class="kwd">as</span> [[<span class="id">gce</span> ?]|?]; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">gce</span> <span class="id">types0</span>) <span class="id">eqn</span>: <span class="id">E</span>; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">u</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">simpl</span>; <span class="id">split</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="build_ok">build_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program'</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">p</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env">build_composite_env</a></span> <span class="id">types</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">p</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> _ _ _ _ _ _ _ <span class="id">H</span>)).<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="check_size_env_ok">check_size_env_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program'</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">p</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">p</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id">types</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> _ _ _ _ _ _ _ <span class="id">H</span>)).<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="check_size_env_spec">check_size_env_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">types</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> <span class="id">types</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">t</span> =&gt; <span class="kwd">match</span> <span class="id">t</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> <span class="id">id</span> _ _ _ =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_co">check_size_co</a></span> <span class="id">ce</span> <span class="id">id</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="id">types</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#iter_error_ok">iter_error_ok</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">types0</span> <span class="kwd">as</span> [|[]]; <span class="id">simpl</span>; <span class="id">split</span>; <span class="id">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> 1; <span class="id">constructor</span>; <span class="id">auto</span>; <span class="id">apply</span> <span class="id">IHtypes0</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_program_defs">make_program_defs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_program'</span> <span class="id">types</span> <span class="id">gvars</span> <span class="id">gvars_vol</span> <span class="id">defs</span> <span class="id">public</span> <span class="id">main</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">p</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">gce</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env">build_composite_env</a></span> <span class="id">types</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">gce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">p</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defs">AST.prog_defs</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id">gce</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">gvars</span> ++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id">gce</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">gvars_vol</span> ++ <span class="id">defs</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span>; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> <span class="id">types0</span>) <span class="kwd">as</span> [[<span class="id">gce</span> ?]|?]; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">gce</span> <span class="id">types0</span>) <span class="id">eqn</span>: <span class="id">E</span>; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">u</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">simpl</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_pres_var">type_pres_var</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">x</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_var">translate_var</a></span> <span class="id">c</span> <span class="id">m</span> <span class="id">x</span> <span class="id">t</span>) = <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_var">translate_var</a></span>; <span class="id">cases</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">type_pres_var</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_pres">type_pres</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">e</span> <span class="id">p</span> <span class="id">Γm</span> <span class="id">Γv</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_exp">wt_exp</a></span> <span class="id">p</span> <span class="id">Γm</span> <span class="id">Γv</span> <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_exp">translate_exp</a></span> <span class="id">c</span> <span class="id">m</span> <span class="id">e</span>) = <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.typeof">typeof</a></span> <span class="id">e</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">e</span> <span class="kwd">as</span> [| | |<span class="id">cst</span>| | |]; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
&nbsp;&nbsp;- <span class="id">inversion_clear</span> 1; <span class="id">destruct</span> <span class="id">tn</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id">cst</span>; <span class="id">simpl</span>; <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id">u</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">type_pres</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="types_pres">types_pres</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tys</span> <span class="id">c</span> <span class="id">caller</span> <span class="id">es</span> <span class="id">p</span> <span class="id">Γm</span> <span class="id">Γv</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_exp">wt_exp</a></span> <span class="id">p</span> <span class="id">Γm</span> <span class="id">Γv</span>) <span class="id">es</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">ty</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.typeof">typeof</a></span> <span class="id">e</span> = <span class="id">ty</span>) <span class="id">es</span> <span class="id">tys</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_exp">translate_exp</a></span> <span class="id">c</span> <span class="id">caller</span>) <span class="id">es</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">tys</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">WT</span> <span class="id">Hes</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">Hes</span>; <span class="id">inv</span> <span class="id">WT</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Remark</span> <span class="id">types_pres'</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">es</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">e</span> <span class="id">x</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id">e</span> = <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">x</span>)) <span class="id">es</span> <span class="id">f</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id">f</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>)) = (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id">es</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">f</span>) <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="id">intros</span> * <span class="id">Heq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">Heq</span> <span class="kwd">as</span> [|? ? ? ? <span class="id">Ht</span>]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_of_params_make_in_arg">type_of_params_make_in_arg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id">xs</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span> <span class="id">xs</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NoDupMembers_translate_param">NoDupMembers_translate_param</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">f</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span> <span class="id">f</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">Nodup</span> <span class="kwd">as</span> [|??? <span class="id">Notin</span>]; <span class="id">simpl</span>; <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">Hin</span>; <span class="id">apply</span> <span class="id">Notin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> ((?&amp;?) &amp; <span class="id">E</span> &amp;?); <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">NoDupMembers_translate_param</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="AtomOrGensym_inv">AtomOrGensym_inv</a></span> : <span class="kwd">forall</span> <span class="id">prefs</span> <span class="id">pref</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id">prefs</span>) (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id">pref</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">pref</span> <span class="id">prefs</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * [?|(?&amp;?&amp;?&amp;?&amp;<span class="id">Heq</span>)].<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_not_atom">prefix_not_atom</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_gensym_injective">prefix_gensym_injective</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonPS.html#ps_of_list_In">ps_of_list_In</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="obc2c_not_in_translate_param_in">obc2c_not_in_translate_param_in</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id">x</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">f</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">Hin</span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">obc2c_not_in_translate_param_in</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="temp_not_in_translate_param_in">temp_not_in_translate_param_in</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.temp">temp</a></span> <span class="id">x</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">f</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">Hin</span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">temp_not_in_translate_param_in</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="obc2c_not_in_translate_param_vars">obc2c_not_in_translate_param_vars</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id">x</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id">f</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">Hin</span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin</span>). <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_vars">m_good_vars</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">obc2c_not_in_translate_param_vars</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="obc2c_not_in_temps">obc2c_not_in_temps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">f</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Velus.Common.CommonList.html#InMembers">InMembers</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> <span class="id">prog</span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id">f</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">repeat</span> (<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="id">split</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
&nbsp;&nbsp;- <span class="id">intro</span> <span class="id">Hin'</span>. <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_extcall_prefixed">make_out_temps_extcall_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;<span class="id">Hpre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (<span class="id">Eq</span>&amp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
&nbsp;&nbsp;- <span class="id">intro</span> <span class="id">Hin'</span>. <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_instance_prefixed">make_out_temps_instance_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (<span class="id">Eq</span>&amp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
Qed.</div></details>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">obc2c_not_in_temps</span> : <span class="id">clight</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="c_objs_field_offset">c_objs_field_offset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">o</span> <span class="id">c</span> <span class="id">cls</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">c</span>) <span class="id">cls</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">d</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id">ge</span> <span class="id">o</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">cls</span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">d</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span>.<br/>
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> <span class="id">ofs</span>, <span class="kwd">exists</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_offset_rec">field_offset_rec</a></span> <span class="id">ge</span> <span class="id">o</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">cls</span>) <span class="id">ofs</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">d</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_split">in_split</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (<span class="id">ws</span> &amp; <span class="id">xs</span> &amp; <span class="id">Hin</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hin</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_cons">map_cons</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id">cls</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) ++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> <span class="id">ws</span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_obj">translate_obj</a></span> <span class="id">xs</span>).<br/>
&nbsp;&nbsp;<span class="id">clear</span> <span class="id">Hin</span> <span class="id">ws</span> <span class="id">xs</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">ws</span> <span class="id">xs</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">xs</span> <span class="kwd">as</span> [|<span class="id">x</span> <span class="id">xs</span> <span class="id">IH</span>]; <span class="id">intros</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;- <span class="id">simpl</span>. <span class="id">setoid_rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>. <span class="id">now</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id">x</span> <span class="kwd">as</span> (<span class="id">x</span>, <span class="id">ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#ident_eq_dec">ident_eq_dec</a></span> <span class="id">o</span> <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">He</span>|<span class="id">Hne</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">He</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_true">peq_true</a></span>. <span class="id">now</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#peq_false">peq_false</a></span> <span class="kwd">with</span> (1:=<span class="id">Hne</span>). <span class="id">apply</span> <span class="id">IH</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_translate_mem_type">field_translate_mem_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">clsnm</span> <span class="id">cls</span> <span class="id">prog'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">clsnm</span> <span class="id">prog</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">prog'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">x</span>, <span class="id">ty</span>) <span class="id">cls</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id">x</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">cls</span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">ty</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hfind</span> ? ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#in_field_type">in_field_type</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">ty</span>); <span class="id">split</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_translate_obj_type">field_translate_obj_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">clsnm</span> <span class="id">cls</span> <span class="id">prog'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">clsnm</span> <span class="id">prog</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">prog'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">c</span>) <span class="id">cls</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id">o</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">cls</span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> <span class="id">c</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hfind</span> ? ? <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#in_field_type">in_field_type</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="kwd">exists</span> (<span class="id">o</span>, <span class="id">c</span>); <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_exprlist_app">eval_exprlist_app</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">es</span> <span class="id">es'</span> <span class="id">vs</span> <span class="id">vs'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#eval_exprlist">eval_exprlist</a></span> <span class="id">tge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">es</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id">es</span>) <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#eval_exprlist">eval_exprlist</a></span> <span class="id">tge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">es'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> <span class="id">es'</span>) <span class="id">vs'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#eval_exprlist">eval_exprlist</a></span> <span class="id">tge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id">es</span> ++ <span class="id">es'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#typeof">Clight.typeof</a></span> (<span class="id">es</span> ++ <span class="id">es'</span>)) (<span class="id">vs</span> ++ <span class="id">vs'</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">es</span>; <span class="id">intros</span> * <span class="id">Ev</span> <span class="id">Ev'</span>; <span class="id">inv</span> <span class="id">Ev</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="exec_seq_assoc">exec_seq_assoc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">s3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s1</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s2</span> <span class="id">s3</span>)) <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s1</span> <span class="id">s2</span>) <span class="id">s3</span>) <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">inversion_clear</span> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">context</span> [<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> _ _] |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> &lt;-<span class="id"><a href="../../CompCert/doc/html/compcert.common.Events.html#Eapp_assoc">Events.Eapp_assoc</a></span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Events.html#Eapp_assoc">Events.Eapp_assoc</a></span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">contradiction</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="exec_seq_skip_l">exec_seq_skip_l</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">s</span>) <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">s</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">inversion_clear</span> 1; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">context</span> [<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span>] |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id">intros</span>; <span class="id">rewrite</span> &lt;- (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Events.html#E0_left">Events.E0_left</a></span> <span class="id">t</span>); <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="exec_seq_skip_r">exec_seq_skip_r</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span>) <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">s</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">inversion_clear</span> 1; <span class="id">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">context</span> [<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span>] |- _ =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Events.html#E0_right">Events.E0_right</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">intros</span>; <span class="id">destruct</span> <span class="id">out0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_Sseq_2">exec_Sseq_2</a></span>; <span class="id">auto</span>; <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_Sseq_2">exec_Sseq_2</a></span>; <span class="id">auto</span>; <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> &lt;- (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Events.html#E0_right">Events.E0_right</a></span> <span class="id">t</span>); <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_Sseq_2">exec_Sseq_2</a></span>; <span class="id">auto</span>; <span class="id">discriminate</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ls_hd">ls_hd</a></span> (<span class="id">ls</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#labeled_statements">labeled_statements</a></span>) : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#statement">statement</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">ls</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LSnil">LSnil</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LScons">LScons</a></span> <span class="id">z</span> <span class="id">s</span> _ =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">z</span>, <span class="id">s</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_labeled_statements_aux_cons">make_labeled_statements_aux_cons</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">z</span> <span class="id">os</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">ls'</span>, <span class="id">z'</span>) := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements_aux">make_labeled_statements_aux</a></span> <span class="id">ls</span> <span class="id">z</span> <span class="id">ss</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements_aux">make_labeled_statements_aux</a></span> <span class="id">ls</span> <span class="id">z</span> (<span class="id">os</span> :: <span class="id">ss</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> <span class="id">ls'</span> (<span class="kwd">fun</span> <span class="id">s</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LScons">LScons</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z'</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) <span class="id">ls'</span>) <span class="id">os</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">z'</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements_aux">make_labeled_statements_aux</a></span> <span class="id">ls</span> <span class="id">z</span> <span class="id">ss</span>) <span class="id">eqn</span>: <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">rewrite</span> <span class="id">E</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Definition</span> <span class="id">make_labeled_statements_aux'</span> (<span class="id">ls</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#labeled_statements">labeled_statements</a></span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">ss</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#statement">statement</a></span>)): <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#labeled_statements">labeled_statements</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#fold_right2">fold_right2</a></span> (<span class="kwd">fun</span> <span class="id">i</span> <span class="id">os</span> <span class="id">ls</span> =&gt; <span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> <span class="id">ls</span> (<span class="kwd">fun</span> <span class="id">s</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LScons">LScons</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">i</span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) <span class="id">ls</span>) <span class="id">os</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ls</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#seq">seq</a></span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">ss</span>)) <span class="id">ss</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">make_labeled_statements_aux'_cons</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">n</span> <span class="id">os</span> <span class="id">ss</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">n</span> (<span class="id">os</span> :: <span class="id">ss</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">ss</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LScons">LScons</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">ss</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">os</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
 <span class="id">reflexivity</span>. Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_labeled_statements_aux_spec">make_labeled_statements_aux_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">ls</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements_aux">make_labeled_statements_aux</a></span> <span class="id">ls</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id">n</span> + <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">ss</span>))) <span class="id">ss</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">n</span> <span class="id">ss</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_labeled_statements_aux'</span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements_aux">make_labeled_statements_aux</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|<span class="id">os</span>]; <span class="id">intros</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus_n_O">plus_n_O</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_succ_r">Nat.add_succ_r</a></span>, &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_succ_l">Nat.add_succ_l</a></span>, <span class="id">IHss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>))) <span class="kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="fst_make_labeled_statements_aux_spec">fst_make_labeled_statements_aux_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements_aux">make_labeled_statements_aux</a></span> <span class="id">ls</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">ss</span>))) <span class="id">ss</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> 0 <span class="id">ss</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> &lt;-(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus_O_n">plus_O_n</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">ss</span>)), <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_labeled_statements_aux_spec">make_labeled_statements_aux_spec</a></span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id">select_switch_case_make_labeled_statements_aux'_Lt</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">m</span> <span class="id">n</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span> &lt; <span class="id">m</span>)%<span class="id">nat</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>, (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">nat</span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">m</span>) <span class="id">ls</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>) (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">ss</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|<span class="id">os</span>]; <span class="id">intros</span> * <span class="id">Lt</span> <span class="id">Hls</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">make_labeled_statements_aux'_cons</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>; <span class="id">try</span> <span class="id">lia</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id">select_switch_case_make_labeled_statements_aux'_None</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">m</span> <span class="id">n</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">ss</span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">nat</span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>) <span class="id">ls</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id">m</span> + <span class="id">n</span>)) (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">ss</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|<span class="id">os</span>]; <span class="id">intros</span> * <span class="id">Nth</span> <span class="id">Hls</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error_nil">nth_error_nil</a></span> <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">make_labeled_statements_aux'_cons</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">n</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Nth</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">select_switch_case_make_labeled_statements_aux'_Lt</span>; <span class="id">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id">Hls</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_succ_r">Nat.add_succ_r</a></span>, &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_succ_l">Nat.add_succ_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>; <span class="id">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHss</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id">Hls</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">apply</span> <span class="id">IHss</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id">Hls</span>; <span class="id">lia</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id">select_switch_case_make_labeled_statements_aux'_Some</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">m</span> <span class="id">n</span> <span class="id">ls</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">ss</span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">ls'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id">m</span> + <span class="id">n</span>)) (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">ss</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LScons">LScons</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id">m</span> + <span class="id">n</span>))) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) <span class="id">ls'</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|<span class="id">os</span>]; <span class="id">intros</span> * <span class="id">Nth</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error_nil">nth_error_nil</a></span> <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">make_labeled_statements_aux'_cons</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">n</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Nth</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus_n_O">plus_n_O</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_succ_r">Nat.add_succ_r</a></span>, &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_succ_l">Nat.add_succ_l</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>; <span class="id">try</span> <span class="id">lia</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id">select_switch_default_make_labeled_statements_aux'</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">ls</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_default">select_switch_default</a></span> <span class="id">ls</span> = <span class="id">ls</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_default">select_switch_default</a></span> (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">n</span> <span class="id">ss</span>) = <span class="id">ls</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|<span class="id">os</span>]; <span class="id">intros</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">make_labeled_statements_aux'_cons</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id">select_switch_make_labeled_statements_aux'_spec</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ss</span> <span class="id">m</span> <span class="id">n</span> <span class="id">ls</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">ss</span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">nat</span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>) <span class="id">ls</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch_default">select_switch_default</a></span> <span class="id">ls</span> = <span class="id">ls</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ls'</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id">m</span> + <span class="id">n</span>)) (<span class="id">make_labeled_statements_aux'</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">ss</span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> (<span class="id">ls'</span> = <span class="id">ls</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s</span> =&gt; <span class="kwd">exists</span> <span class="id">ls''</span>, <span class="id">ls'</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#LScons">LScons</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id">m</span> + <span class="id">n</span>))) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) <span class="id">ls''</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">os</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span>; <span class="id">subst</span> <span class="id">ls'</span>; <span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch">select_switch</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">edestruct</span> <span class="id">select_switch_case_make_labeled_statements_aux'_Some</span> <span class="kwd">as</span> [? -&gt;]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">select_switch_case_make_labeled_statements_aux'_None</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">select_switch_default_make_labeled_statements_aux'</span>; <span class="id">auto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="select_branch">select_branch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">branches</span> <span class="id">default</span> <span class="id">n</span> <span class="id">os</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">branches</span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">os</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ls</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements">make_labeled_statements</a></span> <span class="id">branches</span> <span class="id">default</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#or_default_with">or_default_with</a></span> (<span class="id">ls</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">default</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s</span> =&gt; <span class="kwd">exists</span> <span class="id">s'</span>, <span class="id">ls</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) <span class="id">s'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">os</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Nth</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements">make_labeled_statements</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_pred">Nat2Z.inj_pred</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#fst_make_labeled_statements_aux_spec">fst_make_labeled_statements_aux_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">Nth</span> <span class="kwd">as</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id">select_switch_make_labeled_statements_aux'_spec</span> _ 0) <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">destruct</span> <span class="id">os</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Nth</span> <span class="kwd">as</span> [? -&gt;]; <span class="id">simpl</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">rewrite</span> <span class="id">Nth</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">cases</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">cases</span>.<br/>
&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id">branches</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error_nil">nth_error_nil</a></span> <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">discriminate</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="select_branch_Some">select_branch_Some</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">branches</span> <span class="id">default</span> <span class="id">n</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">branches</span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements">make_labeled_statements</a></span> <span class="id">branches</span> <span class="id">default</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbreak">Sbreak</a></span>) <span class="id">s'</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Nth</span>; <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#select_branch">select_branch</a></span> <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="select_branch_None">select_branch_None</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">branches</span> <span class="id">default</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">branches</span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements">make_labeled_statements</a></span> <span class="id">branches</span> <span class="id">default</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">default</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Nth</span>; <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#select_branch">select_branch</a></span> <span class="kwd">in</span> <span class="id">Nth</span>; <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funcall_assign_spec">funcall_assign_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> <span class="id">owner</span> <span class="id">caller</span> <span class="id">xs</span> <span class="id">o</span> <span class="id">tyo</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#funcall_assign">funcall_assign</a></span> <span class="id">owner</span> <span class="id">caller</span> <span class="id">xs</span> <span class="id">o</span> <span class="id">tyo</span> <span class="id">outs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CommonList.html#fold_right2">fold_right2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">y</span> '(<span class="id">y'</span>, <span class="id">ty</span>) <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ty</span> := <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">ty</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">assign_out</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#assign">assign</a></span> <span class="id">owner</span> <span class="id">caller</span> <span class="id">y</span> <span class="id">ty</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Efield">Efield</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id">o</span> <span class="id">tyo</span>) <span class="id">y'</span> <span class="id">ty</span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">assign_out</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">xs</span> <span class="id">outs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#funcall_assign">funcall_assign</a></span>; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CommonList.html#fold_left2">fold_left2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s</span> <span class="id">y</span> '(<span class="id">y'</span>, <span class="id">ty</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#assign">assign</a></span> <span class="id">owner</span> <span class="id">caller</span> <span class="id">y</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">ty</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Efield">Efield</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id">o</span> <span class="id">tyo</span>) <span class="id">y'</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">ty</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">xs</span> <span class="id">outs</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out0</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> (<span class="id"><a href="Velus.Common.CommonList.html#fold_right2">fold_right2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">y</span> '(<span class="id">y'</span>, <span class="id">ty</span>) <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#assign">assign</a></span> <span class="id">owner</span> <span class="id">caller</span> <span class="id">y</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">ty</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Efield">Efield</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id">o</span> <span class="id">tyo</span>) <span class="id">y'</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">ty</span>))) <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">xs</span> <span class="id">outs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out0</span>).<br/>
&nbsp;&nbsp;{ <span class="id">intros</span> -&gt;; <span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_skip_l">exec_seq_skip_l</a></span>. }<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">xs</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">outs</span> <span class="kwd">as</span> [|[]], <span class="id">xs</span>; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_skip_r">exec_seq_skip_r</a></span>; <span class="id">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHouts</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_assoc">exec_seq_assoc</a></span>; <span class="id">reflexivity</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="load_in_spec">load_in_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> <span class="id">ins</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#load_in">load_in</a></span> <span class="id">ins</span>) <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> '(<span class="id">x</span>, <span class="id">t</span>) <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">typtr</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">load</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbuiltin">Sbuiltin</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_vload">AST.EF_vload</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type_to_chunk">type_to_chunk</a></span> <span class="id">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">typtr</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Eaddrof">Eaddrof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>)) <span class="id">typtr</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">load</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">ins</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#load_in">load_in</a></span>; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s</span> '(<span class="id">x</span>, <span class="id">t0</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbuiltin">Sbuiltin</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_vload">AST.EF_vload</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type_to_chunk">type_to_chunk</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Eaddrof">Eaddrof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>)]))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ins</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out0</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> '(<span class="id">x</span>, <span class="id">t0</span>) <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbuiltin">Sbuiltin</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_vload">AST.EF_vload</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type_to_chunk">type_to_chunk</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Eaddrof">Eaddrof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>)]) <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">ins</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out0</span>).<br/>
&nbsp;&nbsp;{ <span class="id">intros</span> -&gt;; <span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_skip_l">exec_seq_skip_l</a></span>. }<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ins</span> <span class="kwd">as</span> [|[]]; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_skip_r">exec_seq_skip_r</a></span>; <span class="id">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHins</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_assoc">exec_seq_assoc</a></span>; <span class="id">reflexivity</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="write_multiple_outs_spec">write_multiple_outs_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> <span class="id">node</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#write_multiple_outs">write_multiple_outs</a></span> <span class="id">node</span> <span class="id">outs</span>) <span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">let</span> <span class="id">out_struct</span> := <span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">Ids.out</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t_struct</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id">node</span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> '(<span class="id">x</span>, <span class="id">t</span>) <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">typtr</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">write</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbuiltin">Sbuiltin</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_vstore">AST.EF_vstore</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type_to_chunk">type_to_chunk</a></span> <span class="id">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">typtr</span>; <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Eaddrof">Eaddrof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>)) <span class="id">typtr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Efield">Efield</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id">out_struct</span> <span class="id">t_struct</span>) <span class="id">x</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">write</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">outs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#write_multiple_outs">write_multiple_outs</a></span>; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">fold_left</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s</span> '(<span class="id">x</span>, <span class="id">t0</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbuiltin">Sbuiltin</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_vstore">AST.EF_vstore</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type_to_chunk">type_to_chunk</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>; <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Eaddrof">Eaddrof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Efield">Efield</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id">node</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>)]))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">outs</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out0</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.ClightBigstep.html#exec_stmt">exec_stmt</a></span> <span class="id">ge</span> <span class="id">fe</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span> <span class="id">s</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> '(<span class="id">x</span>, <span class="id">t0</span>) <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Ssequence">Ssequence</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sbuiltin">Sbuiltin</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_vstore">AST.EF_vstore</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type_to_chunk">type_to_chunk</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>; <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Eaddrof">Eaddrof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Efield">Efield</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Evar">Evar</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id">node</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t0</span>)]) <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id">outs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> <span class="id">le'</span> <span class="id">m'</span> <span class="id">out0</span>).<br/>
&nbsp;&nbsp;{ <span class="id">intros</span> -&gt;; <span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_skip_l">exec_seq_skip_l</a></span>. }<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">outs</span> <span class="kwd">as</span> [|[]]; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_skip_r">exec_seq_skip_r</a></span>; <span class="id">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHouts</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#exec_seq_assoc">exec_seq_assoc</a></span>; <span class="id">reflexivity</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="wf_struct">wf_struct</a></span> (<span class="id">ge</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) '((<span class="id">x</span>, <span class="id">t</span>): <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type">Ctypes.type</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">id</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id">id</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">ge</span> ! <span class="id">id</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">co</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id">co</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">exists</span> <span class="id">flds</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span> = <span class="id"><a href="Velus.Common.CompCertLib.html#mk_members">mk_members</a></span> <span class="id">flds</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#name_member">name_member</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="kwd">forall</span> <span class="id">x'</span> <span class="id">t'</span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Member_plain">Member_plain</a></span> <span class="id">x'</span> <span class="id">t'</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">chunk</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">t'</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id">chunk</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Memdata.html#align_chunk">Memdata.align_chunk</a></span> <span class="id">chunk</span> | <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id">ge</span> <span class="id">t'</span>).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">contr</span> := <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> &lt;&gt; ?<span class="id">x</span> |- _ =&gt; <span class="id">contradict</span> <span class="id">H</span>; <span class="id">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| _ =&gt; <span class="id">auto</span>; <span class="id">try</span> <span class="id">discriminate</span>; <span class="id">try</span> <span class="id">contradiction</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="case_out">case_out</a></span> {<span class="id">A</span>} (<span class="id">m</span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span>) (<span class="id">anil</span>: <span class="id">A</span>) (<span class="id">asing</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> -&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span> -&gt; <span class="id">A</span>) (<span class="id">a</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>) -&gt; <span class="id">A</span>) : <span class="id">A</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">m</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [] =&gt; <span class="id">anil</span><br/>
&nbsp;&nbsp;| [(<span class="id">x</span>, <span class="id">t</span>)] =&gt; <span class="id">asing</span> <span class="id">x</span> <span class="id">t</span><br/>
&nbsp;&nbsp;| <span class="id">outs</span> =&gt; <span class="id">a</span> <span class="id">outs</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MethodSpec">MethodSpec</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="MethodSpec.c">c</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span>) (<span class="id"><a name="MethodSpec.f">f</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="method_spec">method_spec</a></span> (<span class="id">prog</span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>) (<span class="id">fd</span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#function">function</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_out_param</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ _ =&gt; [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ =&gt; [(<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))]) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_return</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ <span class="id">t</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_temp_out</span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">t</span> =&gt; [<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id">x</span>, <span class="id">t</span>)])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ =&gt; []) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f_body</span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">t</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span> (<span class="id">x</span>, <span class="id">t</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span>) = (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id">f_out_param</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_return">fn_return</a></span>) = <span class="id">f_return</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_callconv">fn_callconv</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span>) = <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span>) = <span class="id">f_temp_out</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">fd</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_body">fn_body</a></span>) = <span class="id">f_body</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="method_spec_eq">method_spec_eq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prog</span> <span class="id">fd1</span> <span class="id">fd2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id">prog</span> <span class="id">fd1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id">prog</span> <span class="id">fd2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fd1</span> = <span class="id">fd2</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span>; <span class="id">destruct</span> <span class="id">fd1</span>, <span class="id">fd2</span>; <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">intuition</span>; <span class="id">f_equal</span>; <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="MethodSpec.ownerid">ownerid</a></span> <span class="id"><a name="MethodSpec.cid">cid</a></span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id"><a name="MethodSpec.owner">owner</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span>) (<span class="id"><a name="MethodSpec.prog">prog</a></span> <span class="id">prog'</span> <span class="id">prog''</span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>) (<span class="id"><a name="MethodSpec.fid">fid</a></span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> (<span class="id"><a name="MethodSpec.Findowner">Findowner</a></span> : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.ownerid">ownerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.owner">owner</a></span>, <span class="id">prog'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="MethodSpec.Findcl">Findcl</a></span>    : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.cid">cid</a></span> <span class="id">prog'</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>, <span class="id">prog''</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="MethodSpec.Findmth">Findmth</a></span>   : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.fid">fid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="MethodSpec.WTp">WTp</a></span>       : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="instance_methods_temp_find_class">instance_methods_temp_find_class</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog'</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> = <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">prog''</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) <span class="kwd">as</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit_chained">wt_program_find_unit_chained</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">WT</span> <span class="kwd">as</span> (<span class="id">WT</span> &amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="Velus.Environment.html#Env.empty">Env.empty</a></span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>) <span class="kwd">as</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span>) <span class="kwd">using</span> <span class="id">stmt_ind2'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">WT</span> <span class="kwd">as</span> [| | | |????????? <span class="id">Findcl'</span> <span class="id">Findmth'</span>| |]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">generalize</span> <span class="id">dependent</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> _ = _) <span class="id">and</span> <span class="id">clear</span> <span class="id">it</span>; <span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|[|] ? <span class="id">IH</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">intros</span>; <span class="id">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ (_ :: _)) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IH</span>, <span class="id">IHs</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">setoid_rewrite</span> <span class="id">IHs1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog'</span>) <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog''</span>) <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">c0</span> <span class="id">prog'</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p'</span>)) <span class="kwd">as</span> <span class="id">Find1</span> <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit_chained">wt_program_find_unit_chained</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">c0</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p'</span>)) <span class="kwd">as</span> <span class="id">Find2</span> <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit_chained">wt_program_find_unit_chained</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find1</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find2</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="translate_stmt_find_class">translate_stmt_find_class</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog'</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) = <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_method">wt_method</a></span> <span class="id">prog''</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_mems">c_mems</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) <span class="kwd">as</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit_chained">wt_program_find_unit_chained</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">WT</span> <span class="kwd">as</span> (<span class="id">WT</span> &amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>) <span class="kwd">using</span> <span class="id">stmt_ind2'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">WT</span> <span class="kwd">as</span> [| | | |????????? <span class="id">Findcl'</span> <span class="id">Findmth'</span>| |]; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_labeled_statements">make_labeled_statements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHs</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option_map">Datatypes.option_map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog'</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)) <span class="id">ss</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option_map">Datatypes.option_map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.c">c</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.f">f</a></span>)) <span class="id">ss</span>) <span class="kwd">as</span> -&gt;; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> _ = _) <span class="id">and</span> <span class="id">clear</span> <span class="id">it</span>; <span class="id">induction</span> <span class="id">ss</span> <span class="kwd">as</span> [|[|] ? <span class="id">IH</span>]; <span class="id">auto</span>; <span class="id">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> _ (_ :: _)) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>; <span class="id">f_equal</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> <span class="id">IHs1</span>, <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id">prog'</span>) <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#binded_funcall">binded_funcall</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">c0</span> <span class="id">prog'</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p'</span>)) <span class="kwd">as</span> <span class="id">Find1</span> <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit_chained">wt_program_find_unit_chained</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">c0</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">cls</span>, <span class="id">p'</span>)) <span class="kwd">as</span> <span class="id">Find2</span> <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit_chained">wt_program_find_unit_chained</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find1</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.find_class_rev">find_class_rev</a></span> <span class="kwd">in</span> <span class="id">Find2</span> <span class="kwd">as</span> (?&amp; -&gt;); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="method_spec_find_class">method_spec_find_class</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id">prog'</span> <span class="id">fd</span> &lt;-&gt; <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec.prog">prog</a></span> <span class="id">fd</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#instance_methods_temp_find_class">instance_methods_temp_find_class</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_stmt_find_class">translate_stmt_find_class</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#MethodSpec">MethodSpec</a></span>.<br/>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="bind_inversion">bind_inversion</a></span> : <span class="kwd">forall</span> {<span class="id">A</span> <span class="id">B</span>} (<span class="id">f</span> : <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id">A</span>) (<span class="id">g</span> : <span class="id">A</span> -&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#res">res</a></span> <span class="id">B</span>) (<span class="id">y</span> : <span class="id">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">do</span> <span class="id">X</span> &lt;- <span class="id">f</span>; <span class="id">g</span> <span class="id">X</span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">x</span> : <span class="id">A</span> | <span class="id">f</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">x</span> /\ <span class="id">g</span> <span class="id">x</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id">y</span> }.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hbind</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">f</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">try</span> <span class="id">congruence</span>. <span class="id">eauto</span>.<br/>
Qed.</div></details>
<br/>
<span class="kwd">Ltac</span> <span class="id">inv_trans_tac</span> <span class="id">H</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">type</span> <span class="id">of</span> <span class="id">H</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#translate">translate</a></span> _ _ (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">f</span>) ?<span class="id">p</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> _ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">c</span> := <span class="id">fresh</span> <span class="string">"c"</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">p'</span> := <span class="id">fresh</span> <span class="id">p</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate">translate</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#bind_inversion">bind_inversion</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ([] &amp; <span class="id">Eexterns</span> &amp; <span class="id">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#bind_inversion">bind_inversion</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ([] &amp; <span class="id">Etypes</span> &amp; <span class="id">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#split">split</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">p</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">p</span>).(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span>))) <span class="kwd">as</span> (<span class="id">structs</span>, <span class="id">funs</span>) <span class="id">eqn</span>: <span class="id">E</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">f</span> <span class="id">p</span>) <span class="kwd">as</span> [(<span class="id">c</span>, <span class="id">p'</span>)|] <span class="id">eqn</span>: <span class="id">En</span>; <span class="id">try</span> <span class="id">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>)) <span class="id">eqn</span>: <span class="id">Estep</span>; <span class="id">try</span> <span class="id">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.reset">reset</a></span> <span class="id">c</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>)) <span class="id">eqn</span>: <span class="id">Ereset</span>; <span class="id">try</span> <span class="id">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_enums">check_size_enums</a></span> <span class="id">p</span>) <span class="kwd">as</span> [[]|] <span class="id">eqn</span>: <span class="id">Eenums</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">try</span> <span class="id">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"inv_trans"</span> <span class="id">ident</span>(<span class="id">H</span>) <span class="string">"as"</span> <span class="id">ident</span>(<span class="id">Eexterns</span>) <span class="id">ident</span>(<span class="id">En</span>) <span class="id">ident</span>(<span class="id">Estep</span>) <span class="id">ident</span>(<span class="id">Ereset</span>) <span class="id">ident</span>(<span class="id">Eenums</span>) <span class="string">"with"</span> <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans_tac</span> <span class="id">H</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"inv_trans"</span> <span class="id">ident</span>(<span class="id">H</span>) <span class="string">"as"</span> <span class="id">ident</span>(<span class="id">Eexterns</span>) <span class="id">ident</span>(<span class="id">En</span>) <span class="id">ident</span>(<span class="id">Estep</span>) <span class="id">ident</span>(<span class="id">Ereset</span>) <span class="id">ident</span>(<span class="id">Eenums</span>) <span class="string">"with"</span> <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"inv_trans"</span> <span class="id">ident</span>(<span class="id">H</span>) <span class="string">"as"</span> <span class="id">ident</span>(<span class="id">Eexterns</span>) <span class="id">ident</span>(<span class="id">En</span>) <span class="id">ident</span>(<span class="id">Estep</span>) <span class="id">ident</span>(<span class="id">Ereset</span>) <span class="id">ident</span>(<span class="id">Eenums</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"inv_trans"</span> <span class="id">ident</span>(<span class="id">H</span>) <span class="string">"with"</span> <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) <span class="id">ident</span>(<span class="id">E</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"inv_trans"</span> <span class="id">ident</span>(<span class="id">H</span>) <span class="string">"with"</span> <span class="id">ident</span>(<span class="id">s</span>) <span class="id">ident</span>(<span class="id">f</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f</span> <span class="id">E</span>.<br/>
<span class="kwd">Tactic</span> <span class="kwd">Notation</span> <span class="string">"inv_trans"</span> <span class="id">ident</span>(<span class="id">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Enums</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="check_externs">check_externs</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="check_externs_atom">check_externs_atom</a></span> : <span class="kwd">forall</span> <span class="id">prog</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span> <span class="id">prog</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.Ident.html#Ids.atom">atom</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">prog</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span>)).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hc</span>; <span class="id">monadInv</span> <span class="id">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">cases_eqn</span> <span class="id">Hf</span>; <span class="id">repeat</span> <span class="id">take</span> (_ = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> _) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> <span class="id"><a href="Velus.Ident.html#Ids.is_atom">is_atom</a></span> _ = _) <span class="id">and</span> <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#forallb_Forall">forallb_Forall</a></span> <span class="kwd">in</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_Forall</span>. <span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.is_atom_spec">is_atom_spec</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="check_externs_NoDup">check_externs_NoDup</a></span> : <span class="kwd">forall</span> <span class="id">prog</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span> <span class="id">prog</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> <span class="id">prog</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hc</span>; <span class="id">monadInv</span> <span class="id">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">cases_eqn</span> <span class="id">Hf</span>; <span class="id">repeat</span> <span class="id">take</span> (_ = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> _) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#check_nodup">check_nodup</a></span> _ = _) <span class="id">and</span> (<span class="id">apply</span> <span class="id"><a href="Velus.Common.Common.html#check_nodup_correct">check_nodup_correct</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span> <span class="kwd">in</span> <span class="id">it</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="check_externs_reserved">check_externs_reserved</a></span> : <span class="kwd">forall</span> <span class="id">prog</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span> <span class="id">prog</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">id</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">prog</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">id</span> &lt;&gt; <span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span> /\ <span class="id">id</span> &lt;&gt; <span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span> /\ <span class="id">id</span> &lt;&gt; <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span> /\ <span class="id">id</span> &lt;&gt; <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hc</span> <span class="id">Hin</span>; <span class="id">monadInv</span> <span class="id">Hc</span>; <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">cases_eqn</span> <span class="id">Hf</span>; <span class="id">repeat</span> <span class="id">take</span> (_ = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> _) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> (<span class="id">take</span> (_ || _ = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">and</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_iff">orb_false_iff</a></span> <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (?&amp;?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> (<span class="id">take</span> (<span class="id"><a href="Velus.Common.Common.html#mem_assoc_ident">mem_assoc_ident</a></span> _ _ = _) <span class="id">and</span> <span class="id">eapply</span> <span class="id"><a href="Velus.Common.Common.html#mem_assoc_ident_false">mem_assoc_ident_false</a></span> <span class="kwd">with</span> (<span class="id">t</span>:=(<span class="id">l</span>, <span class="id">c</span>)) <span class="kwd">in</span> <span class="id">it</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">split</span>; <span class="id">intro</span> <span class="id">contra</span>; <span class="id">subst</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_externs">check_externs</a></span>.<br/>
<br/>
<span class="kwd">Opaque</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_externs">check_externs</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="TranslateOk">TranslateOk</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.main_node">main_node</a></span> : <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.prog">prog</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.tprog">tprog</a></span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.do_sync">do_sync</a></span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="TranslateOk.all_public">all_public</a></span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.tge">tge</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.gcenv">gcenv</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#genv_cenv">genv_cenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.TRANSL">TRANSL</a></span>: <span class="id"><a href="Velus.ObcToClight.Generation.html#translate">translate</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.all_public">all_public</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="check_size_enums_spec">check_size_enums_spec</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">tn</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_enum">check_size_enum</a></span> <span class="id">tn</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.types">types</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#iter_error_ok">iter_error_ok</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="externs_In">externs_In</a></span> : <span class="kwd">forall</span> <span class="id">f</span> <span class="id">tyin</span> <span class="id">tyout</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">f</span>, (<span class="id">tyin</span>, <span class="id">tyout</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">f</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Gfun">AST.Gfun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#External">External</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#EF_external">AST.EF_external</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#pos_to_str">pos_to_str</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#sig_args">AST.sig_args</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#argtype_of_type">argtype_of_type</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">tyin</span>); <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#sig_res">AST.sig_res</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#rettype_of_type">rettype_of_type</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">tyout</span>); <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#sig_cc">AST.sig_cc</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span> |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">tyin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Interface.html#Op.cltype">cltype</a></span> <span class="id">tyout</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">s</span> <span class="id">f'</span> <span class="id">E</span>. <span class="id">unfold</span> <span class="id">make_program'</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> _) <span class="kwd">as</span> [(?&amp;?)|]; <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">right</span>. <span class="id">right</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solve_In</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.WT">WT</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_program">wt_program</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_self">find_self</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">sb</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>)) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sb</span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span> <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, ?)|]; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="id">destruct</span> <span class="id">Eq</span> <span class="kwd">as</span> [? <span class="id">Funs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol_exists">Genv.find_symbol_exists</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">TRANSL</span> <span class="kwd">as</span> [<span class="id">Htprog</span>]; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Consistent">Consistent</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_env_consistent">composite_env_consistent</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_ok">build_ok</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env_consistent">build_composite_env_consistent</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_defs_norepet">prog_defs_norepet</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>)).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span> <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, <span class="id">P</span>)|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">Eq</span>; <span class="id">destruct</span> <span class="id">Eq</span> <span class="kwd">as</span> [? <span class="id">Funs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">TRANSL</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> 5 <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span>, &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#glob_bind_vardef_fst">glob_bind_vardef_fst</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> ( ~ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">f</span>, (<span class="id">tyin</span>, <span class="id">tyout</span>)) =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_external">translate_external</a></span> <span class="id">f</span> <span class="id">tyin</span> <span class="id">tyout</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="kwd">if</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> [(<span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_sync">make_sync</a></span>); (<span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ [(<span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_entry_point">make_entry_point</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>)]))) <span class="kwd">as</span> <span class="id">Notin_self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>; <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> [((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|[((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|[((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|[((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id">Hin</span>]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob_injective">prefix_glob_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">auto</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_out">m_good_out</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob_injective">prefix_glob_injective</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">auto</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">subst</span>; <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_externs_atom">check_externs_atom</a></span> <span class="kwd">in</span> <span class="id">Eexterns</span>. <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_not_atom">prefix_not_atom</a></span>, <span class="id">Eexterns</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span>) <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">funs</span>. <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> (?&amp;?&amp;<span class="id">Hpre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Hpre</span> <span class="kwd">as</span> (?&amp;?); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|[<span class="id">Hin</span>|[<span class="id">Hin</span>|[<span class="id">Hin</span>|]]]]; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.sync_not_glob">sync_not_glob</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_sync_not_glob">main_sync_not_glob</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_not_glob">main_proved_not_glob</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_not_glob">main_not_glob</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [<span class="id">Hin</span>|[<span class="id">Hin</span>|]]; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_not_glob">main_proved_not_glob</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_not_glob">main_not_glob</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">f</span>, (<span class="id">tyin</span>, <span class="id">tyout</span>)) =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_external">translate_external</a></span> <span class="id">f</span> <span class="id">tyin</span> <span class="id">tyout</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="kwd">if</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> [(<span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_sync">make_sync</a></span>); (<span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ [(<span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_entry_point">make_entry_point</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>)]))) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.Ident.html#Ids.gensym_prefs">gensym_prefs</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">x</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>)) <span class="kwd">as</span> <span class="id">Atom_out</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> (<span class="id">x</span>, <span class="id">t</span>) ?; <span class="id">apply</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_out">m_good_out</a></span> <span class="id">m</span> (<span class="id">x</span>, <span class="id">t</span>)); <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.AtomOrGensym">AtomOrGensym</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id"><a href="Velus.Ident.html#Ids.gensym_prefs">gensym_prefs</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">x</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>)) <span class="kwd">as</span> <span class="id">Atom_in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> (<span class="id">x</span>, <span class="id">t</span>) ?; <span class="id">apply</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="id">m</span> (<span class="id">x</span>, <span class="id">t</span>)); <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hm_out</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDup_prefix_glob">NoDup_prefix_glob</a></span>; <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupout">m_nodupout</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hm_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDup_prefix_glob">NoDup_prefix_glob</a></span>; <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>))) <span class="kwd">by</span> (<span class="id">rewrite</span> <span class="id">Funs</span>; <span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDup_funs">NoDup_funs</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">z</span>  =&gt; ~ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">z</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hin_not_funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.glob_not_in_prefixed">glob_not_in_prefixed</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> * <span class="id">Hin</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; ~ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">z</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">funs</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hout_not_funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.glob_not_in_prefixed">glob_not_in_prefixed</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> * <span class="id">Hin</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prefixed_funs">prefixed_funs</a></span> <span class="kwd">in</span> <span class="id">Hin</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; ~ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">z</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xt</span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>))) <span class="kwd">as</span> <span class="id">Hout_not_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">apply</span> <span class="id"><a href="Velus.Ident.html#Ids.NoDupMembers_glob">NoDupMembers_glob</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id">m</span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span>, &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_assoc">app_assoc</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_externs_atom">check_externs_atom</a></span> <span class="kwd">in</span> <span class="id">Eexterns</span> <span class="kwd">as</span> <span class="id">Hatoms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span> [?<span class="id">x</span> :: _ :: _] =&gt; <span class="id">rewrite</span> (<span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span> <span class="id">x</span>) <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">apply</span> <span class="id">NoDup_app'</span>; <span class="id">repeat</span> <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_not_In_app">Forall_not_In_app</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_not_In_singleton">Forall_not_In_singleton</a></span>; <span class="id">auto</span>; <span class="id">try</span> <span class="id">now</span> <span class="id">repeat</span> <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#In_singleton">In_singleton</a></span>; <span class="id">prove_str_to_pos_neq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">try</span> (<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_map">NoDupMembers_map</a></span>; <span class="id">auto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_externs_NoDup">check_externs_NoDup</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">destruct_conjs</span>; <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">try</span> (<span class="id">intro</span> <span class="id">contra</span>; <span class="id">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl_In</span>; <span class="id">try</span> (<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> _ (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> _)) <span class="id">and</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_concat">in_concat</a></span> <span class="kwd">in</span> <span class="id">it</span> <span class="kwd">as</span> (?&amp;?&amp;?)); <span class="id">simpl_In</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span>, <span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="kwd">in</span> *; <span class="id">simpl_Forall</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">try</span> (<span class="id">solve</span> [<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.sync_not_glob">sync_not_glob</a></span>; <span class="id">eauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id">solve</span> [<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_sync_not_glob">main_sync_not_glob</a></span>; <span class="id">eauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id">solve</span> [<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_not_glob">main_proved_not_glob</a></span>; <span class="id">eauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id">solve</span> [<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.main_not_glob">main_not_glob</a></span>; <span class="id">eauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id">solve</span> [<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_not_atom">prefix_not_atom</a></span>; <span class="id">eauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id">solve</span> [<span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_not_atom">prefix_not_atom</a></span>; <span class="id">take</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> _ _ = _) <span class="id">and</span> <span class="id">rewrite</span> <span class="id">it</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">ident</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id">idtac</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_externs_reserved">check_externs_reserved</a></span> <span class="kwd">in</span> <span class="id">Eexterns</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?); [|<span class="id">solve_In</span>]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="TranslateOk.ClassProperties">ClassProperties</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variables</span> (<span class="id"><a name="TranslateOk.ClassProperties.ownerid">ownerid</a></span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id"><a name="TranslateOk.ClassProperties.owner">owner</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span>) (<span class="id">prog'</span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.ClassProperties.Findcl">Findcl</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>, <span class="id">prog'</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="make_members_co">make_members_co</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> ! <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">co</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id">co</span> = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span> = <span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#attr_alignas">attr_alignas</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_attr">co_attr</a></span> <span class="id">co</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#name_member">name_member</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">co</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_sizeof">co_sizeof</a></span>) &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_In">find_unit_In</a></span> <span class="kwd">as</span> [? <span class="id">Hin</span>]; <span class="id">eauto</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span> <span class="kwd">as</span> [? <span class="id">SIZE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">E</span> <span class="kwd">as</span> [<span class="id">Structs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_struct">make_struct</a></span> <span class="kwd">in</span> <span class="id">Structs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="kwd">fun</span> <span class="id">c</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id">c</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id">c</span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> :: <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out">make_out</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#rev_tr_spec">rev_tr_spec</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">in_concat'</span> <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_members">make_members</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span> :: <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out">make_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="id">rewrite</span> <span class="id">Structs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env_charact">build_composite_env_charact</a></span> <span class="kwd">as</span> (<span class="id">co</span> &amp; <span class="id">Hco</span> &amp; <span class="id">Hmembers</span> &amp; <span class="id">Hattr</span> &amp; ?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">co</span>; <span class="id">repeat</span> <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">Hattr</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">Hmembers</span>. <span class="id">apply</span> <span class="id">NoDupMembers_make_members'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_size_env_spec">check_size_env_spec</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="id">eauto</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_co">check_size_co</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="id">rewrite</span> <span class="id">Hco</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">Le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_is_le_bool">Zle_is_le_bool</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties">MethodProperties</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variables</span> (<span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>) (<span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.OutStruct">OutStruct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="TranslateOk.ClassProperties.MethodProperties.OutStruct.Length">Length</a></span>: (1 &lt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>))%<span class="id">nat</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="global_out_struct">global_out_struct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">co</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">co</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">co</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_su">co_su</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">co</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span>) = <span class="id"><a href="Velus.Common.CompCertLib.html#mk_members">mk_members</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">co</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_attr">co_attr</a></span>) = <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#name_member">name_member</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">co</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_sizeof">co_sizeof</a></span>) &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_check_size_env_ok">build_check_size_env_ok</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="id">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> [? <span class="id">SIZE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Composite">Composite</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Struct">Struct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Common.CompCertLib.html#mk_members">mk_members</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#noattr">noattr</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [<span class="id">Structs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out">make_out</a></span> <span class="kwd">in</span> <span class="id">Structs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_In">find_unit_In</a></span> <span class="kwd">as</span> [<span class="id">Eq</span> <span class="id">Hin</span>]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="kwd">fun</span> <span class="id">c</span> =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#make_struct">make_struct</a></span> <span class="id">c</span> :: <span class="id"><a href="Velus.ObcToClight.Generation.html#filter_out">filter_out</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="id">c</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#rev_tr_spec">rev_tr_spec</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span> <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#filter_out">filter_out</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#filter_out">filter_out</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter_In">filter_In</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>); <span class="id">simpl</span>; <span class="id">auto</span>; <span class="id">try</span> <span class="id">contradict</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.OutStruct.Length">Length</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_out">translate_out</a></span> <span class="kwd">at</span> 1 <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">setoid_rewrite</span> <span class="id">Eq</span> <span class="kwd">in</span> <span class="id">Hin'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_concat_cons">in_concat_cons</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Structs</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#build_composite_env_charact">build_composite_env_charact</a></span> <span class="kwd">as</span> (<span class="id">co</span> &amp; <span class="id">Hco</span> &amp; <span class="id">Hmembers</span> &amp; ? &amp; ?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">co</span>; <span class="id">repeat</span> (<span class="id">split</span>; <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">Hmembers</span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CompCertLib.html#mk_members_names">mk_members_names</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupout">m_nodupout</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#check_size_env_spec">check_size_env_spec</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="id">eauto</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_co">check_size_co</a></span> <span class="kwd">in</span> <span class="id">SIZE</span>; <span class="id">rewrite</span> <span class="id">Hco</span> <span class="kwd">in</span> <span class="id">SIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cases_eqn</span> <span class="id">Le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_is_le_bool">Zle_is_le_bool</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="output_match">output_match</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">outco</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">outco</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.CompCertLib.html#mk_members">mk_members</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>)) = <span class="id">outco</span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#co_members">co_members</a></span>).<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Houtco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#global_out_struct">global_out_struct</a></span> <span class="kwd">as</span> (<span class="id">outco'</span> &amp; <span class="id">Houtco'</span> &amp; <span class="id">Eq</span>); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Houtco</span> <span class="kwd">in</span> <span class="id">Houtco'</span>; <span class="id">now</span> <span class="id">inv</span> <span class="id">Houtco'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.OutStruct">OutStruct</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="well_formed_instance_methods">well_formed_instance_methods</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">fid</span> <span class="id">cid</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Generation.html#M.MapsTo">M.MapsTo</a></span> (<span class="id">o</span>, <span class="id">fid</span>) <span class="id">cid</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">c</span> <span class="id">cls</span> <span class="id">callee</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">cid</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">c</span>, <span class="id">cls</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">fid</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">callee</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (1 &lt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">callee</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>))%<span class="id">nat</span>.<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Ho</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_In">find_unit_In</a></span> <span class="kwd">as</span> [<span class="id">Eq</span>]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> _ _ _ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>) <span class="kwd">as</span> <span class="id">Eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span> <span class="kwd">as</span> [<span class="id">WT'</span>]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span> <span class="kwd">in</span> <span class="id">WT'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">WT'</span> <span class="kwd">as</span> (<span class="id">WT'</span> &amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_nodupobjs">c_nodupobjs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">using</span> <span class="id">stmt_ind2'</span>; <span class="id">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> (<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">discriminate</span>); <span class="id">inv</span> <span class="id">WT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_fold_left_rec_instance_methods">In_fold_left_rec_instance_methods</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> [|(?&amp; <span class="id">Hin</span> &amp;?)]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_rec_instance_methods">In_rec_instance_methods</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">eauto</span>. <span class="id">destruct</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id">IHs2</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id">IHs1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">destruct_list</span> <span class="id">ys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.find_1">M.find_1</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#add_mapsto_iff">F.add_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span> <span class="kwd">as</span> [[[]]|[? <span class="id">Maps</span>]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">exists</span> <span class="id">cls</span>, <span class="id">p'</span>, <span class="id">fm</span>; <span class="id">repeat</span> <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_suffix">find_unit_suffix</a></span> <span class="kwd">in</span> <span class="id">Findcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#find_unit_suffix_same">find_unit_suffix_same</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">repeat</span> (<span class="id">take</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> _ (_ :: _) _) <span class="id">and</span> <span class="id">inv</span> <span class="id">it</span>); <span class="id">simpl</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#empty_mapsto_iff">F.empty_mapsto_iff</a></span> <span class="kwd">in</span> <span class="id">Maps</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="methods_corres">methods_corres</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">loc_f</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.callerid">callerid</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.ownerid">ownerid</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">loc_f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> <span class="id">f</span>.<br/>
<details>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#method_spec">method_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_defs_norepet">prog_defs_norepet</a></span> <span class="kwd">as</span> <span class="id">Norepet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_In">find_unit_In</a></span> <span class="kwd">as</span> [? <span class="id">Hin</span>]; <span class="id">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> _ _ _ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.Findmth">Findmth</a></span>); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> ((<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>))) <span class="kwd">as</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#split_map">split_map</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">E</span> <span class="kwd">as</span> [? <span class="id">Funs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> <span class="kwd">in</span> <span class="id">Funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span>, <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="kwd">fun</span> <span class="id">c</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id">c</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_In">find_method_In</a></span> <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">f</span>:=<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>) <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">in_concat'</span> <span class="kwd">in</span> <span class="id">Findmth</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Funs</span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#rev_tr_spec">rev_tr_spec</a></span> <span class="kwd">in</span> <span class="id">Funs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> &lt;-<span class="id">Funs</span> <span class="kwd">in</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span> <span class="kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, <span class="id">P</span>)|]; <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="id">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree_Properties.of_list_norepet">PTree_Properties.of_list_norepet</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>. <span class="id">rewrite</span> 3 <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">right</span>; <span class="id">right</span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">Findmth</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hget</span> <span class="kwd">as</span> (<span class="id">loc_f</span> &amp; <span class="id">Findsym</span> &amp; <span class="id">Finddef</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#fundef">fundef</a></span> <span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))) <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">constructor</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">intro</span> <span class="id">Hin'</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">destruct</span> <span class="id">Hin'</span> <span class="kwd">as</span> [<span class="id">Eq</span>|<span class="id">Hin'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.Ident.html#Ids.prefix_injective">prefix_injective</a></span> <span class="kwd">in</span> <span class="id">Eq</span> <span class="kwd">as</span> (_&amp;<span class="id">Eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">Eq</span>. <span class="id">prove_str_to_pos_neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_in">m_good_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Good</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">Good</span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_remove_1">NoDupMembers_remove_1</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CompCertLib.html#NoDup_norepet">NoDup_norepet</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#NoDupMembers_make_out_vars">NoDupMembers_make_out_vars</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers">NoDupMembers</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> ++ <span class="id"><a href="Velus.Environment.html#Env.elements">Env.elements</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)) <span class="kwd">as</span> <span class="id">Nodup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app">NoDupMembers_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app">NoDupMembers_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.Environment.html#Env.NoDupMembers_elements">Env.NoDupMembers_elements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_r">NoDupMembers_app_r</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_l">NoDupMembers_app_l</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> <span class="id">x</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_temp_find_method">In_instance_methods_temp_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;<span class="id">c'</span>&amp;_&amp;<span class="id">m'</span>&amp;?&amp;?&amp;_&amp;<span class="id">Hmethod</span>&amp;?); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hmethod</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id">m'</span>) <span class="kwd">as</span> (_&amp;<span class="id">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> (<span class="id">Hvars</span>&amp;_). <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>. <span class="id">destruct</span> <span class="id">Hvars</span> <span class="kwd">as</span> (_&amp;<span class="id">Hvars</span>&amp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">contra</span>. <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">contra</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">intros</span> <span class="id">x</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">apply</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span> <span class="id">x</span>) <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#NotInMembers_app">NotInMembers_app</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">intro</span> <span class="id">Hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="Velus.Environment.html#Env.In_Members">Env.In_Members</a></span> <span class="kwd">in</span> <span class="id">Hin''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_temp_find_method">In_instance_methods_temp_find_method</a></span> <span class="kwd">in</span> <span class="id">Hin''</span> <span class="kwd">as</span> (?&amp;<span class="id">c'</span>&amp;_&amp;<span class="id">m'</span>&amp;?&amp;?&amp;_&amp;<span class="id">Hmethod</span>&amp;?); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> <span class="kwd">in</span> <span class="id">Hmethod</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id">m'</span>) <span class="kwd">as</span> (_&amp;<span class="id">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good">m_good</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> (<span class="id">Hvars</span>&amp;_). <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_map">Forall_map</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">Hvars</span>. <span class="id">destruct</span> <span class="id">Hvars</span> <span class="kwd">as</span> (<span class="id">Hvars</span>&amp;_&amp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_In">InMembers_In</a></span> <span class="kwd">in</span> <span class="id">Hin'</span> <span class="kwd">as</span> (?&amp;<span class="id">Hin'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="kwd">forall</span> <span class="id">x</span>, ~<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id">x</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">intros</span> ? <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#obc2c_not_in_temps">obc2c_not_in_temps</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id">contra</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">repeat</span> <span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint_cons_l">list_disjoint_cons_l</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> ?? <span class="id">Hin1</span> <span class="id">Hin2</span> ?; <span class="id">subst</span>; <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> 2 <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">Hin0</span>. <span class="id">destruct</span> <span class="id">Hin0</span> <span class="kwd">as</span> [<span class="id">Hin0</span>|[<span class="id">Hin0</span>|<span class="id">Hin0</span>]]; <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">Hin0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_instance_prefixed">make_out_temps_instance_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin0</span> <span class="kwd">as</span> (?&amp;?&amp;?); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#temp_not_in_translate_param_in">temp_not_in_translate_param_in</a></span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>, <span class="id">Hin1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_extcall_prefixed">make_out_temps_extcall_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin0</span> <span class="kwd">as</span> (?&amp;?); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#temp_not_in_translate_param_in">temp_not_in_translate_param_in</a></span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>, <span class="id">Hin1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> <span class="id">Hin0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>. <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> ((<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">repeat</span> <span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint_cons_l">list_disjoint_cons_l</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> ?? <span class="id">Hin1</span> <span class="id">Hin2</span> ?; <span class="id">subst</span>; <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> 2 <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">Hin0</span>. <span class="id">destruct</span> <span class="id">Hin0</span> <span class="kwd">as</span> [<span class="id">Hin0</span>|[<span class="id">Hin0</span>|<span class="id">Hin0</span>]]; <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span> <span class="kwd">in</span> <span class="id">Hin0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_instance_prefixed">make_out_temps_instance_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin0</span> <span class="kwd">as</span> (?&amp;?&amp;?); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#temp_not_in_translate_param_in">temp_not_in_translate_param_in</a></span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>, <span class="id">Hin1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_out_temps_extcall_prefixed">make_out_temps_extcall_prefixed</a></span> <span class="kwd">in</span> <span class="id">Hin0</span> <span class="kwd">as</span> (?&amp;?); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#temp_not_in_translate_param_in">temp_not_in_translate_param_in</a></span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>, <span class="id">Hin1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> <span class="id">Hin0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.Common.CommonList.html#In_InMembers">In_InMembers</a></span>. <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>) <span class="kwd">as</span> (<span class="id">y</span>, <span class="id">t</span>) ? ? : <span class="id">Out</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">set</span> (<span class="id">f</span>:= {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_return">fn_return</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_callconv">fn_callconv</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> := (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>)) :: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">loc_f</span>, <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">repeat</span> <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span>) <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">loc_f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">set</span> (<span class="id">f</span>:= {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_return">fn_return</a></span> := <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_callconv">fn_callconv</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> := (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id">y</span>, <span class="id">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_in_arg">make_in_arg</a></span> (<span class="id">y</span>, <span class="id">t</span>))) |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">loc_f</span>, <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">repeat</span> <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span>) <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">loc_f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint_cons_r">list_disjoint_cons_r</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> [<span class="id">Eq</span>|<span class="id">Hin'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_good_out">m_good_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id">y</span>, <span class="id">t</span>)) <span class="kwd">as</span> <span class="id">Good</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#AtomOrGensym_inv">AtomOrGensym_inv</a></span> <span class="kwd">in</span> <span class="id">Good</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">ident</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Out</span>. <span class="id">left</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>. <span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_InMembers">fst_InMembers</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#InMembers_translate_param_idem">InMembers_translate_param_idem</a></span> <span class="kwd">in</span> <span class="id">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span> <span class="id">y</span>) <span class="kwd">in</span> <span class="id">Nodup</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">Nodup</span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>, <span class="id">Out</span>; <span class="id">right</span>; <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_eq">InMembers_eq</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">set</span> (<span class="id">f</span>:= {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_return">fn_return</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_callconv">fn_callconv</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> := (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.obc2c">obc2c</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst_p">type_of_inst_p</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods_temp">instance_methods_temp</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_temps">make_out_temps</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#extcalls_temp">extcalls_temp</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_vars">m_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#return_with">return_with</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_stmt">translate_stmt</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.owner">owner</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_body">m_body</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties.caller">caller</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">loc_f</span>, <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">repeat</span> <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">loc_f</span>) <span class="kwd">with</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">loc_f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties.MethodProperties">MethodProperties</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.ClassProperties">ClassProperties</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="instance_methods_caract">instance_methods_caract</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ownerid</span> <span class="id">owner</span> <span class="id">prog'</span> <span class="id">callerid</span> <span class="id">caller</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id">ownerid</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">owner</span>, <span class="id">prog'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id">callerid</span> <span class="id">owner</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">caller</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">xt</span> =&gt; <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">xt</span>) &lt;= <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span> /\ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#wf_struct">wf_struct</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span> <span class="id">xt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#instance_methods">instance_methods</a></span> <span class="id">caller</span>)).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Findcl</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonTyping.html#wt_program_find_unit">wt_program_find_unit</a></span> <span class="kwd">as</span> [<span class="id">WT'</span>]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Typ.wt_class_find_method">wt_class_find_method</a></span> <span class="kwd">in</span> <span class="id">WT'</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> (?&amp;?) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_out_vars">make_out_vars</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hin</span> <span class="kwd">as</span> (((<span class="id">o</span>, <span class="id">fid</span>), <span class="id">cid</span>) &amp; <span class="id">E</span> &amp; <span class="id">Hin</span>); <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#setoid_in_key_elt">setoid_in_key_elt</a></span> <span class="kwd">in</span> <span class="id">Hin</span>; <span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#M.elements_2">M.elements_2</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">o</span>, <span class="id">cid</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_objs">c_objs</a></span> <span class="id">owner</span>)) <span class="kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#In_instance_methods_In_insts">In_instance_methods_In_insts</a></span>; <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#well_formed_instance_methods">well_formed_instance_methods</a></span> <span class="kwd">as</span> (<span class="id">c</span> &amp; <span class="id">cls</span> &amp; <span class="id">callee</span> &amp; <span class="id">Findc</span> &amp; <span class="id">Findcallee</span> &amp; <span class="id">Notnil</span>); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_In">find_unit_In</a></span>; <span class="id">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method_name">find_method_name</a></span> _ _ _ <span class="id">Findcallee</span>); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">Findmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#global_out_struct">global_out_struct</a></span> <span class="kwd">as</span> (<span class="id">co</span> &amp; <span class="id">Hco</span> &amp; ? &amp; <span class="id">Hmembers</span> &amp; ? &amp; ? &amp; ?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">reflexivity</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">simpl</span>; <span class="id">change</span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="kwd">with</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.gcenv">gcenv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> <span class="id">Hco</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">exists</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_name">m_name</a></span> <span class="id">callee</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_name">c_name</a></span> <span class="id">c</span>)), <span class="id">co</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">split</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hmembers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hinxt</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span> <span class="kwd">in</span> <span class="id">Hinxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hinxt</span> <span class="kwd">as</span> ((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">Eq</span> &amp; <span class="id">Hinxt</span>); <span class="id">inv</span> <span class="id">Eq</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">Hinxt</span> <span class="kwd">as</span> ((<span class="id">x</span>, <span class="id">t</span>) &amp; <span class="id">Eq</span> &amp; <span class="id">Hinxt</span>); <span class="id">inv</span> <span class="id">Eq</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">clight</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_class_sig">find_main_class_sig</a></span>: {<span class="id">c_prog_main</span> | <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c_prog_main</span>}.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="c_main">c_main</a></span>   : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.class">class</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class_sig">find_main_class_sig</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="prog_main">prog_main</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.program">program</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class_sig">find_main_class_sig</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="find_main_class">find_main_class</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_class">find_class</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_main">prog_main</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_main">prog_main</a></span>; <span class="id">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class_sig">find_main_class_sig</a></span> <span class="kwd">as</span> ((?&amp;?)&amp;?); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_step_sig">find_main_step_sig</a></span>: {<span class="id">m_step</span> | <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m_step</span>}.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class">find_main_class</a></span> <span class="kwd">in</span> <span class="id">En</span>; <span class="id">inv</span> <span class="id">En</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_reset_sig">find_main_reset_sig</a></span>: {<span class="id">m_reset</span> | <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.reset">reset</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m_reset</span>}.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class">find_main_class</a></span> <span class="kwd">in</span> <span class="id">En</span>; <span class="id">inv</span> <span class="id">En</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="main_step">main_step</a></span> : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_step_sig">find_main_step_sig</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="main_reset">main_reset</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.method">method</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_reset_sig">find_main_reset_sig</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="find_main_step">find_main_step</a></span> : <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_step_sig">find_main_step_sig</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="find_main_reset">find_main_reset</a></span>: <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.find_method">find_method</a></span> <span class="id"><a href="Velus.Ident.html#Ids.reset">reset</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#c_main">c_main</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_reset">main_reset</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_reset_sig">find_main_reset_sig</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="TranslateClasses">TranslateClasses</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">structs_funs</span> | <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#split">split</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>).(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span>)) = <span class="id">structs_funs</span>}.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="structs">structs</a></span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#composite_definition">composite_definition</a></span>) := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="funs">funs</a></span>   : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> * <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#globdef">AST.globdef</a></span> _ _)) := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tprog_defs">tprog_defs</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ce</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id">ce</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) [(<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.self">self</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>), <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span>)] ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> <span class="id">ce</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>)) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> '(<span class="id">f</span>, (<span class="id">tyin</span>, <span class="id">tyout</span>)) =&gt; <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_external">translate_external</a></span> <span class="id">f</span> <span class="id">tyin</span> <span class="id">tyout</span>) (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.externs">externs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#funs">funs</a></span> ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">if</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> [(<span class="id"><a href="Velus.Ident.html#Ids.sync_id">sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_sync">make_sync</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_sync_id">main_sync_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> []) ++<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(<span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.Ident.html#Ids.main_id">main_id</a></span>, <span class="id"><a href="Velus.ObcToClight.Generation.html#make_entry_point">make_entry_point</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>)].<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#funs">TranslateOk.funs</a></span>. <span class="id">setoid_rewrite</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>) <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateClasses">TranslateClasses</a></span>); <span class="id">inv</span> <span class="id">E</span>; <span class="id">simpl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_class">find_main_class</a></span> <span class="kwd">in</span> <span class="id">En</span>; <span class="id">inv</span> <span class="id">En</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#find_main_step">find_main_step</a></span> <span class="kwd">in</span> <span class="id">Estep</span>; <span class="id">inv</span> <span class="id">Estep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span> <span class="kwd">in</span> <span class="id">Trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, ?)|]; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">Trans</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="is_volatile">is_volatile</a></span> (<span class="id">xt</span>: <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span> * <span class="id"><a href="Velus.ObcToClight.Interface.html#Op.type">type</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">x</span>, <span class="id">t</span>) := <span class="id">xt</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">b</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">b</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="in_vardef_is_volatile">in_vardef_is_volatile</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> ((<span class="id"><a href="Velus.ObcToClight.Generation.html#vardef">vardef</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) (<span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id">x</span>, <span class="id">t</span>))) <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>.(<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span> (<span class="id">x</span>, <span class="id">t</span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ty</span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#merge_attributes">merge_attributes</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#mk_attr">mk_attr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> ((<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) ! (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (@<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Gvar">AST.Gvar</a></span> <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fundef">Clight.fundef</a></span> _<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#mkglobvar">AST.mkglobvar</a></span> <span class="id">ty</span> [<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Init_space">AST.Init_space</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">ty</span>)] <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">subst</span> <span class="id">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree_Properties.of_list_norepet">PTree_Properties.of_list_norepet</a></span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_defs_norepet">prog_defs_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Hget</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">Findsym</span> &amp; <span class="id">Finddef</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">b</span>; <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> <span class="id">Finddef</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_step_in">volatile_step_in</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> (<span class="id">x</span>, <span class="id">t</span>) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#in_vardef_is_volatile">in_vardef_is_volatile</a></span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tprog_defs">tprog_defs</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="id">left</span>; <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>, <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>); <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">t</span>); <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_step_out">volatile_step_out</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#is_volatile">is_volatile</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span>; <span class="id">intros</span> (<span class="id">x</span>, <span class="id">t</span>) <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#in_vardef_is_volatile">in_vardef_is_volatile</a></span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tprog_defs">tprog_defs</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="id">left</span>; <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_glob">prefix_glob</a></span> <span class="id">x</span>, <span class="id"><a href="Velus.ObcToClight.Interface.html#translate_type">translate_type</a></span> <span class="id">t</span>); <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">t</span>); <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tprog_main_proved_id">tprog_main_proved_id</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#prog_main">Ctypes.prog_main</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span> = <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> <span class="id">Trans</span>; <span class="id">inv_trans</span> <span class="id">Trans</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">make_program'</span> <span class="kwd">in</span> <span class="id">Trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">build_composite_env'</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)) <span class="kwd">as</span> [(<span class="id">ce</span>, ?)|]; <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#check_size_env">check_size_env</a></span> <span class="id">ce</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">structs</span>)); <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Trans</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.out_step">out_step</a></span>   := <span class="id"><a href="Velus.Ident.html#Ids.prefix">prefix</a></span> <span class="id"><a href="Velus.Ident.html#Ids.out">out</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="TranslateOk.t_out_step">t_out_step</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#type_of_inst">type_of_inst</a></span> (<span class="id"><a href="Velus.Ident.html#Ids.prefix_fun">prefix_fun</a></span> <span class="id"><a href="Velus.Ident.html#Ids.step">step</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="main_f">main_f</a></span>: <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#function">function</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_return">fn_return</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_callconv">fn_callconv</a></span> := <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#cc_default">AST.cc_default</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> := [];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> := <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ _ =&gt; [])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ =&gt; [(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.out_step">out_step</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.t_out_step">t_out_step</a></span>)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_param">translate_param</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">y</span> <span class="id">t</span> =&gt; [(<span class="id">y</span>, <span class="id">t</span>)])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> _ =&gt; [])  ++ <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> := <span class="id"><a href="Velus.ObcToClight.Generation.html#main_body">main_body</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="norepet_vars_main">norepet_vars_main</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span>; <span class="id">cases</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">using</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="norepet_params_main">norepet_params_main</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="disjoint_params_temps_main">disjoint_params_temps_main</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)) (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>)).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CompCertLib.html#NoDupMembers_disjoint">NoDupMembers_disjoint</a></span>; <span class="id">simpl</span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>) <span class="kwd">as</span> (?,?) (?,?) ? : <span class="id">Hout</span>; <span class="id">simpl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>, <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#translate_param_fst">translate_param_fst</a></span>, &lt;-<span class="id"><a href="Velus.Common.CommonList.html#fst_NoDupMembers">fst_NoDupMembers</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">auto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupin">m_nodupin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_nodupvars">m_nodupvars</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>) <span class="kwd">as</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_app_comm">Permutation.Permutation_app_comm</a></span> <span class="kwd">in</span> <span class="id">Nodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#NoDupMembers_app_InMembers">NoDupMembers_app_InMembers</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#InMembers_app">InMembers_app</a></span>; <span class="id">right</span>; <span class="id">rewrite</span> <span class="id">Hout</span>; <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="well_initialized">well_initialized</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">id</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Gvar">AST.Gvar</a></span> <span class="id">v</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.init_data_list_aligned">Genv.init_data_list_aligned</a></span> 0 (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#gvar_init">AST.gvar_init</a></span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">i</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#Init_addrof">AST.Init_addrof</a></span> <span class="id">i</span> <span class="id">ofs</span>) (<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#gvar_init">AST.gvar_init</a></span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">b</span>, <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) <span class="id">i</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_trans</span> <span class="id">TRANSL</span> <span class="kwd">as</span> <span class="id">Eexterns</span> <span class="id">En</span> <span class="id">Estep</span> <span class="id">Ereset</span> <span class="id">Eenums</span> <span class="kwd">with</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#build_ok">build_ok</a></span> _ _ _ _ _ _ _ <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span>) <span class="kwd">as</span> <span class="id">Hbuild</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#make_program_defs">make_program_defs</a></span> <span class="kwd">in</span> <span class="id">TRANSL</span>; <span class="id">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.TRANSL">TRANSL</a></span> <span class="kwd">as</span> (<span class="id">gce</span> &amp; <span class="id">Hbuild'</span> &amp; <span class="id">Eq</span>); <span class="id">clear</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hbuild</span> <span class="kwd">in</span> <span class="id">Hbuild'</span>; <span class="id">inv</span> <span class="id">Hbuild'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> <span class="id">Eq</span>; <span class="id">clear</span> <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">intros</span> * [<span class="id">Hinv</span>|<span class="id">Hinv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hinv</span>; <span class="id">simpl</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">split</span>; <span class="id">auto</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> * <span class="id">Hinio</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hinio</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hinio</span>; [<span class="id">discriminate</span>|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [<span class="id">Hinv</span>|[<span class="id">Hinv</span>|[<span class="id">Hinv</span>|[<span class="id">Hinv</span>|[<span class="id">Hinv</span>|<span class="id">Hinv</span>]]]]]; <span class="id">try</span> <span class="id">now</span> <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">induction</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">m</span>) ++ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Velus.ObcToClight.Generation.html#glob_bind">glob_bind</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_in">m_in</a></span> <span class="id">m</span>)) <span class="kwd">as</span> [|(<span class="id">x</span>, <span class="id">t</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">contradict</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [<span class="id">Hinv</span>|]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hinv</span>; <span class="id">simpl</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">split</span>; <span class="id">auto</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">intros</span> * <span class="id">Hinio</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hinio</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hinio</span>; [<span class="id">discriminate</span>|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">clear</span> <span class="id">En</span> <span class="id">Hbuild</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span> <span class="kwd">as</span> <span class="id">prog1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id">prog1</span>)) <span class="kwd">with</span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) <span class="kwd">in</span> <span class="id">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id">Heqprog1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">Heqprog1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">structs</span> <span class="id">funs</span> <span class="id">E</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#rev_tr_spec">rev_tr_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">prog1</span>.(<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.classes">classes</a></span>) <span class="kwd">as</span> [|<span class="id">c'</span> <span class="id">prog'</span>]; <span class="id">intros</span> * <span class="id">E</span> <span class="id">Hinv</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">E</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#split_last">split_last</a></span> <span class="kwd">in</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#split">split</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#translate_class">translate_class</a></span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.rev_prog">rev_prog</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.prog">prog</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id">prog'</span>))) <span class="kwd">as</span> (<span class="id">g</span>, <span class="id">d</span>) <span class="id">eqn</span>: <span class="id">Egd</span>; <span class="id">inv</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#concat_app">concat_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="id">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [|<span class="id">Hinv</span>]; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#make_methods">make_methods</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.c_methods">c_methods</a></span> <span class="id">c'</span>); <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">Hinv</span>; <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [<span class="id">Hinv</span>|]; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.Generation.html#translate_method">translate_method</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct_list</span> (<span class="id"><a href="Velus.ObcToClight.Interface.html#Obc.Syn.m_out">m_out</a></span> <span class="id">a</span>) <span class="kwd">as</span> (?, ?) ? ?; <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">destruct</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="id">try</span> <span class="id">now</span> <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#cons_is_app">cons_is_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#in_app">in_app</a></span> <span class="kwd">in</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hinv</span> <span class="kwd">as</span> [[<span class="id">Hinv</span>|<span class="id">Hinv</span>]|[<span class="id">Hinv</span>|<span class="id">Hinv</span>]]; <span class="id">try</span> <span class="id">inv</span> <span class="id">Hinv</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_main_ptr">find_main_ptr</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tge">tge</a></span> <span class="id">b</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="../../CompCert/doc/html/compcert.cfrontend.Ctypes.html#Internal">Ctypes.Internal</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> ((<span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.tprog">tprog</a></span>) ! <span class="id"><a href="Velus.Ident.html#Ids.main_proved_id">main_proved_id</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Velus.ObcToClight.Generation.html#make_main">make_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.main_node">main_node</a></span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_step">main_step</a></span>)) <span class="kwd">as</span> <span class="id">Hget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.AST.html#prog_defmap">AST.prog_defmap</a></span>; <span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.lib.Maps.html#PTree_Properties.of_list_norepet">PTree_Properties.of_list_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eapply</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#prog_defs_norepet">prog_defs_norepet</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#tprog_defs">tprog_defs</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>. <span class="id">rewrite</span> 3 <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">do</span> 3 <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk.do_sync">do_sync</a></span>; <span class="id">intro</span>; <span class="id">cases</span>; [<span class="id">do</span> 2 <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons</a></span>|]; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Hget</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">Findsym</span> &amp; <span class="id">Finddef</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">b</span>; <span class="id">split</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="../../CompCert/doc/html/compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>; <span class="id">subst</span> <span class="id">tge</span>; <span class="id">setoid_rewrite</span> <span class="id">Finddef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#main_f">main_f</a></span>; <span class="id">unfold</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#case_out">case_out</a></span>; <span class="id">simpl</span>; <span class="id">repeat</span> <span class="id">f_equal</span>; <span class="id">cases</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.ObcToClight.GenerationProperties.html#TranslateOk">TranslateOk</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">Consistent</span> <span class="id">prog_defs_norepet</span> <span class="id">make_members_co</span> : <span class="id">clight</span>.<br/>
<span class="id">Global</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">norepet_vars_main</span> <span class="id">norepet_params_main</span> <span class="id">disjoint_params_temps_main</span> : <span class="id">clight</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
