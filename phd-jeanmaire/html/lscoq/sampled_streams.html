
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module sampled_streams</title>
<meta name="description" content="Documentation of Coq module sampled_streams" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module sampled_streams</h1>
<div class="coq">
<br/>
<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html">Streams</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html">Bool</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="EqD.html">EqD</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leb_refl">leb_refl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b</span> <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leb_false_2">leb_false_2</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id">b</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span>; <span class="id">elim</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leb_true_2">leb_true_2</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span>; <span class="id">elim</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leb_antisym">leb_antisym</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b1</span> <span class="id">b2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b2</span> <span class="id">b1</span> -&gt;<span class="id">b1</span> = <span class="id">b2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span>; <span class="id">case</span> <span class="id">b1</span>; <span class="id">case</span> <span class="id">b2</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">leb_refl</span> <span class="id">leb_antisym</span> <span class="id">leb_true_2</span>: <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leb_trans">leb_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span> <span class="id">b3</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b1</span> <span class="id">b2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b2</span> <span class="id">b3</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> <span class="id">b1</span> <span class="id">b3</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b3</span>; <span class="id">case</span> <span class="id">b1</span>; <span class="id">case</span> <span class="id">b2</span>; <span class="id">case</span> <span class="id">b3</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EqSt_inv">EqSt_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Set</span>) (<span class="id">s1</span> <span class="id">s2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id">A</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">s1</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">s2</span> /\ <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">s1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">A</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unfold_Str">unfold_Str</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Set</span>) (<span class="id">x</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id">A</span>), <span class="id">x</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#Cons">Cons</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">x</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">A</span> <span class="id">x</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Scheme</span> <span class="id"><a name="and_indd">and_indd</a></span>:= <span class="id">Induction</span> <span class="kwd">for</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#and">and</a></span> <span class="id">Sort</span> <span class="kwd">Prop</span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fun_power">Fun_power</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fun_power.A">A</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fun_power.f">f</a></span>: <span class="id"><a href="sampled_streams.html#Fun_power.A">A</a></span>-&gt;<span class="id"><a href="sampled_streams.html#Fun_power.A">A</a></span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="funPower">funPower</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) : <span class="id"><a href="sampled_streams.html#Fun_power.A">A</a></span> -&gt; <span class="id"><a href="sampled_streams.html#Fun_power.A">A</a></span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#Fun_power.A">A</a></span>) =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) =&gt; (<span class="id">funPower</span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#Fun_power.f">f</a></span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funPower_commut">funPower_commut</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#Fun_power.A">A</a></span>), <span class="id"><a href="sampled_streams.html#Fun_power.f">f</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id">n</span> <span class="id">x</span>) = <span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sampled_streams.html#Fun_power">Fun_power</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">EqSt_reflex</span> <span class="id">sym_EqSt</span>: <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="samplElt">samplElt</a></span> (<span class="id">A</span>: <span class="kwd">Set</span>) : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="kwd">Set</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="None">None</a></span>: <span class="id">samplElt</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Any">Any</a></span>: <span class="id">A</span> -&gt; <span class="id">samplElt</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="kwd">Fail</span>: <span class="id">samplElt</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>  .<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="clock">clock</a></span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#Stream">Stream</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="samplStr">samplStr</a></span> (<span class="id">A</span>: <span class="kwd">Set</span>) : <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="kwd">Set</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="sp_cons">sp_cons</a></span>: <span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id">A</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>) -&gt; <span class="id">samplStr</span> <span class="id">A</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) -&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="A">A</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Sampled_streams_def">Sampled_streams_def</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Sampled_streams_def.A">A</a></span>: <span class="kwd">Set</span>. <br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="samplElt_true_invS">samplElt_true_invS</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) -&gt; <span class="kwd">Set</span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">a</span>: <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>), <span class="id">P</span> (<span class="id"><a href="sampled_streams.html#Any">Any</a></span> <span class="id">a</span>)) -&gt; <span class="id">P</span> (<span class="kwd">Fail</span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>), <span class="id">P</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">P</span> <span class="id">P_any</span> <span class="id">P_fail</span> <span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">as</span> <span class="id">y</span> <span class="kwd">in</span> <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id">_</span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">return</span> (<span class="kwd">if</span> <span class="id">b</span> <span class="kwd">return</span> (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">b</span>) -&gt; <span class="kwd">Set</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>)) <span class="id">y</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="sampled_streams.html#Any">Any</a></span> <span class="id">a</span> =&gt; <span class="id">P_any</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="kwd">Fail</span> <span class="id">_</span> =&gt; <span class="id">P_fail</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="samplElt_false_invS">samplElt_false_invS</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="kwd">Set</span>),<br/>
&nbsp;&nbsp;<span class="id">P</span> (<span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>) -&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>), (<span class="id">P</span> <span class="id">x</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">P</span> <span class="id">P_none</span> <span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">as</span> <span class="id">y</span> <span class="kwd">in</span> <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id">_</span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">return</span> (<span class="kwd">if</span> <span class="id">b</span> <span class="kwd">return</span> (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">b</span>) -&gt; <span class="kwd">Set</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">P</span>) <span class="id">y</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id">_</span> =&gt; <span class="id">P_none</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="samplElt_true_inv">samplElt_true_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">a</span>: <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>), <span class="id">P</span> (<span class="id"><a href="sampled_streams.html#Any">Any</a></span> <span class="id">a</span>)) -&gt; <span class="id">P</span> (<span class="kwd">Fail</span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>), <span class="id">P</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">P</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;<span class="id">change</span> ((<span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) =&gt; <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">return</span> (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">b</span>) -&gt; <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">P</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">x</span>);<br/>
&nbsp;&nbsp;<span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="samplElt_false_inv">samplElt_false_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> (<span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>) -&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>), <span class="id">P</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">P</span> <span class="id">H</span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;<span class="id">change</span> ((<span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) =&gt; <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">return</span> <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">b</span> -&gt; <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">P</span> <span class="id">x</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">x</span>);<br/>
&nbsp;&nbsp;<span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sp_hd">sp_hd</a></span> := <span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">as</span> <span class="id">_</span> <span class="kwd">in</span> <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id">_</span> <span class="id">c0</span> <span class="kwd">return</span> (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c0</span>)) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> <span class="id">a</span> <span class="id">_</span> =&gt; <span class="id">a</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sp_tl">sp_tl</a></span>  :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">as</span> <span class="id">_</span> <span class="kwd">in</span> <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id">_</span> <span class="id">c</span> <span class="kwd">return</span> <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unfold_samplStr">unfold_samplStr</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>:<span class="id"><a href="sampled_streams.html#clock">clock</a></span>)  (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">s</span> = <span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">c</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">x</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="sp_eq">sp_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="sp_eq_proof">sp_eq_proof</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> &gt;&gt;(<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sp_eq</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>) -&gt; <span class="id">sp_eq</span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_eq_refl">sp_eq_refl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_eq_refl</span>; <span class="id">intros</span> <span class="id">c</span> <span class="id">s</span>; <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_eq_inv">sp_eq_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt;<br/>
&nbsp;&nbsp;((<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> &gt;&gt; (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>)) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H1</span>; <span class="id">case</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_eq_sym">sp_eq_sym</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s2</span> <span class="id">s1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_eq_sym</span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_eq_inv">sp_eq_inv</a></span> <span class="id">H1</span>); <span class="id">constructor</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_eq_trans">sp_eq_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span>) (<span class="id">s3</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c3</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s2</span> <span class="id">s3</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s3</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_eq_trans</span>;<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">s3</span> <span class="id">H1</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_eq_inv">sp_eq_inv</a></span> <span class="id">H1</span>);<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_eq_inv">sp_eq_inv</a></span> <span class="id">H2</span>);<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<br/>
&nbsp;&nbsp;[<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.EqdepFacts.html#eq_dep_trans">eq_dep_trans</a></span> <span class="kwd">with</span> (<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>); <span class="id">auto</span><br/>
&nbsp;&nbsp;|<span class="id">apply</span> <span class="id">sp_eq_trans</span> <span class="kwd">with</span> (<span class="id">s2</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>); <span class="id">auto</span>].<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_eq_EqSt_clock">sp_eq_EqSt_clock</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_eq_EqSt_clock</span>;<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_eq_inv">sp_eq_inv</a></span> <span class="id">H</span>);<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<br/>
&nbsp;&nbsp;[<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_eq_param">eq_dep_eq_param</a></span> <span class="kwd">with</span> (<span class="id">P</span> := <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>) (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>);<br/>
&nbsp;&nbsp;<span class="id">auto</span><br/>
&nbsp;&nbsp;|<span class="id">eauto</span>].<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">CoFixpoint</span> <span class="id"><a name="clock_coerce">clock_coerce</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c2</span> := <span class="kwd">fun</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span> <span class="id">s</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="sampled_streams.html#EqSt_inv">EqSt_inv</a></span> <span class="id">H</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">H1</span> <span class="id">H2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">c2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_rec">eq_rec</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">_</span> <span class="id">H1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">clock_coerce</span> <span class="id">H2</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="sp_eq_clock_coerce">sp_eq_clock_coerce</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">H</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">c1</span> <span class="id">c2</span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s</span> (<span class="id"><a href="sampled_streams.html#clock_coerce">clock_coerce</a></span> <span class="id">H</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_eq_clock_coerce</span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span> <span class="id">s</span>; <span class="id">constructor</span>; <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id">pattern</span> (<span class="id"><a href="sampled_streams.html#EqSt_inv">EqSt_inv</a></span> <span class="id">H</span>); <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#and_indd">and_indd</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="EqD.html#eq_indd">eq_indd</a></span> (<span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">h</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span> = <span class="id">c</span>) =&gt; (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span> &gt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_rec">eq_rec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>) (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def.A">A</a></span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">c</span> <span class="id">h</span>))).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sampled_streams.html#Sampled_streams_def">Sampled_streams_def</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_eq_refl</span> <span class="id">sp_eq_sym</span>: <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="clock_inf">clock_inf</a></span> : <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="clock_inf_proof">clock_inf_proof</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clock_inf</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>) -&gt; <span class="id">clock_inf</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">clock_inf_proof</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="clock_inf_inv">clock_inf_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">leb</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>) /\ <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="clock_inf_refl">clock_inf_refl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">clock_inf_refl</span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#EqSt_inv">EqSt_inv</a></span> <span class="id">H</span>);<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<br/>
&nbsp;&nbsp;[<span class="id">rewrite</span> <span class="id">H0</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span><br/>
&nbsp;&nbsp;|<span class="id">auto</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">clock_inf_refl</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="clock_inf_antisym">clock_inf_antisym</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>:<span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c2</span> <span class="id">c1</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#EqSt">EqSt</a></span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">clock_inf_antisym</span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#clock_inf_inv">clock_inf_inv</a></span> <span class="id">H1</span>); <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#clock_inf_inv">clock_inf_inv</a></span> <span class="id">H2</span>);<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">clock_inf_antisym</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="clock_inf_trans">clock_inf_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c2</span> <span class="id">c3</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c3</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">clock_inf_trans</span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#clock_inf_inv">clock_inf_inv</a></span> <span class="id">H1</span>);<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#clock_inf_inv">clock_inf_inv</a></span> <span class="id">H2</span>); <span class="id">constructor</span>;<br/>
&nbsp;&nbsp;[<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#leb_trans">leb_trans</a></span> <span class="kwd">with</span> (<span class="id">b2</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>); <span class="id">auto</span><br/>
&nbsp;&nbsp;|<span class="id">apply</span> <span class="id">clock_inf_trans</span> <span class="kwd">with</span> (<span class="id">c2</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>); <span class="id">auto</span>].<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Sampled_streams_props">Sampled_streams_props</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Sampled_streams_props.A">A</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="clock_nth_tl">clock_nth_tl</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) : <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) =&gt; <span class="kwd">match</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> (<span class="id">clock_nth_tl</span> <span class="id">m</span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="clock_nth">clock_nth</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> <span class="id">s</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="clock_tl_nth_tl">clock_tl_nth_tl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> <span class="id">c</span>) = <span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="kwd">fix</span> <span class="id">clock_tl_nth_tl</span> 1; <span class="id">intros</span> <span class="id">n</span>; <span class="id">case</span> <span class="id">n</span>;<br/>
&nbsp;&nbsp;[<span class="id">simpl</span>; <span class="id">auto</span><br/>
&nbsp;&nbsp;|<span class="id">simpl</span>; <span class="id">intros</span> <span class="id">m</span> <span class="id">c</span>'; <span class="id">rewrite</span> &lt;- <span class="id">clock_tl_nth_tl</span>; <span class="id">auto</span>].<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="sp_nth_tl">sp_nth_tl</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> <span class="id">c</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">n</span> <span class="kwd">as</span> <span class="id">m</span> <span class="kwd">return</span> <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">m</span> <span class="id">c</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id">sp_nth_tl</span> <span class="id">m</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sp_nth">sp_nth</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">n</span> <span class="id">c</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> =&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_tl_nth_tl">sp_tl_nth_tl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&lt;&lt;<span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>&gt;&gt; (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_tl_nth_tl</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_nth_tl_plus">sp_nth_tl_plus</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&lt;&lt;<span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>&gt;&gt;(<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_nth_plus">sp_nth_plus</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&lt;&lt;<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>&gt;&gt; (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">m</span> <span class="id">c</span> <span class="id">s</span>;<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> (<span class="id">n</span> + <span class="id">m</span>) <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">b</span> := <span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> (<span class="id">n</span>+<span class="id">m</span>) <span class="id">c</span>) (<span class="id">U</span> := <span class="id"><a href="sampled_streams.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">a</span> := <span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">m</span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">d</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">d</span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s</span>)) ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>);<br/>
&nbsp;&nbsp;[<span class="id">constructor</span><br/>
&nbsp;&nbsp;|<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_nth_tl_plus">sp_nth_tl_plus</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_nth_plus</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_eq_sp_nth">sp_eq_sp_nth</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> <span class="id">s1</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">induction</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_eq_inv">sp_eq_inv</a></span> <span class="id">H</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_eq_inv">sp_eq_inv</a></span> <span class="id">H</span>); <span class="id">intros</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>))<br/>
&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s1</span>)) (<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">U</span> := <span class="id"><a href="sampled_streams.html#clock">clock</a></span>)<br/>
&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">d</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">d</span>) =&gt; (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s2</span>))));<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>))<br/>
&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s2</span>)) (<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">U</span> := <span class="id"><a href="sampled_streams.html#clock">clock</a></span>)<br/>
&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">d</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">d</span>) =&gt; (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>)) ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>));<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">IHn</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>) <span class="id">H2</span>).<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_nth_sp_eq">sp_nth_sp_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> <span class="id">s1</span>)==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt;(<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>;<br/>
&nbsp;<span class="kwd">cofix</span> <span class="id">sp_nth_sp_eq</span>;<br/>
&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>;<br/>
&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;<span class="id">apply</span> (<span class="id">H</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>).<br/>
&nbsp;<span class="id">apply</span> <span class="id">sp_nth_sp_eq</span>; <span class="id">intros</span> <span class="id">n</span>.<br/>
&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s1</span>))<br/>
&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>)) (<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">U</span> := <span class="id"><a href="sampled_streams.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">d</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">d</span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt;<br/>
&nbsp;<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>))); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>)) (<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">U</span> := <span class="id"><a href="sampled_streams.html#clock">clock</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">d</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">d</span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> <span class="id">s1</span>)) ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt;<br/>
&nbsp;<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">H</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_eq_sp_nth</span> <span class="id">sp_nth_sp_eq</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_no_Fail">is_no_Fail</a></span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">s</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="kwd">Fail</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="sp_wf">sp_wf</a></span> : <span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), (<span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="sp_wf_proof">sp_wf_proof</a></span> : <span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) -&gt; <span class="id">sp_wf</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">sp_wf</span> <span class="id">s</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_wf_inv">sp_wf_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) /\ <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="loc_nfstwf">loc_nfstwf</a></span> : <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;| <span class="id"><a name="loc_nfstwf_O">loc_nfstwf_O</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), <span class="id">loc_nfstwf</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">s</span><br/>
&nbsp;| <span class="id"><a name="loc_nfstwf_false">loc_nfstwf_false</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id">loc_nfstwf</span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">loc_nfstwf</span> <span class="id">n</span> <span class="id">s</span><br/>
&nbsp;| <span class="id"><a name="loc_nfstwf_true">loc_nfstwf_true</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">loc_nfstwf</span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">loc_nfstwf</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_O</span> <span class="id">loc_nfstwf_false</span> <span class="id">loc_nfstwf_true</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_S_n_inv">loc_nfstwf_S_n_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="kwd">Prop</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">P</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">P</span>) -&gt; <span class="id">P</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">P</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) =&gt; <span class="kwd">match</span> <span class="id">m</span> <span class="kwd">return</span> <span class="kwd">Prop</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> =&gt; (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">P</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id">P</span>) -&gt; <span class="id">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span>; <span class="id">case</span> <span class="id">n0</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_S_n_inv">loc_nfstwf_S_n_inv</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>) (<span class="id">s</span> := <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">generalize</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="sampled_streams.html#unfold_Str">unfold_Str</a></span> <span class="id">c</span>); <span class="id">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s</span>'; <span class="id">pattern</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>'); <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#samplElt_false_inv">samplElt_false_inv</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_false_inv">loc_nfstwf_false_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_S_n_inv">loc_nfstwf_S_n_inv</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m</span>) (<span class="id">s</span> := <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H3</span>; <span class="id">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">discriminate</span> <span class="id">H3</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_S_n_true_inv">loc_nfstwf_S_n_true_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_S_n_inv">loc_nfstwf_S_n_inv</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>) (<span class="id">s</span> := <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H3</span>; <span class="id">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">discriminate</span> <span class="id">H3</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_false_inv</span> <span class="id">loc_nfstwf_S_n_true_inv</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_true_inv">loc_nfstwf_true_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#pred">pred</a></span> <span class="id">n</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_true_inv</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_false_dec">eq_false_dec</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), {<span class="id">b</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>} + {<span class="id">b</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="pseudo_S">pseudo_S</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) =&gt; <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">then</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id">n</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="pseudo_pred">pseudo_pred</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) =&gt; <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">then</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#pred">pred</a></span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id">n</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pseudo_pred_S">pseudo_pred_S</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id">n</span> = <span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n</span> <span class="id">b</span>) <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pseudo_S_pred">pseudo_S_pred</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> (<span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">b</span>) <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pseudo_pred_S_eq">pseudo_pred_S_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">b</span> = <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pseudo_S_O_discr">pseudo_S_O_discr</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> = <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n</span> <span class="id">b</span> -&gt; <span class="id">n</span>=<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> /\ <span class="id">b</span>=<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H</span>; <span class="id">discriminate</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pseudo_S_le">pseudo_S_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> <span class="id">n2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> (<span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n2</span> <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span>; <span class="id">case</span> <span class="id">b</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pseudo_pred_le">pseudo_pred_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> <span class="id">n2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> (<span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n2</span>) <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#pseudo_pred_S_eq">pseudo_pred_S_eq</a></span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#pseudo_S_le">pseudo_S_le</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">pseudo_pred_le</span> <span class="id">pseudo_S_le</span> : <span class="id">sp_aux</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_inv">loc_nfstwf_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)); <span class="id">intro</span> <span class="id">H1</span>; <span class="id">rewrite</span> <span class="id">H1</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_S_n_n">loc_nfstwf_S_n_n</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">loc_nfstwf_S_n_n</span>; <span class="id">intros</span> <span class="id">n</span>; <span class="id">case</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_S_n_n</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_n_le">loc_nfstwf_n_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">m</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">H</span>; <span class="id">generalize</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span>; <span class="id">elim</span> <span class="id">H</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_S_n_n_tl">loc_nfstwf_S_n_n_tl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_S_n_n_tl</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_sp_eq">loc_nfstwf_sp_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s1</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">loc_nfstwf_sp_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H3</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">loc_nfstwf_sp_eq</span> <span class="kwd">with</span> (<span class="id">s1</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false_inv">loc_nfstwf_false_inv</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#EqSt_inv">EqSt_inv</a></span> (<span class="id"><a href="sampled_streams.html#sp_eq_EqSt_clock">sp_eq_EqSt_clock</a></span> <span class="id">H1</span>)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H3</span>; <span class="id">generalize</span> <span class="id">H2</span>; <span class="id">case</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>' <span class="id">H2</span>'; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) (<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">b</span> (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>'); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">loc_nfstwf_sp_eq</span> <span class="kwd">with</span> (<span class="id">s1</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_S_n_true_inv">loc_nfstwf_S_n_true_inv</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#EqSt_inv">EqSt_inv</a></span> (<span class="id"><a href="sampled_streams.html#sp_eq_EqSt_clock">sp_eq_EqSt_clock</a></span> <span class="id">H1</span>)); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_nth">loc_nfstwf_nth</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id">s</span> := <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span> <span class="id">s</span>; <span class="id">intros</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">b</span> (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">HR</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>)); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;devrait&nbsp;fonctionner&nbsp;avec&nbsp;juste<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;with&nbsp;eqD,&nbsp;sampled_str&nbsp;:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.EqdepFacts.html#eq_dep_sym">eq_dep_sym</a></span>, <span class="id"><a href="sampled_streams.html#sp_tl_nth_tl">sp_tl_nth_tl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_nth</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_lt_is_no_Fail">loc_nfstwf_lt_is_no_Fail</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">m</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;<span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span>; <span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">H2</span>; <span class="id">inversion</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>' <span class="id">HR</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">H2</span>; <span class="id">inversion</span> <span class="id">H2</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_sp_wf">loc_nfstwf_sp_wf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>) -&gt; <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">loc_nfstwf_sp_wf</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">constructor</span> 1.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">loc_nfstwf_sp_wf</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_wf_loc_nfstwf">sp_wf_loc_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_wf_loc_nfstwf</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span> <span class="id">n</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_wf_inv">sp_wf_inv</a></span> <span class="id">H</span>); <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)); <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_wf_loc_nfstwf</span> <span class="id">loc_nfstwf_sp_wf</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="glob2loc">glob2loc</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) : <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) =&gt; <span class="kwd">match</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> (<span class="id">glob2loc</span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob2loc_clock_nth">glob2loc_clock_nth</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span> = <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">n</span> <span class="id">c</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span>; <span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">rewrite</span> (<span class="id"><a href="sampled_streams.html#clock_tl_nth_tl">clock_tl_nth_tl</a></span> <span class="id">m</span> <span class="id">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut</span> ((<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)))))); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">HR</span> <span class="kwd">with</span> (<span class="id">c</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>).<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob2loc_S_le">glob2loc_S_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span>; <span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#glob2loc_clock_nth">glob2loc_clock_nth</a></span>;<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">n</span> <span class="id">c</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob2loc_le">glob2loc_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">glob2loc_le</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob2loc_preserves_le">glob2loc_preserves_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n</span> <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">HR</span> <span class="id">m</span> <span class="id">H1</span> <span class="id">c</span>; <span class="id">inversion</span> <span class="id">H1</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_lt_is_no_Fail_strong">loc_nfstwf_lt_is_no_Fail_strong</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">H2</span>; <span class="id">inversion_clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">HR</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">H2</span>; <span class="id">inversion_clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">HR</span> <span class="id">H1</span>; <span class="id">case</span> <span class="id">n0</span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">s</span>; <span class="id">clear</span> <span class="id">HR</span> <span class="id">H1</span> <span class="id">s</span>; <span class="id">rewrite</span> (<span class="id"><a href="sampled_streams.html#unfold_Str">unfold_Str</a></span> <span class="id">c</span>); <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id">s</span> := <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">pattern</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>); <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#samplElt_false_inv">samplElt_false_inv</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">HR</span> <span class="id">H1</span>; <span class="id">intros</span> <span class="id">n1</span> <span class="id">HR</span> <span class="id">H1</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n1</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n1</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">b</span> (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">HR</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">n1</span>) (<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)); <span class="id">intros</span> <span class="id">H2</span>; <span class="id">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">HR</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#glob2loc_clock_nth">glob2loc_clock_nth</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">n0</span> <span class="id">c</span>)); <span class="id">intros</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="locle">locle</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="locle_O">locle_O</a></span> : <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id">locle</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">n</span> <span class="id">c1</span> <span class="id">c2</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="locle_S">locle_S</a></span> : <span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">m1</span> <span class="id">n2</span> <span class="id">m2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m1</span> (<span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m2</span> = <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n2</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> <span class="id">n2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">Bool.leb</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">locle</span> <span class="id">n1</span> <span class="id">n2</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>) -&gt; <span class="id">locle</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_le">locle_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> <span class="id">n2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span>' <span class="id">m1</span> <span class="id">n2</span>' <span class="id">m2</span> <span class="id">c1</span>' <span class="id">c2</span>' <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">H5</span>;<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>; <span class="id">generalize</span> <span class="id">H1</span> <span class="id">H4</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>'); <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H6</span> <span class="id">H7</span>; <span class="id">rewrite</span> <span class="id">H7</span>; <span class="id">simpl</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n1</span>'); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">n2</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>'); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">locle_le</span> : <span class="id">sp_aux</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_S_false_false">locle_S_false_false</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>) -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n1</span>) (<span class="id">n2</span> := <span class="id">n2</span>); <span class="id">auto</span>;<br/>
&nbsp;&nbsp;<span class="id">try</span> (<span class="id">rewrite</span> <span class="id">H1</span>); <span class="id">try</span> (<span class="id">rewrite</span> <span class="id">H2</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_le">locle_le</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_S_false_true">locle_S_false_true</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>) -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n2</span>) <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n1</span>) (<span class="id">n2</span> := <span class="id">n2</span>); <span class="id">auto</span>;<br/>
&nbsp;&nbsp;<span class="id">try</span> (<span class="id">rewrite</span> <span class="id">H1</span>); <span class="id">try</span> (<span class="id">rewrite</span> <span class="id">H2</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_le">locle_le</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_S_true_true">locle_S_true_true</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>) -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n2</span>) <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n1</span>) (<span class="id">n2</span> := <span class="id">n2</span>); <span class="id">auto</span>;<br/>
&nbsp;&nbsp;<span class="id">try</span> (<span class="id">rewrite</span> <span class="id">H1</span>); <span class="id">try</span> (<span class="id">rewrite</span> <span class="id">H2</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_le">locle_le</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">locle_O</span> <span class="id">locle_S_false_false</span> <span class="id">locle_S_false_true</span> <span class="id">locle_S_true_true</span> : <span class="id">sp_aux</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_le_1">locle_le_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">m1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m1</span> <span class="id">n1</span> -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">m1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">m1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">clear</span> <span class="id">H</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sp_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span>;  <span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_le_2">locle_le_2</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span> <span class="id">m2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n2</span> <span class="id">m2</span> -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">m2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">locle_le_2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">m2</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">clear</span> <span class="id">H</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sp_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">m1</span> <span class="id">n2</span> <span class="id">m3</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">H5</span> <span class="id">H6</span>; <span class="id">case</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m2</span>' <span class="id">H7</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n1</span>) (<span class="id">n2</span> := <span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m2</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>)) ; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#pseudo_S_pred">pseudo_S_pred</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">m3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sp_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sp_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">locle_le_2</span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n1</span>) (<span class="id">n2</span> := <span class="id">n2</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H7</span>; <span class="id">rewrite</span> <span class="id">H2</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_glob2loc_le">locle_glob2loc_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span>) -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n</span> <span class="id">m</span> <span class="id">c</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#const">const</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">locle_glob2loc_le</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">m</span> <span class="id">c</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_O">locle_O</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span>; <span class="id">case</span> <span class="id">m</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m0</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n0</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n2</span> := <span class="id">m0</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#pseudo_S_pred">pseudo_S_pred</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m0</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">locle_glob2loc_le</span>; <span class="id">generalize</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob2loc_le_locle">glob2loc_le_locle</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span> <span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n</span> <span class="id">m</span> <span class="id">c</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#const">const</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>; <span class="id">elim</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">H</span>; <span class="id">generalize</span> (<span class="id"><a href="sampled_streams.html#locle_le">locle_le</a></span> <span class="id">H</span>); <span class="id">intro</span> <span class="id">H</span>'; <span class="id">inversion</span> <span class="id">H</span>'; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m0</span> <span class="id">HR</span> <span class="id">n</span> <span class="id">c</span> <span class="id">H</span>; <span class="id">inversion_clear</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="sampled_streams.html#pseudo_S">pseudo_S</a></span> <span class="id">n1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">injection</span> <span class="id">H1</span>; <span class="id">intro</span> <span class="id">H5</span>; <span class="id">rewrite</span> &lt;- <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob2loc_clock_inf">glob2loc_clock_inf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c1</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>; <span class="id">inversion_clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H0</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>); <span class="id">simpl</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>; <span class="id">discriminate</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_clock_inf">locle_clock_inf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c1</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c2</span>) <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">locle_clock_inf</span>; <span class="id">intros</span> <span class="id">n</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_O">locle_O</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n0</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n2</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n0</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>)); <span class="id">inversion_clear</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob2loc_clock_inf">glob2loc_clock_inf</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_trans">locle_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span> <span class="id">n3</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n2</span> <span class="id">n3</span> <span class="id">c2</span> <span class="id">c3</span> -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n3</span> <span class="id">c1</span> <span class="id">c3</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">locle_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span>; <span class="id">case</span> <span class="id">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_O">locle_O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span>' <span class="id">n2</span> <span class="id">n3</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">generalize</span> <span class="id">H1</span>; <span class="id">case</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n2</span>' <span class="id">c2</span>' <span class="id">c3</span>' <span class="id">H</span>; <span class="id">generalize</span> (<span class="id"><a href="sampled_streams.html#locle_le">locle_le</a></span> <span class="id">H</span>); <span class="id">intro</span> <span class="id">H</span>'; <span class="id">inversion</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n2</span>' <span class="id">m2</span>' <span class="id">n3</span>' <span class="id">m3</span>' <span class="id">c2</span>' <span class="id">c3</span>' <span class="id">h1</span> <span class="id">h2</span> <span class="id">h3</span> <span class="id">h4</span> <span class="id">h5</span> <span class="id">h6</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n1</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n2</span> := <span class="id">n3</span>'); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#pseudo_S_pred">pseudo_S_pred</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">h6</span>; <span class="id">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">n2</span>'); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">n4</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">n0</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">h1</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>'); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">h6</span>; <span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#leb_trans">leb_trans</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">locle_trans</span> <span class="kwd">with</span> (<span class="id">n2</span> := <span class="id">n2</span>') (<span class="id">c2</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c2</span>'); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">h6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_le_1">locle_le_1</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_le_2">locle_le_2</a></span> <span class="kwd">with</span> (<span class="id">n2</span> := <span class="id">n4</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">h1</span>; <span class="id">rewrite</span> <span class="id">H0</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>'); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_glob2loc_trans">locle_glob2loc_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n2</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c2</span>) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n1</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c1</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">m</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob2loc_le_locle">glob2loc_le_locle</a></span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_trans">locle_trans</a></span> <span class="kwd">with</span> (<span class="id">n2</span> := <span class="id">n2</span>) (<span class="id">c2</span> := <span class="id">c2</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_glob2loc_le">locle_glob2loc_le</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.micromega.Lia.html">Lia</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locle_S_S">locle_S_S</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n1</span> <span class="id">n2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n2</span>) <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">locle_S_S</span>; <span class="id">intros</span> <span class="id">n1</span> <span class="id">n2</span> <span class="id">c1</span> <span class="id">c2</span>; <span class="id">case</span> <span class="id">n1</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_O">locle_O</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span>'; <span class="id">case</span> <span class="id">n2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span>; <span class="id">generalize</span> (<span class="id"><a href="sampled_streams.html#locle_le">locle_le</a></span> <span class="id">H1</span>); <span class="id">intros</span> <span class="id">H2</span>; <span class="id">inversion</span> <span class="id">H2</span>. <span class="id">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n2</span>' <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_S">locle_S</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n1</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n2</span> := <span class="id"><a href="sampled_streams.html#pseudo_pred">pseudo_pred</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n2</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#pseudo_S_pred">pseudo_S_pred</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#pseudo_S_pred">pseudo_S_pred</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">H1</span>; <span class="id">generalize</span> <span class="id">H</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>); <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H5</span> <span class="id">H6</span>; <span class="id">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">rewrite</span> <span class="id">H6</span>; <span class="id">simpl</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H5</span> <span class="id">H6</span>; <span class="id">generalize</span> <span class="id">H0</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>); <span class="id">simpl</span>; <span class="id">intros</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">locle_S_S</span>; <span class="id">inversion_clear</span> <span class="id">H1</span>; <span class="id">generalize</span> <span class="id">H</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>); <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H5</span> <span class="id">H6</span>; <span class="id">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">rewrite</span> <span class="id">H6</span>; <span class="id">simpl</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">injection</span> <span class="id">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">H0</span>; <span class="id">intro</span> <span class="id">H0</span>; <span class="id">rewrite</span> <span class="id">H0</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_le_1">locle_le_1</a></span> <span class="kwd">with</span> (<span class="id">n1</span> := <span class="id">n0</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H5</span> <span class="id">H6</span>; <span class="id">generalize</span> <span class="id">H0</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>); <span class="id">simpl</span>; <span class="id">intros</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">injection</span> <span class="id">H7</span>; <span class="id">clear</span> <span class="id">H7</span>; <span class="id">intro</span> <span class="id">H7</span>; <span class="id">rewrite</span> <span class="id">H7</span>; <span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_le_1">locle_le_1</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H7</span>; <span class="id">eapply</span> <span class="id"><a href="sampled_streams.html#locle_le_1">locle_le_1</a></span>; <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="flat_ord">flat_ord</a></span> (<span class="id">b1</span> <span class="id">b2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b1</span>) (<span class="id">y</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b2</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="kwd">Fail</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <br/>
&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">x</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id">y</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="flat_ord_inv_leb">flat_ord_inv_leb</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b1</span>) (<span class="id">y</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#leb">Bool.leb</a></span> <span class="id">b2</span> <span class="id">b1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">x</span> <span class="id">y</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> &lt;- <span class="id"><a href="EqD.html#eq_dep_eq_param">eq_dep_eq_param</a></span> <span class="kwd">with</span> (<span class="id">P</span> := <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">y</span> := <span class="id">y</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="flat_ord_is_no_Fail">flat_ord_is_no_Fail</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b1</span>) (<span class="id">y</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">x</span> <span class="id">y</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">case</span> <span class="id">y</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H</span>; <span class="id">inversion_clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">a</span> <span class="id">H</span>; <span class="id">inversion_clear</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="flat_ord_refl">flat_ord_refl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b1</span>) (<span class="id">y</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id">y</span>) -&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">x</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="flat_ord_antisym">flat_ord_antisym</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b1</span>) (<span class="id">y</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">y</span> <span class="id">x</span> -&gt; (<span class="id">x</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">x</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">y</span>; <span class="id">case</span> <span class="id">y</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="flat_ord_trans">flat_ord_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b1</span> <span class="id">b2</span> <span class="id">b3</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b1</span>) (<span class="id">y</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b2</span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b3</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">y</span> <span class="id">z</span> -&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">x</span> <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b3</span> <span class="id">x</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">y</span> <span class="id">z</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>) (<span class="id">y</span> := <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">q</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">q</span> <span class="id">z</span> -&gt; (<span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id">z</span>)); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">a</span> <span class="id">y</span> <span class="id">z</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#Any">Any</a></span> <span class="id">a</span>) (<span class="id">y</span> := <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">q</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">q</span> <span class="id">z</span> -&gt; (<span class="id"><a href="sampled_streams.html#Any">Any</a></span> <span class="id">a</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id">z</span>)); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">flat_ord_refl</span> <span class="id">flat_ord_antisym</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sp_inf">sp_inf</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_refl">sp_inf_refl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_trans">sp_inf_trans</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>)<br/>
&nbsp;&nbsp;(<span class="id">s3</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c3</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s2</span> <span class="id">s3</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s3</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">s3</span> <span class="id">n</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">m</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#flat_ord_trans">flat_ord_trans</a></span> <span class="kwd">with</span> (<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_proof_O">sp_inf_proof_O</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>) -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span> <span class="id">m</span> <span class="id">H1</span>; <span class="id">inversion</span> <span class="id">H1</span>;<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_O_inv">sp_inf_O_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id">H</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_proof_S_n">sp_inf_proof_S_n</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>) -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">intros</span> <span class="id">n</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span> <span class="id">HR</span> <span class="id">m</span>; <span class="id">case</span> <span class="id">m</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m0</span> <span class="id">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m0</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m0</span> <span class="id">s1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m0</span> <span class="id">s2</span>)))); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span> <span class="id">sampled_str</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m0</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m0</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m0</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>))) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>)); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">HR</span> <span class="id">m0</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_S_n_inv">sp_inf_S_n_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s1</span> <span class="id">s2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s2</span>) /\ <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">intros</span> <span class="id">n</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">constructor</span> 1.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>)))); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s1</span>))) (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">z</span>)); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_loc_nfstwf">sp_inf_loc_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">p</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c1</span>) <span class="id">s1</span> -&gt; <span class="kwd">forall</span> (<span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id">p</span>= <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">p</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">sp_inf_loc_nfstwf</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">p</span>; <span class="id">case</span> <span class="id">p</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;<span class="id">clear</span> <span class="id">p</span>; <span class="id">intro</span> <span class="id">p</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">s1</span> <span class="id">H1</span> <span class="id">c2</span> <span class="id">s2</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">inversion</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">c1</span> <span class="id">s1</span> <span class="id">H1</span> <span class="id">c2</span> <span class="id">s2</span> <span class="id">H2</span> <span class="id">H3</span>;  <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_inf_S_n_inv">sp_inf_S_n_inv</a></span> <span class="id">H2</span>); <span class="id">intros</span> <span class="id">H5</span> <span class="id">H6</span>;<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="sampled_streams.html#flat_ord_inv_leb">flat_ord_inv_leb</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H5</span>); <span class="id">intros</span> <span class="id">H7</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c2</span>)).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">sp_inf_loc_nfstwf</span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n0</span>) (<span class="id">s1</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c1</span>)); <span class="id">intro</span> <span class="id">H8</span>; <span class="id">rewrite</span> <span class="id">H8</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#flat_ord_is_no_Fail">flat_ord_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s1</span>); <span class="id">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="id">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n0</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c1</span>)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">sp_inf_loc_nfstwf</span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n0</span>) (<span class="id">s1</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s1</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="id">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_S_n_true_inv">loc_nfstwf_S_n_true_inv</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_loc_nfstwf_ext">sp_inf_loc_nfstwf_ext</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s1</span> -&gt; <span class="kwd">forall</span> (<span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">n</span> <span class="id">c1</span> <span class="id">s1</span> <span class="id">H1</span> <span class="id">c2</span> <span class="id">s2</span> <span class="id">H2</span> <span class="id">m</span> <span class="id">H3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">H2</span> <span class="id">m</span> <span class="id">H3</span>); <span class="id">lapply</span> (<span class="id"><a href="sampled_streams.html#loc_nfstwf_lt_is_no_Fail">loc_nfstwf_lt_is_no_Fail</a></span> <span class="id">H1</span> (<span class="id">m</span> := <span class="id">m</span>)); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span>  (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">m</span> <span class="id">c1</span>) (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">m</span> <span class="id">c2</span>) (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span> <span class="id">x</span>; <span class="id">case</span> <span class="id">x</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">b</span>' <span class="id">y</span> <span class="id">H</span>; <span class="id">elim</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_S_n">sp_inf_S_n</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">intros</span> <span class="id">n</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">H2</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_nth_tl_inf">sp_nth_tl_inf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s1</span>) (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">n</span> <span class="id">m</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span> <span class="id">m0</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id">m0</span> <span class="id">m</span>) <span class="id">s1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m0</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> <span class="id">z</span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m0</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s2</span>))); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id">m0</span> <span class="id">m</span>) <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m0</span> (<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id">m0</span> + <span class="id">m</span>) <span class="id">s1</span>) <span class="id">z</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_le_eq_refl">sp_inf_le_eq_refl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span> ==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">n</span> <span class="id">H</span> <span class="id">m</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l">eq_dep_ind_l</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span>) (<span class="id">y</span> :=<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">z</span>: <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">b</span>) =&gt; <span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span>) <span class="id">z</span>) ; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span> <span class="id">eqD</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_sp_eq">sp_inf_sp_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_inf_sp_eq</span> <span class="id">sp_inf_proof_O</span> <span class="id">sp_inf_proof_S_n</span> <span class="id">sp_inf_S_n</span><br/>
&nbsp;&nbsp;<span class="id">sp_inf_refl</span> <span class="id">sp_inf_O_inv</span> <span class="id">sp_inf_S_n_inv</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_inf_wf_eq">sp_inf_wf_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c1</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span>) -&gt; <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id">s1</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_nth_sp_eq">sp_nth_sp_eq</a></span>; <span class="id">intros</span> <span class="id">n</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_loc_nfstwf_ext">sp_inf_loc_nfstwf_ext</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>); <span class="id">auto</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">sampled_str</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="elt_fail">elt_fail</a></span> (<span class="id">b</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">b</span> <span class="kwd">as</span> <span class="id">c</span> <span class="kwd">return</span> (<span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; (<span class="kwd">Fail</span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; (<span class="id"><a href="sampled_streams.html#None">None</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">CoFixpoint</span> <span class="id"><a name="undef">undef</a></span> (<span class="id">c</span>:<span class="id"><a href="sampled_streams.html#clock">clock</a></span>) : <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#elt_fail">elt_fail</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)) (<span class="id">undef</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="undef_min">undef_min</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id">c</span>) <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_proof_O">sp_inf_proof_O</a></span>; <span class="id">simpl</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span> <span class="id">s</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_proof_S_n">sp_inf_proof_S_n</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">undef_min</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="sp_app_n">sp_app_n</a></span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) {<span class="id">struct</span> <span class="id">n</span>}:<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> <span class="id">c</span>) -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">n</span> <span class="kwd">as</span> <span class="id">p</span> <span class="kwd">return</span> <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">p</span> <span class="id">c</span>) -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="kwd">fun</span> <span class="id">s2</span> =&gt; <span class="id">s2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt; <span class="kwd">fun</span> <span class="id">s2</span> =&gt; <span class="id">sp_app_n</span> <span class="id">s1</span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span>) <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_app_nth_tl">sp_app_nth_tl</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> <span class="id">c</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> <span class="id">s1</span> <span class="id">_</span> <span class="id">s2</span>) = <span class="id">s2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span>' <span class="id">s1</span> <span class="id">s2</span>; <span class="id">rewrite</span> <span class="id">HR</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_nth_app_lt">sp_nth_app_lt</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">m</span> <span class="id">c</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">n</span> <span class="id">m</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> <span class="id">s1</span> <span class="id">_</span> <span class="id">s2</span>) = <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> <span class="id">s1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">intros</span> <span class="id">n</span> <span class="id">m</span>; <span class="id">generalize</span> <span class="id">n</span>; <span class="id">clear</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">m</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">intros</span> <span class="id">m</span>' <span class="id">HR</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">H</span>; <span class="id">inversion_clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#sp_app_nth_tl">sp_app_nth_tl</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">HR</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_app_eq_1">sp_app_eq_1</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span> <span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) (<span class="id">s3</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> <span class="id">c</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s1</span> = <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> <span class="id">s2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> <span class="id">s1</span> <span class="id">_</span> <span class="id">s3</span> = <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> <span class="id">s2</span> <span class="id">_</span> <span class="id">s3</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">s3</span> <span class="id">H</span>; <span class="id">rewrite</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_app_sp_inf_1">sp_app_sp_inf_1</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s1</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>) (<span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> (<span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> <span class="id">s1</span> <span class="id">_</span> <span class="id">s2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span>;  <span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#sp_nth_app_lt">sp_nth_app_lt</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="glob_nfstwf">glob_nfstwf</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) : <span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">c</span> <span class="id">s</span> =&gt; <span class="kwd">match</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) /\ <span class="id">glob_nfstwf</span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_nfstwf_p1">glob_nfstwf_p1</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_nfstwf_p2">glob_nfstwf_p2</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#is_no_Fail">is_no_Fail</a></span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">c</span> <span class="id">s</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">glob_nfstwf_p2</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_nfstwf_S_n_n">glob_nfstwf_S_n_n</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_p2">glob_nfstwf_p2</a></span>; <span class="id">case</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">glob_nfstwf_S_n_n</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_nfstwf_n_le">glob_nfstwf_n_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">m</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span> <span class="id">H</span>; <span class="id">generalize</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H1</span>; <span class="id">elim</span> <span class="id">H</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sp_wf_glob_nfstwf">sp_wf_glob_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id">s</span> -&gt; <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span> <span class="id">n</span>; <span class="id">generalize</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">clear</span> <span class="id">H</span> <span class="id">s</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_nfstwf_sp_wf">glob_nfstwf_sp_wf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>), (<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>) -&gt; <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">glob_nfstwf_sp_wf</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">constructor</span> 1.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id">H</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">glob_nfstwf_sp_wf</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">case</span> (<span class="id">H</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_nfstwf_glob_nfstwf">loc_nfstwf_glob_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">HR</span> <span class="id">c</span>; <span class="id">rewrite</span> (<span class="id"><a href="sampled_streams.html#unfold_Str">unfold_Str</a></span> <span class="id">c</span>); <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>);<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">intros</span> <span class="id">s</span> <span class="id">H</span>; <span class="id">constructor</span> 1; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> := <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">HR</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_S_n_true_inv">loc_nfstwf_S_n_true_inv</a></span> <span class="kwd">with</span> (<span class="id">s</span> := <span class="id">s</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">pattern</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>); <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#samplElt_false_inv">samplElt_false_inv</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">HR</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false_inv">loc_nfstwf_false_inv</a></span> <span class="kwd">with</span> (<span class="id">s</span> := <span class="id">s</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glob_nfstwf_loc_nfstwf">glob_nfstwf_loc_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
&nbsp;&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;-&gt; <span class="id">m</span> = <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span>); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">glob_nfstwf_loc_nfstwf</span>; <span class="id">intros</span> <span class="id">n</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span> <span class="id">H0</span>; <span class="id">rewrite</span> <span class="id">H0</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>' <span class="id">m</span> <span class="id">c</span> <span class="id">s</span> <span class="id">H</span> <span class="id">H0</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">glob_nfstwf_loc_nfstwf</span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span>; <span class="id">rewrite</span> <span class="id">H1</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span>; <span class="id">generalize</span> <span class="id">H0</span>; <span class="id">case</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>' <span class="id">H</span>'; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">glob_nfstwf_loc_nfstwf</span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>'; <span class="id">simpl</span> <span class="kwd">in</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">injection</span> <span class="id">H</span>'; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">glob2loc_S_le</span> <span class="id">glob2loc_preserves_le</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html">Peano_dec</a></span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="loc2glob_x">loc2glob_x</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) {<span class="id">struct</span> <span class="id">k</span>} : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">k</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id">m</span> - <span class="id">k</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">x</span>)) <span class="id">c</span>)) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span>) =&gt; <span class="id">m</span> - (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span>) =&gt; <span class="id">loc2glob_x</span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc2glob">loc2glob</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) := <span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">m</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="minus_le_pred">minus_le_pred</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> &lt;= <span class="id">n</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id">n</span> - (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>)) = <span class="id">n</span> - <span class="id">m</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>' <span class="id">HR</span> <span class="id">m</span>; <span class="id">case</span> <span class="id">m</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">minus_n_O</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_x_prop">loc2glob_x_prop</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">k</span> &lt;= <span class="id">m</span> -&gt; <span class="id">n</span> &lt;= <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> <span class="id">k</span>) <span class="id">c</span> &lt;= <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">k</span>) <span class="id">c</span> = <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span>; <span class="id">elim</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">minus_n_O</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k</span>' <span class="id">HR</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">simpl</span>; <span class="id">case</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H</span>'; <span class="id">apply</span> <span class="id">HR</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>'; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_prop">loc2glob_prop</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">n</span> &lt;= <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span>) <span class="id">c</span> = <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_x_prop">loc2glob_x_prop</a></span>; <span class="id">auto</span>;<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">minus_n_n</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_x_inv_le">loc2glob_x_inv_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">k</span> &lt;= <span class="id">m</span> -&gt; <span class="id">m</span> - <span class="id">k</span> &lt;= <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) <span class="id">c</span> <span class="id">m</span> <span class="id">k</span> &lt;= <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span>; <span class="id">elim</span> <span class="id">k</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k</span>' <span class="id">HR</span> <span class="id">H1</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id">HR</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>; <span class="id">rewrite</span> <span class="id">H0</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_inv_le">loc2glob_inv_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) <span class="id">c</span> <span class="id">m</span> &lt;= <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_x_inv_le">loc2glob_x_inv_le</a></span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">minus_n_n</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_x_le">loc2glob_x_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">k</span> &lt;= <span class="id">m</span> -&gt; <span class="id">m</span> - <span class="id">k</span> &lt;= <span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span>; <span class="id">elim</span> <span class="id">k</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k</span>' <span class="id">HR</span> <span class="id">H1</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>));<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> <span class="id">k</span>'); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">loc2glob_x_le</span>' :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">k</span> &lt;= <span class="id">m</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span>; <span class="id">elim</span> <span class="id">k</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">minus_n_O</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">HR</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n0</span>)) <span class="id">c</span>)); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_le">loc2glob_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> &lt;= <span class="id">m</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">apply</span> <span class="id">loc2glob_x_le</span>'.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc2glob_le</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_x_S_m_eq">loc2glob_x_S_m_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">k</span> &lt;= <span class="id">m</span> -&gt; <span class="id">n</span> &lt;= <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id">k</span>) <span class="id">c</span> &lt;= <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">k</span> = <span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span>; <span class="id">elim</span> <span class="id">k</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">minus_n_O</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span>)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">case</span> <span class="id">H4</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k</span>' <span class="id">HR</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">generalize</span> <span class="id">HR</span>; <span class="id">clear</span> <span class="id">HR</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H1</span>); <span class="id">intros</span> <span class="id">HR</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>)); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id">HR</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>)); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_S_m_eq">loc2glob_S_m_eq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">n</span> &lt;= <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> = <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">n</span> <span class="id">c</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_x_S_m_eq">loc2glob_x_S_m_eq</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">minus_n_n</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_x_n_S_lt">loc2glob_x_n_S_lt</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id">k</span> &lt;= <span class="id">m</span> -&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id">k</span>) <span class="id">c</span> &lt;= <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">n</span> &lt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span> <span class="id">k</span> &lt; <span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span> <span class="id">m</span> <span class="id">k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span>; <span class="id">elim</span> <span class="id">k</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">minus_n_O</a></span>; <span class="id">intros</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Lt.html#lt_not_le">lt_not_le</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k</span>' <span class="id">HR</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>;<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>; <span class="id">rewrite</span> &lt;- <span class="id">H</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_Sn_n">le_Sn_n</a></span> <span class="id">n</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eq_dec">Nat.eq_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H0</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Lt.html#lt_le_trans">lt_le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> <span class="id">k</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="kwd">match</span> <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') <span class="id">c</span> <span class="kwd">as</span> <span class="id">n0</span> <span class="kwd">return</span> ({<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id">n0</span>} + {<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> &lt;&gt; <span class="id">n0</span>}) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n0</span> =&gt; <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">h</span>; <span class="id">rewrite</span> &lt;- <span class="id">h</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">elim</span> <span class="id">H</span>; <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">h</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_x_le">loc2glob_x_le</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="kwd">match</span> <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') <span class="id">c</span> <span class="kwd">as</span> <span class="id">n1</span> <span class="kwd">return</span> ({<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id">n1</span>} + {<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> &lt;&gt; <span class="id">n1</span>}) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m0</span> =&gt; <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">h</span>; <span class="id">rewrite</span> &lt;- <span class="id">h</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">elim</span> <span class="id">H</span>; <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">_</span> <span class="id">H</span>'; <span class="id">apply</span> <span class="id">HR</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">H</span>'; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H1</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Le.html#le_trans">le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) <span class="id">c</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_S_lt">loc2glob_S_lt</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>)  (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c</span>) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">n</span> <span class="id">c</span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span> <span class="id">m</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_x_n_S_lt">loc2glob_x_n_S_lt</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">minus_n_n</a></span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_O">loc2glob_O</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">c</span> <span class="id">m</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">intros</span> <span class="id">c</span> <span class="id">m</span>; <span class="id">case</span> <span class="id">m</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>'; <span class="id">rewrite</span> &lt;- (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">minus_n_n</a></span> <span class="id">m</span>'); <span class="id">simpl</span>; <span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_x_tl_true">loc2glob_x_tl_true</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">k</span> <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) <span class="id">k</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob_x">loc2glob_x</a></span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) <span class="id">m</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">k</span> <span class="id">H2</span>; <span class="id">elim</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">minus_n_O</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">intros</span> <span class="id">k</span>' <span class="id">HR</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="sampled_streams.html#minus_le_pred">minus_le_pred</a></span> <span class="id">H3</span>); <span class="id">simpl</span>; <span class="id">rewrite</span> <span class="id">H2</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id">m</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>')) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#sumbool_rec">sumbool_rec</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> : {<span class="id">n</span> = <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)} +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">n</span> &lt;&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)} =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))} +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">a</span> : <span class="id">n</span> = <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> : <span class="id">n</span> &lt;&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#not_eq_S">not_eq_S</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) <span class="id">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> (<span class="id">n</span> &lt;&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) <span class="id">H5</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">_</span>; <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">h</span>; <span class="id">rewrite</span> &lt;- <span class="id">H5</span> <span class="kwd">in</span> <span class="id">h</span>; <span class="id">elim</span> <span class="id">h</span>; <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#sumbool_rec">sumbool_rec</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> : {<span class="id">n</span> = <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)} +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">n</span> &lt;&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)} =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))} +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">a</span> : <span class="id">n</span> = <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> &lt;&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>))) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> : <span class="id">n</span> &lt;&gt; <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#not_eq_S">not_eq_S</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) <span class="id">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> (<span class="id">n</span> = <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id">m</span> - <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>') (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) <span class="id">H6</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">h</span>; <span class="id">inversion</span> <span class="id">h</span> <span class="kwd">as</span> [<span class="id">h</span>']; <span class="id">rewrite</span> &lt;- <span class="id">h</span>' <span class="kwd">in</span> <span class="id">H6</span>; <span class="id">elim</span> <span class="id">H6</span>; <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id">HR</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc2glob_tl_true">loc2glob_tl_true</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) <span class="id">m</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">n</span> <span class="id">m</span> <span class="id">H1</span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">minus_n_n</a></span> <span class="id">m</span>); <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#eq_nat_dec">eq_nat_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (0)).<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>; <span class="id">discriminate</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_x_tl_true">loc2glob_x_tl_true</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sampled_streams.html#Sampled_streams_props">Sampled_streams_props</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_O</span> <span class="id">loc_nfstwf_false</span> <span class="id">loc_nfstwf_true</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_wf_loc_nfstwf</span> <span class="id">loc_nfstwf_sp_wf</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_inf_proof_O</span> <span class="id">sp_inf_proof_S_n</span> <span class="id">sp_inf_S_n</span><br/>
&nbsp;&nbsp;<span class="id">sp_inf_refl</span> <span class="id">sp_inf_O_inv</span> <span class="id">sp_inf_sp_eq</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc2glob_le</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">glob2loc_S_le</span> <span class="id">glob2loc_preserves_le</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nfstwf_conversion">nfstwf_conversion</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_false_inv</span> <span class="id">loc_nfstwf_S_n_n_tl</span> : <span class="id">sampled_str</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_glob_nfstwf</span> <span class="id">glob_nfstwf_loc_nfstwf</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="nfstwf_conversion.A">A</a></span> <span class="id"><a name="nfstwf_conversion.B">B</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nfstwf_function_convert">nfstwf_function_convert</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>) -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nfstwf_function_convert_inf">nfstwf_function_convert_inf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c1</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c2</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">k</span> <span class="id">m</span> <span class="id">c1</span> <span class="id">c2</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">k</span> <span class="id">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">f</span> <span class="id">n</span> <span class="id">H</span> <span class="id">m</span> <span class="id">s</span> <span class="id">H0</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_glob_nfstwf">loc_nfstwf_glob_nfstwf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k</span> <span class="id">H2</span>; <span class="id">assert</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">k</span> <span class="id">c1</span> <span class="id">m</span>) <span class="id">c1</span> = <span class="id">k</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_prop">loc2glob_prop</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_glob2loc_trans">locle_glob2loc_trans</a></span> <span class="kwd">with</span> (<span class="id">n2</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c2</span>) (<span class="id">c2</span> := <span class="id">c2</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_loc_nfstwf">glob_nfstwf_loc_nfstwf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_n_le">glob_nfstwf_n_le</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nfstwf_function_convert_sup">nfstwf_function_convert_sup</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c1</span> <span class="id">c2</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c1</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c2</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#clock_inf">clock_inf</a></span> <span class="id">c2</span> <span class="id">c1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#locle">locle</a></span> <span class="id">k</span> <span class="id">m</span> <span class="id">c2</span> <span class="id">c1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">k</span> (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c1</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">f</span> <span class="id">n</span> <span class="id">H</span>' <span class="id">H</span> <span class="id">m</span> <span class="id">s</span> <span class="id">H0</span> <span class="id">H1</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_glob_nfstwf">loc_nfstwf_glob_nfstwf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> <span class="id">c1</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#locle_clock_inf">locle_clock_inf</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nfstwf_function_convert_S">nfstwf_function_convert_S</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">c</span>) -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">f</span> <span class="id">n</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">s</span> <span class="id">H2</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>  <span class="id"><a href="sampled_streams.html#loc_nfstwf_glob_nfstwf">loc_nfstwf_glob_nfstwf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html#O_or_S">Peano_dec.O_or_S</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>; <span class="id">intros</span> <span class="id">m_l</span> <span class="id">H4</span>; <span class="id">rewrite</span> &lt;- <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> (<span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> <span class="id">m_l</span> <span class="id">c</span> <span class="id">m</span>) <span class="id">c</span> = <span class="id">m_l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc2glob_prop">loc2glob_prop</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le_S_n">le_S_n</a></span>; <span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_loc_nfstwf">glob_nfstwf_loc_nfstwf</a></span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_n_le">glob_nfstwf_n_le</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H4</span>; <span class="id">rewrite</span> &lt;- <span class="id">H4</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nfstwf_function_convert_S_recip">nfstwf_function_convert_S_recip</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>) (<span class="id">t</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">n</span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id">t</span> = <span class="id">f</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">foo</span>; <span class="id">intros</span> <span class="id">c</span> <span class="id">f</span> <span class="id">n</span> <span class="id">H1</span> <span class="id">m</span> <span class="id">s</span> <span class="id">t</span> <span class="id">Hl</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">foo</span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) =&gt; <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id">f</span> (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#pred">pred</a></span> <span class="id">n</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>' <span class="id">s</span>' <span class="id">Hl</span>' <span class="id">H</span>; <span class="id">case</span> (<span class="id">H1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>') (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">s</span>')); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">Hl</span> <span class="id">Hl</span>'; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>'; <span class="id">inversion</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_p2">glob_nfstwf_p2</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>); <span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">intros</span> <span class="id">x</span>; <span class="id">pattern</span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#samplElt_false_inv">samplElt_false_inv</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">Hl</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>'; <span class="id">inversion</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span>;  <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#unfold_samplStr">unfold_samplStr</a></span>; <span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id">H1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">s</span>); <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">Hl</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H</span>'; <span class="id">inversion</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">Hl</span> <span class="id">H2</span>; <span class="id">case</span> <span class="id">m</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m1</span> <span class="id">Hl</span>' <span class="id">H2</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">foo</span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) =&gt; <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id">f</span> (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>) (<span class="id">n</span> := <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#pred">pred</a></span> <span class="id">n</span>)) ; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>' <span class="id">s</span>' <span class="id">H5</span> <span class="id">H6</span>; <span class="id">case</span> (<span class="id">H1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>') (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">s</span>')); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">Hl</span>' <span class="id">H5</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H7</span>; <span class="id">inversion</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">simpl</span>; <span class="id">intros</span> <span class="id">n</span>' <span class="id">h1</span> <span class="id">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Lt.html#lt_n_S">Lt.lt_n_S</a></span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Lt.html#lt_le_trans">Lt.lt_le_trans</a></span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="sampled_streams.html#loc2glob">loc2glob</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m1</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>) <span class="id">n</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_p2">glob_nfstwf_p2</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m1</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#loc2glob_prop">loc2glob_prop</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">Hl</span>'; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intro</span> <span class="id">H7</span>; <span class="id">inversion</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#unfold_samplStr">unfold_samplStr</a></span>; <span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="rec0_nfstwf_inc_loc2glob">rec0_nfstwf_inc_loc2glob</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">f</span> <span class="id">H1</span> <span class="id">n</span> <span class="id">s</span> <span class="id">H2</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#nfstwf_function_convert_S">nfstwf_function_convert_S</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="rec0_nfstwf_inc_glob2loc">rec0_nfstwf_inc_glob2loc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>), <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">f</span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
&nbsp;<span class="id">cut</span> (<span class="kwd">forall</span> (<span class="id">c</span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>) (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">f</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> <span class="id">c</span>) (<span class="id">t</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.B">B</a></span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id">t</span> = <span class="id">f</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">foo</span>; <span class="id">intros</span> <span class="id">c</span> <span class="id">f</span> <span class="id">H1</span> <span class="id">n</span> <span class="id">s</span> <span class="id">t</span> <span class="id">H2</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#hd">hd</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">foo</span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) =&gt; <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id">f</span> (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">s</span>' <span class="id">H</span>; <span class="id">case</span> (<span class="id">H1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">s</span>')); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_p2">glob_nfstwf_p2</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>); <span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">intros</span> <span class="id">x</span>; <span class="id">pattern</span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#samplElt_false_inv">samplElt_false_inv</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#unfold_samplStr">unfold_samplStr</a></span>; <span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id">H1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">s</span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H2</span>; <span class="id">case</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n1</span> <span class="id">H5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">foo</span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.Streams.html#tl">tl</a></span> <span class="id">c</span>)) =&gt; <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> (<span class="id">f</span> (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span> <span class="id">s</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">s</span>' <span class="id">H6</span>; <span class="id">case</span> (<span class="id">H1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> <span class="id">s</span>) <span class="id">s</span>')); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob_nfstwf_p2">glob_nfstwf_p2</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_is_no_Fail">loc_nfstwf_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n1</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#unfold_samplStr">unfold_samplStr</a></span>; <span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sampled_streams.html#nfstwf_conversion">nfstwf_conversion</a></span>.<br/>
<br/>
<br/>
<span class="id">Unset</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
