
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module sp_rec</title>
<meta name="description" content="Documentation of Coq module sp_rec" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module sp_rec</h1>
<div class="coq">
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="sampled_streams.html">sampled_streams</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SP_rec">SP_rec</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_tl_nth_tl</span> : <span class="id">sampled_str</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">sp_eq_sp_nth</span> <span class="id">sp_nth_sp_eq</span> : <span class="id">sampled_str</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">loc_nfstwf_S_n_n</span> <span class="id">loc_nfstwf_S_n_n_tl</span> <span class="id">loc_nfstwf_nth</span> : <span class="id">sampled_str</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">undef_min</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.A">A</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SP_rec.Rec1">Rec1</a></span>.<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1.B">B</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1.C">C</a></span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span>. <br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1.F1">F1</a></span>: (<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)) -&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1.P">P</a></span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec1.F1_lfp">F1_lfp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id">s1</span> <span class="id">x</span>) (<span class="id">s2</span> <span class="id">x</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">s1</span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">s2</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec1.F1_nfstwf_inc">F1_nfstwf_inc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id">s</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">s</span> <span class="id">x</span>).<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_loc_nfstwf">powerF1_loc_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span> ; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_lfp">powerF1_lfp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s1</span> <span class="id">s2</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">m</span> (<span class="id">s1</span> <span class="id">x</span>) (<span class="id">s2</span> <span class="id">x</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">x</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> <span class="id">s2</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_increases">powerF1_increases</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">simpl</span>; <span class="id">apply</span> <span class="id"><a href="sp_rec.html#powerF1_lfp">powerF1_lfp</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">powerF1_loc_nfstwf</span> <span class="id">powerF1_increases</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_nth">powerF1_nth</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">n</span> <span class="id">m</span> -&gt; <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;= <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>)) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span> <span class="id">H</span>'; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.Eqdep.html#EqdepTheory.eq_dep_eq">eq_dep_eq</a></span> <span class="kwd">with</span> (<span class="id">P</span> := <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span>);<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_loc_nfstwf_ext">sp_inf_loc_nfstwf_ext</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SP_rec.Rec1.Rec1_ext">Rec1_ext</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1.Rec1_ext.r1">r1</a></span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec1.Rec1_ext.r1_inv">r1_inv</a></span> : <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.Rec1_ext.r1">r1</a></span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.Rec1_ext.r1">r1</a></span> <span class="id">x</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="r1_prop">r1_prop</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.Rec1_ext.r1">r1</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>' <span class="id">HR</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span>'; <span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_trans">sp_inf_trans</a></span> <span class="kwd">with</span> (<span class="id">s2</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.Rec1_ext.r1">r1</a></span> <span class="id">x</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="r1_ext">r1_ext</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.Rec1_ext.r1">r1</a></span> <span class="id">x</span>) = <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">symmetry</span>; <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.Eqdep.html#EqdepTheory.eq_dep_eq">eq_dep_eq</a></span> <span class="kwd">with</span> (<span class="id">P</span> := <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span>); <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_loc_nfstwf_ext">sp_inf_loc_nfstwf_ext</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n</span>);<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#r1_prop">r1_prop</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.Rec1_ext">Rec1_ext</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SP_rec.Rec1.sp_app_powerF1_undef">sp_app_powerF1_undef</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>))) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>) <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>)) (<span class="id">s</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>) <span class="id">_</span> (<span class="id">s</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">s</span> <span class="id">x</span> <span class="id">H</span>'; <span class="id">simpl</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_app_eq_1">sp_app_eq_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inversion_clear</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id"><a href="sp_rec.html#powerF1_nth">powerF1_nth</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">CoFixpoint</span> <span class="id"><a name="rec1_tmp">rec1_tmp</a></span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span>' := <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">s</span> <span class="kwd">in</span> <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id">s</span>' <span class="id">x</span>)) (<span class="id">rec1_tmp</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">s</span>' <span class="id">x</span>).<br/>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SP_rec.Rec1.rec1_tmp_power">rec1_tmp_power</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> <span class="id">_</span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">x</span>; <span class="id">rewrite</span> (<span class="id"><a href="sampled_streams.html#unfold_samplStr">unfold_samplStr</a></span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>)); <span class="id">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rec1_tmp_S_n_m">rec1_tmp_S_n_m</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;==&lt;&lt; <span class="id"><a href="sampled_streams.html#samplElt">samplElt</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> &gt;&gt; <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">m</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_power">rec1_tmp_power</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_map_eq_dep">eq_dep_map_eq_dep</a></span> <span class="kwd">with</span> (<span class="id">F</span> := <span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span> (<span class="id">A</span> := <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span>)) (<span class="id">y</span> := <span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="kwd">fun</span> <span class="id">z</span> : <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span> =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)))) <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">n0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_cons">sp_cons</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth_tl">clock_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_hd">sp_hd</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="kwd">fun</span> <span class="id">z</span> : <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span> =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="kwd">fun</span> <span class="id">z</span> : <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span> =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)))) <span class="id">x</span>))));<br/>
&nbsp;&nbsp;&nbsp;<span class="id">refine</span> (<span class="id"><a href="sampled_streams.html#sp_tl_nth_tl">sp_tl_nth_tl</a></span> <span class="id">n0</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rec1_tmp_wf">rec1_tmp_wf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">rec1_tmp_wf</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">rewrite</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_power">rec1_tmp_power</a></span>; <span class="id">constructor</span> 1; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_tl">sp_tl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_lt_is_no_Fail">loc_nfstwf_lt_is_no_Fail</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">m</span> := <span class="id">n</span>) (<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">rec1_tmp_wf</span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id">x</span> := <span class="id">x</span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SP_rec.Rec1.rec1_tmp_lemma_aux">rec1_tmp_lemma_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="kwd">fun</span> (<span class="id">y</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">y</span>)) <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;<span class="id">intros</span> <span class="id">n</span> <span class="id">x</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lapply</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1_lfp">F1_lfp</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">y</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">n</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">n</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">y</span>)) (<span class="id">n</span> := <span class="id">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">H</span> <span class="id">x</span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">x</span> <span class="id">H</span>' <span class="id">m</span> <span class="id">H</span>; <span class="id">case</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#sp_app_nth_tl">sp_app_nth_tl</a></span>; <span class="id">rewrite</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_power">rec1_tmp_power</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="sampled_streams.html#flat_ord">flat_ord</a></span> (<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="sp_rec.html#powerF1_increases">powerF1_increases</a></span> <span class="id">m</span> (<span class="id">m</span> := <span class="id">m</span>)); <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">generalize</span> <span class="id"><a href="sampled_streams.html#sp_app_sp_inf_1">sp_app_sp_inf_1</a></span>;  <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SP_rec.Rec1.rec1_tmp_lemma">rec1_tmp_lemma</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="kwd">fun</span> (<span class="id">y</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">intros</span> <span class="id">n</span>; <span class="id">elim</span> <span class="id">n</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_proof_O">sp_inf_proof_O</a></span>; <span class="id">simpl</span>; <span class="id">exact</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_lemma_aux">rec1_tmp_lemma_aux</a></span> <span class="id">m</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">HR</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_proof_S_n">sp_inf_proof_S_n</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_lemma_aux">rec1_tmp_lemma_aux</a></span> <span class="id">m</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_trans">sp_inf_trans</a></span> <span class="kwd">with</span> (<span class="id">s2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_nth_tl">sp_nth_tl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">y</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">y</span>)) <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id">HR</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_nth_tl_inf">sp_nth_tl_inf</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">n0</span>) (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s2</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> (<span class="id">y</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#sp_app_n">sp_app_n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>)) <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">z</span>))) <span class="id">y</span>)) <span class="id">x</span>);<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1_lfp">F1_lfp</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_power">rec1_tmp_power</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1.sp_app_powerF1_undef">sp_app_powerF1_undef</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<div class="doc">fixpoint operator *</div>
<span class="kwd">Definition</span> <span class="id"><a name="rec1">rec1</a></span> (<span class="id">y</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) : <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">y</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> (<span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)) <span class="id">y</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rec1_wf">rec1_wf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> (<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">unfold</span> <span class="id"><a href="sp_rec.html#rec1">rec1</a></span>; <span class="id">apply</span> <span class="id"><a href="sp_rec.html#rec1_tmp_wf">rec1_tmp_wf</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id">x</span> := <span class="id">x</span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="rec1_inv">rec1_inv</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> (<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_wf_eq">sp_inf_wf_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>; <span class="id">unfold</span> <span class="id"><a href="sp_rec.html#rec1">rec1</a></span>; <span class="id">generalize</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.rec1_tmp_lemma">rec1_tmp_lemma</a></span> (<span class="id">n</span> := <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>); <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#rec1_wf">rec1_wf</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="rec1_uniq">rec1_uniq</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">r1</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.C">C</a></span> <span class="id">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> (<span class="id">r1</span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1.F1">F1</a></span> <span class="id">r1</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_eq">sp_eq</a></span> (<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">x</span>) (<span class="id">r1</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">r</span> <span class="id">H</span> <span class="id">H</span>' <span class="id">x</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_nth_sp_eq">sp_nth_sp_eq</a></span>; <span class="id">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="sp_rec.html#r1_ext">r1_ext</a></span> <span class="id"><a href="sp_rec.html#rec1_inv">rec1_inv</a></span>); <span class="id">auto</span>; <span class="id">rewrite</span> (<span class="id"><a href="sp_rec.html#r1_ext">r1_ext</a></span> <span class="id">H</span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1">Rec1</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SP_rec.Rec1_lfp">Rec1_lfp</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_lfp.B">B</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_lfp.C">C</a></span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id"><a name="SP_rec.Rec1_lfp.F2">F2</a></span>: (<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">x</span>))  -&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_lfp.n">n</a></span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec1_lfp.F1_inf_F2">F1_inf_F2</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> (<span class="id">s1</span> <span class="id">x</span>) (<span class="id">s2</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">s1</span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">s2</span> <span class="id">x</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="power_F1_F2_inf">power_F1_F2_inf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s1</span> <span class="id">s2</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> (<span class="id">s1</span> <span class="id">x</span>) (<span class="id">s2</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">m</span> <span class="id">s1</span> <span class="id">x</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">m</span> <span class="id">s2</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>; <span class="id">elim</span> <span class="id">m</span>; <span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">rec1_tmp_S_n_m</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rec1_tmp_lfp">rec1_tmp_lfp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#minus">minus</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">_</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>)) <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">_</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>)) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span> <span class="id">m0</span>; <span class="id">generalize</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">elim</span> <span class="id">m0</span>; <span class="id">clear</span> <span class="id">H</span> <span class="id">m</span> <span class="id">m0</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H</span>; <span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">lapply</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1_inf_F2">F1_inf_F2</a></span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>))).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span>; <span class="id">intros</span>; <span class="id">apply</span> (<span class="id">H0</span> <span class="id">x</span> <span class="id">m</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sp_rec.html#power_F1_F2_inf">power_F1_F2_inf</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">HR</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H1</span>; <span class="id">inversion</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_n">Minus.minus_n_n</a></span>; <span class="id">intros</span> <span class="id">H2</span>; <span class="id">inversion</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_Sn_m">Minus.minus_Sn_m</a></span>; <span class="id">auto</span>; <span class="id">intros</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="EqD.html#eq_dep_ind_l2">eq_dep_ind_l2</a></span> <span class="kwd">with</span> (<span class="id">x1</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n0</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>)) (<span class="id">x2</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> <span class="id">n0</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y1</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n0</span>) (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y2</span> := <span class="id"><a href="sampled_streams.html#sp_nth">sp_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n0</span>) (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.C">C</a></span> <span class="id">z</span>))) <span class="id">x</span>));<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">eqD</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">HR</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id">H0</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id">H0</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="rec1_lfp">rec1_lfp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.B">B</a></span>), <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.n">n</a></span> (<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">_</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F1">F1</a></span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">_</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp.F2">F2</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x</span>; <span class="id">lapply</span> (<span class="id"><a href="sp_rec.html#rec1_tmp_lfp">rec1_tmp_lfp</a></span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="id">x</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Minus.html#minus_n_O">Minus.minus_n_O</a></span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_lfp">Rec1_lfp</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf">Rec1_loc_nfstwf</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.B">B</a></span>: <span class="kwd">Set</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.C">C</a></span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span> -&gt; <span class="id"><a href="sampled_streams.html#clock">clock</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.F1">F1</a></span>: (<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>)) -&gt; <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.P">P</a></span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.n">n</a></span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.F1_nfstwf_inc_limited">F1_nfstwf_inc_limited</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id">m</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> (<span class="id">s</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">s</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_loc_nfstwf_limited">powerF1_loc_nfstwf_limited</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span>; <span class="id">elim</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec1_loc_nfstwf.F1_lfp">F1_lfp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>)) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id">s1</span> <span class="id">x</span>) (<span class="id">s2</span> <span class="id">x</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">s1</span> <span class="id">x</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">s2</span> <span class="id">x</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_increases_le">powerF1_increases_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">k1</span> <span class="id">k2</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>), <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">k1</span> <span class="id">k2</span> -&gt; <span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">k1</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">k2</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">H</span>; <span class="id">elim</span> <span class="id">H</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">k2</span>' <span class="id">H1</span> <span class="id">HR</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_trans">sp_inf_trans</a></span> <span class="kwd">with</span> (<span class="id">s2</span> := <span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">k2</span>' (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#powerF1_increases">powerF1_increases</a></span> <span class="kwd">with</span> (<span class="id">F1</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span>) (<span class="id">P</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="powerF1_loc_nfstwf_lim">powerF1_loc_nfstwf_lim</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>)) <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>)) (<span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">m</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#sp_inf_loc_nfstwf">sp_inf_loc_nfstwf</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">m</span>) (<span class="id">s1</span> := <span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>)) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>) <span class="id">x</span>);<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#powerF1_loc_nfstwf_limited">powerF1_loc_nfstwf_limited</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#powerF1_increases_le">powerF1_increases_le</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#glob2loc_le">glob2loc_le</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.micromega.Lia.html">Lia</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rec1_tmp_loc_nfstwf">rec1_tmp_loc_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span> <span class="id">k</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#plus">plus</a></span> <span class="id">m</span> (<span class="id"><a href="sampled_streams.html#glob2loc">glob2loc</a></span> <span class="id">k</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>))) <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="kwd">forall</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">z</span>)),<br/>
&nbsp;&nbsp;&nbsp;<span class="id">s</span> = <span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">k</span> (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">m</span> (<span class="id"><a href="sp_rec.html#rec1_tmp">rec1_tmp</a></span> <span class="id">_</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">k</span> <span class="id">s</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="kwd">cofix</span> <span class="id">rec1_tmp_loc_nfstwf</span>; <span class="id">intros</span> <span class="id">m</span>; <span class="id">case</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_O">loc_nfstwf_O</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0</span> <span class="id">k</span> <span class="id">x</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">s</span> <span class="id">H3</span>; <span class="id">case</span> (<span class="id"><a href="sampled_streams.html#eq_false_dec">eq_false_dec</a></span> (<span class="id"><a href="sampled_streams.html#clock_nth">clock_nth</a></span> <span class="id">k</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_false">loc_nfstwf_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">rec1_tmp_loc_nfstwf</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n0</span>) (<span class="id">x</span> := <span class="id">x</span>) (<span class="id">k</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>) (<span class="id">s</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#glob2loc_clock_nth">glob2loc_clock_nth</a></span>; <span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>; <span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">H4</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_true">loc_nfstwf_true</a></span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sampled_streams.html#loc_nfstwf_lt_is_no_Fail_strong">loc_nfstwf_lt_is_no_Fail_strong</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>) (<span class="id">m</span> := <span class="id">k</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> := <span class="id"><a href="sampled_streams.html#funPower">funPower</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>) (<span class="kwd">fun</span> (<span class="id">z</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>) =&gt; <span class="id"><a href="sampled_streams.html#undef">undef</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.C">C</a></span> <span class="id">z</span>)) <span class="id">x</span>); <span class="id">auto</span> <span class="kwd">with</span> <span class="id">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="sp_rec.html#powerF1_loc_nfstwf_lim">powerF1_loc_nfstwf_lim</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#glob2loc_clock_nth">glob2loc_clock_nth</a></span>; <span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">simpl</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">rec1_tmp_loc_nfstwf</span> <span class="kwd">with</span> (<span class="id">m</span> := <span class="id">n0</span>) (<span class="id">x</span> := <span class="id">x</span>) (<span class="id">k</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>) (<span class="id">s</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">s</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="sampled_streams.html#glob2loc_clock_nth">glob2loc_clock_nth</a></span>; <span class="id">rewrite</span> <span class="id">H4</span>; <span class="id">simpl</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> &lt;- <span class="id"><a href="sampled_streams.html#funPower_commut">funPower_commut</a></span>; <span class="id">rewrite</span> <span class="id">H3</span>; <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="rec1_loc_nfstwf">rec1_loc_nfstwf</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.B">B</a></span>), <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.P">P</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.n">n</a></span> (<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> <span class="id">_</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf.F1">F1</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;<span class="id">intros</span>; <span class="id">unfold</span> <span class="id"><a href="sp_rec.html#rec1">rec1</a></span>; <span class="id">apply</span> <span class="id"><a href="sp_rec.html#rec1_tmp_loc_nfstwf">rec1_tmp_loc_nfstwf</a></span> <span class="kwd">with</span> (<span class="id">k</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id">x</span> := <span class="id">x</span>); <span class="id">auto</span>.<br/>
&nbsp;<span class="id">simpl</span>; <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec1_loc_nfstwf">Rec1_loc_nfstwf</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SP_rec.Rec0">Rec0</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec0.c">c</a></span>: <span class="id"><a href="sampled_streams.html#clock">clock</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SP_rec.Rec0.F0">F0</a></span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span> -&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec0.F0_lfp">F0_lfp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span>) (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id"><a href="sampled_streams.html#sp_inf">sp_inf</a></span> <span class="id">n</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">F0</a></span> <span class="id">s1</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">F0</a></span> <span class="id">s2</span>).<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SP_rec.Rec0.F0_nfstwf_inc">F0_nfstwf_inc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#glob_nfstwf">glob_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">F0</a></span> <span class="id">s</span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="F0_loc_nfstwf_inc">F0_loc_nfstwf_inc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">n</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">s</span>: <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> <span class="id">n</span> <span class="id">s</span> -&gt; <span class="id"><a href="sampled_streams.html#loc_nfstwf">loc_nfstwf</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) (<span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">F0</a></span> <span class="id">s</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id"><a href="sampled_streams.html#rec0_nfstwf_inc_glob2loc">rec0_nfstwf_inc_glob2loc</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">F0</a></span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">F0_loc_nfstwf_inc</span> : <span class="id">sampled_str</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="rec0">rec0</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="sp_rec.html#rec1">rec1</a></span> (<span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) =&gt; <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span>) (<span class="kwd">fun</span> (<span class="id">f</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>-&gt; <span class="id"><a href="sampled_streams.html#samplStr">samplStr</a></span> <span class="id"><a href="sp_rec.html#SP_rec.A">A</a></span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">c</a></span>) (<span class="id">x</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) =&gt; <span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">F0</a></span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rec0_wf">rec0_wf</a></span> : <span class="id"><a href="sampled_streams.html#sp_wf">sp_wf</a></span> <span class="id"><a href="sp_rec.html#rec0">rec0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id"><a href="sp_rec.html#rec0">unfold</a></span> <span class="id">rec0</span>; <span class="id">apply</span> <span class="id">rec1_wf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">C</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F1</span> := <span class="kwd">fun</span> (<span class="id">f</span>: <span class="id"><a href="sampled_streams.html#samplStr">unit</a></span>-&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">c</a></span>) (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">F0</span> (<span class="id">f</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id">tt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">_</span>: <span class="id">unit</span>) =&gt; <span class="id">True</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">rec0_inv</span> : <span class="id">sp_eq</span> <span class="id">rec0</span> (<span class="id">F0</span> <span class="id">rec0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">rec0</span>; <span class="id">apply</span> <span class="id">rec1_inv</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">C</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">F1</a></span> := <span class="kwd">fun</span> (<span class="id">f</span>: <span class="id">unit</span>-&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">F0</span> (<span class="id">f</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id">tt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">_</span>: <span class="id">unit</span>) =&gt; <span class="id">True</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">rec0_uniq</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">r0</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id"><a href="sp_rec.html#SP_rec.Rec0.F0">c</a></span>), <span class="id">sp_eq</span> <span class="id"><a href="sampled_streams.html#sp_eq">r0</a></span> (<span class="id">F0</span> <span class="id">r0</span>) -&gt; <span class="id">sp_eq</span> <span class="id">rec0</span> <span class="id">r0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">rec0</span>; <span class="id">intros</span> <span class="id">r0</span> <span class="id">H</span>; <span class="id">apply</span> <span class="id">rec1_uniq</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">C</a></span>:= <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F1</span>:= <span class="kwd">fun</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec0.c">f</a></span>: <span class="id">unit</span>-&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">F0</a></span> (<span class="id">f</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id">tt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">r1</span> := <span class="kwd">fun</span> (<span class="id">_</span>: <span class="id">unit</span>) =&gt; <span class="id">r0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> := <span class="kwd">fun</span> (<span class="id">_</span>: <span class="id">unit</span>) =&gt; <span class="id">True</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="kwd">with</span> <span class="id">sampled_str</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">Rec0</span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id">Rec0_props</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id">c</span>: <span class="id">clock</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">rec0_lfp</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F1</span> <span class="id">F2</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span> -&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sp_inf</span> <span class="id">n</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id">sp_inf</span> <span class="id">n</span> (<span class="id">F1</span> <span class="id"><a href="sampled_streams.html#sp_inf">s1</a></span>) (<span class="id">F2</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">sp_inf</span> <span class="id">n</span> (<span class="id">rec0</span> <span class="id">F1</span>) (<span class="id">rec0</span> <span class="id">F2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">F1</span> <span class="id">F2</span> <span class="id">H</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">rec0</span>; <span class="id">apply</span> <span class="id">rec1_lfp</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">C</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#samplStr">F1</a></span> := <span class="kwd">fun</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec0_props.c">f</a></span>: <span class="id">unit</span>-&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">F1</span> (<span class="id">f</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F2</span> := <span class="kwd">fun</span> (<span class="id">f</span>: <span class="id">unit</span> -&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">F2</a></span> (<span class="id">f</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id">tt</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a name="rec0_loc_nfstwf">auto</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">rec0_loc_nfstwf</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F0</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span> -&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id"><a href="sp_rec.html#SP_rec.A">m</a></span>: <span class="id">nat</span>) (<span class="id">s</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">samplStr</a></span> <span class="id">A</span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lt</span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id">loc_nfstwf</span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id">loc_nfstwf</span> (<span class="id">S</span> <span class="id">m</span>) (<span class="id">F0</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">m</span>: <span class="id">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sp_inf</span> <span class="id">m</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id">sp_inf</span> <span class="id">m</span> (<span class="id">F0</span> <span class="id">s1</span>) (<span class="id">F0</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">loc_nfstwf</span> <span class="id">n</span> (<span class="id">rec0</span> <span class="id">F0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id"><a href="sp_rec.html#rec0">F0</a></span> <span class="id">n</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">rec0</span>; <span class="id">apply</span> <span class="id">rec1_loc_nfstwf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">C</span> := <span class="kwd">fun</span> (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="sampled_streams.html#samplStr">F1</a></span> := <span class="kwd">fun</span> (<span class="id"><a href="sp_rec.html#SP_rec.Rec0_props.c">f</a></span>: <span class="id">unit</span>-&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">x</span>: <span class="id">unit</span>) =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">F0</a></span> (<span class="id">f</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> := <span class="id">tt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">P</a></span>:= <span class="kwd">fun</span> (<span class="id">_</span>: <span class="id">unit</span>) =&gt; <span class="id">True</span>);<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Peano_dec.html">auto</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Require</span> <span class="id">Peano_dec</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">rec0_glob_nfstwf</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F0</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span> -&gt; <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">n</span>: <span class="id">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id"><a href="sp_rec.html#SP_rec.A">m</a></span>: <span class="id">nat</span>) (<span class="id">s</span>: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">samplStr</a></span> <span class="id">A</span> <span class="id">c</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lt</span> <span class="id">m</span> <span class="id">n</span> -&gt; <span class="id">glob_nfstwf</span> <span class="id">m</span> <span class="id">s</span> -&gt; <span class="id">glob_nfstwf</span> (<span class="id">S</span> <span class="id">m</span>) (<span class="id">F0</span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="kwd">forall</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="id">samplStr</span> <span class="id">A</span> <span class="id">c</span>) (<span class="id">m</span>: <span class="id">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sp_inf</span> <span class="id">m</span> <span class="id">s1</span> <span class="id">s2</span> -&gt; <span class="id">sp_inf</span> <span class="id">m</span> (<span class="id">F0</span> <span class="id">s1</span>) (<span class="id">F0</span> <span class="id">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">glob_nfstwf</span> <span class="id">n</span> (<span class="id">rec0</span> <span class="id">F0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">F0</span> <span class="id">n</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">apply</span> <span class="id">loc_nfstwf_glob_nfstwf</span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">rec0_loc_nfstwf</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>; <span class="id">apply</span> <span class="id">nfstwf_function_convert_S_recip</span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">F0</span>) (<span class="id">n</span> := <span class="id">n</span>); <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">Rec0_props</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">SP_rec</span>.<br/>
<br/>
<span class="kwd">Notation</span> "'&lt;' <span class="id">c</span> '&gt;<span class="id">rec0</span>' " := (<span class="id">rec0</span> (<span class="id">c</span> := <span class="id">c</span>)) (<span class="kwd">at</span> <span class="id">level</span> 100).<br/>
<br/>
<span class="id">Unset</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
