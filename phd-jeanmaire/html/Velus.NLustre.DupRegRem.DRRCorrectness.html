
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module DRRCorrectness</title>
<meta name="description" content="Documentation of Coq module DRRCorrectness" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module DRRCorrectness</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ListNotations">List.ListNotations</a></span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.funind.Recdef.html">Recdef</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.Common.html">Common</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Common.CommonProgram.html">CommonProgram</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Operators.html">Operators</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Clocks.html">Clocks</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.Environment.html">Environment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.FunctionalEnvironment.html">FunctionalEnvironment</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.IndexedStreams.html">IndexedStreams</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoreExpr.CESyntax.html">CoreExpr.CESyntax</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.CoreExpr.CESemantics.html">CoreExpr.CESemantics</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.NLSyntax.html">NLustre.NLSyntax</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.NLOrdered.html">NLustre.NLOrdered</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.NLIndexedSemantics.html">NLustre.NLIndexedSemantics</a></span>.<br/>
<span class="kwd">From</span> <span class="id">Velus</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRR.html">NLustre.DupRegRem.DRR</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="DRRCORRECTNESS">DRRCORRECTNESS</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ids</span>   : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Op</span>    : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span>      <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Cks</span>   : <span class="id"><a href="Velus.Clocks.html#CLOCKS">CLOCKS</a></span>             <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Str</span>   : <span class="id"><a href="Velus.IndexedStreams.html#INDEXEDSTREAMS">INDEXEDSTREAMS</a></span>     <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">CESyn</span> : <span class="id"><a href="Velus.CoreExpr.CESyntax.html#CESYNTAX">CESYNTAX</a></span>           <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">CESem</span> : <span class="id"><a href="Velus.CoreExpr.CESemantics.html#CESEMANTICS">CESEMANTICS</a></span>        <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str">Str</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Syn</span>   : <span class="id"><a href="Velus.NLustre.NLSyntax.html#NLSYNTAX">NLSYNTAX</a></span>           <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Ord</span>   : <span class="id"><a href="Velus.NLustre.NLOrdered.html#NLORDERED">NLORDERED</a></span>          <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">Sem</span>   : <span class="id"><a href="Velus.NLustre.NLIndexedSemantics.html#NLINDEXEDSEMANTICS">NLINDEXEDSEMANTICS</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str">Str</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem">CESem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Import</span> <span class="id">DRR</span>   : <span class="id"><a href="Velus.NLustre.DupRegRem.DRR.html#DRR">DRR</a></span>                <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span>).<br/>
<br/>
<h2> Preservation of Ordered_nodes </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs_Is_node_in">remove_dup_regs_eqs_Is_node_in</a></span> : <span class="kwd">forall</span> <span class="id">f</span> <span class="id">vars</span> <span class="id">eqs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord.Is_node_in">Is_node_in</a></span> <span class="id">f</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs_eqs">remove_dup_regs_eqs</a></span> <span class="id">vars</span> <span class="id">eqs</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord.Is_node_in">Is_node_in</a></span> <span class="id">f</span> <span class="id">eqs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs_eqs">remove_dup_regs_eqs</a></span> <span class="id">vars</span> <span class="id">eqs</span>); <span class="id">intros</span> * <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHp</span> <span class="kwd">in</span> <span class="id">Hin</span>. <span class="id">clear</span> <span class="id">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">e</span>. <span class="id">clear</span> - <span class="id">Hin</span>. <span class="id">revert</span> <span class="id">Hin</span>. <span class="id">generalize</span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.find_duplicates">find_duplicates</a></span> <span class="id">eqs</span>); <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.subst_and_filter_equations">subst_and_filter_equations</a></span>, <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord.Is_node_in">Is_node_in</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Exists_map">Exists_map</a></span> <span class="kwd">in</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">eqs</span> <span class="kwd">as</span> [|[| | |]]; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hin</span>; <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hin</span>; <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hin</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">auto</span>. <span class="id">left</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">_</span>); <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hin</span>; <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_Ordered">remove_dup_regs_Ordered</a></span> : <span class="kwd">forall</span> <span class="id">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord.Ordered_nodes">Ordered_nodes</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord.Ordered_nodes">Ordered_nodes</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs">remove_dup_regs</a></span> <span class="id">G</span>).<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonProgram.html#transform_units_Ordered_program">transform_units_Ordered_program</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hin</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs_Is_node_in">remove_dup_regs_eqs_Is_node_in</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h2> Preservation of semantics </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="DRRCORRECTNESS.rename_instant">rename_instant</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename_instant.sub">sub</a></span> : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename_instant.base">base</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename_instant.R">R</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.env">env</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="DRRCORRECTNESS.rename_instant.Hsub">Hsub</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) = <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">y</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">subst_sem_var_instant</span>'' : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.var_env">var_env</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span>) <span class="id">x</span> <span class="id">v</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.var_env">var_env</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span>) (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">x</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span>, <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.var_env">var_env</a></span>, <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span>) <span class="id">eqn</span>:<span class="id">Hfind</span>; <span class="id">try</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.Hsub">Hsub</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">subst_sem_var_instant</span>' : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) <span class="id">v</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">x</span>)) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span>, <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span>) <span class="id">eqn</span>:<span class="id">Hfind</span>; <span class="id">try</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.Hsub">Hsub</a></span> <span class="kwd">in</span> <span class="id">Hfind</span>. <span class="id">now</span> <span class="id">rewrite</span> &lt;-<span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_var_instant">subst_sem_var_instant</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_instant">sem_var_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">x</span>)) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> &lt;-<span class="id">subst_sem_var_instant</span>'; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">subst_sem_var_instant</span> : <span class="id">nlsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_clock_instant">subst_sem_clock_instant</a></span> : <span class="kwd">forall</span> <span class="id">ck</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_clock_instant">sem_clock_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.var_env">var_env</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span>) <span class="id">ck</span> <span class="id">v</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_clock_instant">sem_clock_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.var_env">var_env</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span>) (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_clock">rename_in_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">ck</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ck</span>; <span class="id">intros</span>; [<span class="id">reflexivity</span>|<span class="id">simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; (<span class="id">intros</span> <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>; [<span class="id">constructor</span>|<span class="id">constructor</span>|<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.Son_abs2">Son_abs2</a></span>]); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="id">try</span> (<span class="id">rewrite</span> <span class="id">IHck</span>|| <span class="id">rewrite</span> &lt;-<span class="id">IHck</span>); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:(<span class="id">rewrite</span> &lt;-<span class="id">subst_sem_var_instant</span>''||<span class="id">rewrite</span> <span class="id">subst_sem_var_instant</span>''); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">subst_sem_clock_instant</span> : <span class="id">nlsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_clocked_var_instant">subst_sem_clocked_var_instant</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ck</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_clocked_var_instant">sem_clocked_var_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) <span class="id">ck</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_clocked_var_instant">sem_clocked_var_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">x</span>)) (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_clock">rename_in_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">ck</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_clock_instant">subst_sem_clock_instant</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">subst_sem_var_instant</span>' <span class="kwd">in</span> *. <span class="id">setoid_rewrite</span> <span class="id">subst_sem_var_instant</span>' <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_exp_instant">subst_sem_exp_instant</a></span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_exp_instant">sem_exp_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> <span class="id">e</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_exp_instant">sem_exp_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_exp">rename_in_exp</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">e</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">e</span>; <span class="id">intros</span> * <span class="id">Hsem</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">auto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;when&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.Swhen_eq">Swhen_eq</a></span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.Swhen_abs1">Swhen_abs1</a></span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.Swhen_abs">Swhen_abs</a></span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_exp_typeof">rename_in_exp_typeof</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> 2 <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_exp_typeof">rename_in_exp_typeof</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">subst_sem_exp_instant</span> : <span class="id">nlsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_aexp_instant">subst_sem_aexp_instant</a></span> : <span class="kwd">forall</span> <span class="id">ck</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_aexp_instant">sem_aexp_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> <span class="id">ck</span> <span class="id">e</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_aexp_instant">sem_aexp_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_clock">rename_in_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">ck</span>) (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_exp">rename_in_exp</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">e</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">constructor</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">nlsem</span>; <span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_clock_instant">subst_sem_clock_instant</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_exps_instant">subst_sem_exps_instant</a></span> : <span class="kwd">forall</span> <span class="id">es</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_exps_instant">sem_exps_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> <span class="id">es</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_exps_instant">sem_exps_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_exp">rename_in_exp</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span>) <span class="id">es</span>) <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_exps_instant">sem_exps_instant</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_map_1">Forall2_map_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_impl_In">Forall2_impl_In</a></span>; [|<span class="id">eauto</span>]; <span class="id">intros</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_cexp_instant">subst_sem_cexp_instant</a></span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_cexp_instant">sem_cexp_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> <span class="id">e</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_cexp_instant">sem_cexp_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_cexp">rename_in_cexp</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">e</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">e</span> <span class="kwd">using</span> <span class="id">cexp_ind2</span>'; <span class="id">intros</span> * <span class="id">Hsem</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;merge&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">econstructor</span>. 1,6:<span class="id">eauto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_app">Forall_app</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">Hf</span>). <span class="id">inv</span> <span class="id">Hf</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> &lt;-<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [|<span class="id">eauto</span>]; <span class="id">intros</span>; <span class="id">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">a</span>) <span class="kwd">in</span> <span class="id">H</span>. 2:<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> *; <span class="id">simpl</span>; <span class="id">destruct</span> <span class="id">H0</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_impl_In">Forall_impl_In</a></span>; [|<span class="id">eapply</span> <span class="id">H6</span>]; <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">econstructor</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;eexp&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">constructor</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">subst_sem_cexp_instant</span> : <span class="id">nlsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_rhs_instant">subst_sem_rhs_instant</a></span> : <span class="kwd">forall</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_rhs_instant">sem_rhs_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> <span class="id">e</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_rhs_instant">sem_rhs_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_rhs">rename_in_rhs</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">e</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Sem</span>; <span class="id">inv</span> <span class="id">Sem</span>; <span class="id">econstructor</span>; <span class="id">eauto</span>; <span class="id">simpl_Forall</span>; <span class="id">eauto</span> <span class="kwd">with</span> <span class="id">nlsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id">instantiate</span> (1:=<span class="id">tyins</span>); <span class="id">simpl_Forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">now</span> <span class="id">rewrite</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_exp_typeof">rename_in_exp_typeof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">subst_sem_rhs_instant</span> : <span class="id">nlsem</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_arhs_instant">subst_sem_arhs_instant</a></span> : <span class="kwd">forall</span> <span class="id">ck</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_arhs_instant">sem_arhs_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> <span class="id">ck</span> <span class="id">e</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_arhs_instant">sem_arhs_instant</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.R">R</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_clock">rename_in_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">ck</span>) (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_rhs">rename_in_rhs</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant.sub">sub</a></span> <span class="id">e</span>) <span class="id">v</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">constructor</span>; <span class="id">auto</span> <span class="kwd">with</span> <span class="id">nlsem</span>; <span class="id">rewrite</span> &lt;-<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_clock_instant">subst_sem_clock_instant</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename_instant">rename_instant</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="DRRCORRECTNESS.rename">rename</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename.sub">sub</a></span> : <span class="id"><a href="Velus.Environment.html#Env.t">Env.t</a></span> <span class="id"><a href="Velus.Common.Common.html#ident">ident</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename.G">G</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.global">global</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename.base">base</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.cstream">cstream</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.rename.H">H</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.history">history</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="DRRCORRECTNESS.rename.Hsub">Hsub</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Environment.html#Env.find">Env.find</a></span> <span class="id">x</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.sub">sub</a></span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) = (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">y</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_var">subst_sem_var</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var">sem_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_var">rename_in_var</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.sub">sub</a></span> <span class="id">x</span>)) <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_var_instant">subst_sem_var_instant</a></span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_clock">subst_sem_clock</a></span> : <span class="kwd">forall</span> <span class="id">ck</span> <span class="id">vs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.base">base</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.var_history">var_history</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span>) <span class="id">ck</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_clock">sem_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.base">base</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.var_history">var_history</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span>) (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_clock">rename_in_clock</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.sub">sub</a></span> <span class="id">ck</span>) <span class="id">vs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_clock_instant">subst_sem_clock_instant</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.subst_sem_equation">subst_sem_equation</a></span> : <span class="kwd">forall</span> <span class="id">equ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.G">G</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span> <span class="id">equ</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.G">G</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.H">H</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_equation">rename_in_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename.sub">sub</a></span> <span class="id">equ</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span>; <span class="id">inv</span> <span class="id">Hsem</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;def&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_var">subst_sem_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> ?; <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_arhs_instant">subst_sem_arhs_instant</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_clock">subst_sem_clock</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> ?; <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_exps_instant">subst_sem_exps_instant</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_reset">rename_in_reset</a></span>. <span class="id">simpl_Forall</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_var">subst_sem_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;fby&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> ?; <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_aexp_instant">subst_sem_aexp_instant</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_reset">rename_in_reset</a></span>. <span class="id">simpl_Forall</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_var">subst_sem_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;+&nbsp;intros&nbsp;?.&nbsp;eapply&nbsp;subst_sem_clocked_vars_instant;&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;last&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">intros</span> ?. <span class="id">specialize</span> (<span class="id">H2</span> <span class="id">n</span>). <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_clock_instant">subst_sem_clock_instant</a></span> <span class="kwd">in</span> *; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.rename_in_reset">rename_in_reset</a></span>. <span class="id">simpl_Forall</span>; <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_var">subst_sem_var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.rename">rename</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs">remove_dup_regs_eqs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs.G1">G1</a></span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs.G2">G2</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.global">global</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs.Hglob">Hglob</a></span> : <span class="kwd">forall</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.G1">G1</a></span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> -&gt; <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_node">sem_node</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.G2">G2</a></span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs.base">base</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.cstream">cstream</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Variable</span> (<span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span> : <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.history">history</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.Forall2_bools">Forall2_bools</a></span> : <span class="kwd">forall</span> <span class="id">H</span> <span class="id">xs</span> <span class="id">vs</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var">sem_var</a></span> <span class="id">H</span>) <span class="id">xs</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.bools_ofs">bools_ofs</a></span> <span class="id">vs</span> <span class="id">rs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">vs</span>' , <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var">sem_var</a></span> <span class="id">H</span>) (<span class="id"><a href="Velus.Common.Common.html#PSP.to_list">PSP.to_list</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id">xs</span>)) <span class="id">vs</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.bools_ofs">bools_ofs</a></span> <span class="id">vs</span>' <span class="id">rs</span>.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Vars</span> <span class="id">Bools</span>; <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#SameElements">SameElements</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id">xs</span> (<span class="id"><a href="Velus.Common.Common.html#PSP.to_list">PSP.to_list</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id">xs</span>))) <span class="kwd">as</span> <span class="id">Same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonPS.html#ps_of_list_ps_to_list_SameElements">ps_of_list_ps_to_list_SameElements</a></span>; <span class="id">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Vars</span>':=<span class="id">Vars</span>). <span class="id">eapply</span> @<span class="id"><a href="Velus.Common.CommonList.html#Forall2_SameElements_1">Forall2_SameElements_1</a></span> <span class="kwd">with</span> (<span class="id">eqB</span>:=<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>) <span class="kwd">in</span> <span class="id">Vars</span>' <span class="kwd">as</span> (<span class="id">vs</span>'&amp;<span class="id">Same</span>'&amp;?); <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id">Same</span>' <span class="kwd">in</span> <span class="id">Bools</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">intros</span> * <span class="id">Eq1</span> <span class="id">Eq2</span> <span class="id">Var</span>. <span class="id">rewrite</span> &lt;-<span class="id">Eq1</span>, &lt;-<span class="id">Eq2</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_det">sem_var_det</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.ps_equal_Forall2_bools">ps_equal_Forall2_bools</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">H</span> <span class="id">xs</span> <span class="id">ys</span> <span class="id">vs</span> <span class="id">vs</span>' <span class="id">rs</span> <span class="id">rs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#PS.Equal">PS.Equal</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id">xs</span>) (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> <span class="id">ys</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var">sem_var</a></span> <span class="id">H</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>)) <span class="id">xs</span> <span class="id">vs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall2">Forall2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var">sem_var</a></span> <span class="id">H</span> (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>)) <span class="id">ys</span> <span class="id">vs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.bools_ofs">bools_ofs</a></span> <span class="id">vs</span> <span class="id">rs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.bools_ofs">bools_ofs</a></span> <span class="id">vs</span>' <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs</span> = <span class="id">rs</span>'.<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Eq</span> <span class="id">Vars</span> <span class="id">Vars</span>' <span class="id">Bools</span> <span class="id">Bools</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Velus.Common.CommonList.html#SameElements">SameElements</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id">xs</span> <span class="id">ys</span>) <span class="kwd">as</span> <span class="id">Same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#SE_trans">SE_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonPS.html#ps_of_list_ps_to_list_SameElements">ps_of_list_ps_to_list_SameElements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#SE_trans">SE_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonPS.html#ps_of_list_ps_to_list_SameElements">ps_of_list_ps_to_list_SameElements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#SE_perm">SE_perm</a></span>. <span class="id">rewrite</span> &lt;-<span class="id">Eq</span>. <span class="id">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> @<span class="id"><a href="Velus.Common.CommonList.html#Forall2_SameElements_1">Forall2_SameElements_1</a></span> <span class="kwd">with</span> (<span class="id">eqB</span>:=<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>) <span class="kwd">in</span> <span class="id">Vars</span> <span class="kwd">as</span> (<span class="id">vs</span>''&amp;<span class="id">Same</span>'&amp;<span class="id">Vars</span>); <span class="id">eauto</span>. 2:<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">vs</span>' = <span class="id">vs</span>''); <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_swap_args">Forall2_swap_args</a></span> <span class="kwd">in</span> <span class="id">Vars</span>'. <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall2_trans_ex">Forall2_trans_ex</a></span> <span class="kwd">in</span> <span class="id">Vars</span>; <span class="id">eauto</span>. <span class="id">clear</span> - <span class="id">Vars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">Vars</span> <span class="kwd">as</span> [|???? (?&amp;<span class="id">_</span>&amp;<span class="id">Hv1</span>&amp;<span class="id">Hv2</span>)]; <span class="id">subst</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_det">sem_var_det</a></span> <span class="kwd">in</span> <span class="id">Hv1</span>; <span class="id">eauto</span>; <span class="id">subst</span>; <span class="id">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Same</span>' <span class="kwd">in</span> <span class="id">Bools</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.bools_ofs_det">bools_ofs_det</a></span> <span class="kwd">in</span> <span class="id">Bools</span>'; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">intros</span> * <span class="id">Eq1</span> <span class="id">Eq2</span> <span class="id">Var</span>. <span class="id">rewrite</span> &lt;-<span class="id">Eq1</span>, &lt;-<span class="id">Eq2</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str.sem_var_det">sem_var_det</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.sem_EqFby_det">sem_EqFby_det</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">ck</span> <span class="id">c0</span> <span class="id">e</span> <span class="id">xr1</span> <span class="id">xr2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.Common.Common.html#PS.Equal">PS.Equal</a></span> (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xr1</span>)) (<span class="id"><a href="Velus.Common.Common.html#PSP.of_list">PSP.of_list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">xr2</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.G1">G1</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.EqFby">EqFby</a></span> <span class="id">x</span> <span class="id">ck</span> <span class="id">c0</span> <span class="id">e</span> <span class="id">xr1</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.G1">G1</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.EqFby">EqFby</a></span> <span class="id">y</span> <span class="id">ck</span> <span class="id">c0</span> <span class="id">e</span> <span class="id">xr2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">x</span>) = (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span> <span class="id">n</span>) (<span class="id"><a href="Velus.FunctionalEnvironment.html#Var">Var</a></span> <span class="id">y</span>).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Heq</span> <span class="id">Hsem1</span> <span class="id">Hsem2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hsem1</span>. <span class="id">inv</span> <span class="id">Hsem2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem.sem_aexp_det">sem_aexp_det</a></span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="id">eauto</span>; <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.ps_equal_Forall2_bools">ps_equal_Forall2_bools</a></span> <span class="kwd">with</span> (<span class="id">vs</span>:=<span class="id">ys</span>) <span class="kwd">in</span> <span class="id">Heq</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,3:<span class="id">simpl_Forall</span>; <span class="id">eauto</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n</span>. <span class="id">specialize</span> (<span class="id">H9</span> <span class="id">n</span>). <span class="id">specialize</span> (<span class="id">H13</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H9</span>, <span class="id">H13</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_eqs_sem">remove_dup_regs_eqs_sem</a></span> : <span class="kwd">forall</span> <span class="id">vars</span> <span class="id">eqs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.G1">G1</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span>) <span class="id">eqs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_equation">sem_equation</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.G2">G2</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.base">base</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs.H">H</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs_eqs">remove_dup_regs_eqs</a></span> <span class="id">vars</span> <span class="id">eqs</span>)).<br/>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> * <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs_eqs">remove_dup_regs_eqs</a></span> <span class="id">vars</span> <span class="id">eqs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span> <span class="id">IHp</span>. <span class="id">clear</span> <span class="id">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.subst_and_filter_equations">subst_and_filter_equations</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Velus.Common.CommonList.html#Forall_map">Forall_map</a></span>, <span class="id"><a href="Velus.Common.CommonList.html#Forall_filter">Forall_filter</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="id">eauto</span>]; <span class="id">intros</span> * ? <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.subst_sem_equation">subst_sem_equation</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> ?? <span class="id">Hfind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.find_duplicates_spec">find_duplicates_spec</a></span> <span class="kwd">in</span> <span class="id">Hfind</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;<span class="id">Hfby1</span>&amp;<span class="id">Hfby2</span>&amp;<span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hfby1</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">Hfby2</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.sem_EqFby_det">sem_EqFby_det</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">clear</span> - <span class="id">Hglob</span> <span class="id">Hsem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_impl">Forall_impl</a></span>; [|<span class="id">eauto</span>]; <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs">remove_dup_regs_eqs</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="DRRCORRECTNESS.remove_dup_regs_sem">remove_dup_regs_sem</a></span> : <span class="kwd">forall</span> <span class="id">G</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord.Ordered_nodes">Ordered_nodes</a></span> <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_node">sem_node</a></span> <span class="id">G</span> <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_node">sem_node</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs">remove_dup_regs</a></span> <span class="id">G</span>) <span class="id">f</span> <span class="id">ins</span> <span class="id">outs</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR.remove_dup_regs">remove_dup_regs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">nodes0</span>; <span class="id">intros</span> * <span class="id">Hord</span> <span class="id">Hsem</span>; <span class="id">simpl</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Velus.Common.Common.html#ident_eq_dec">ident_eq_dec</a></span> (<span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.n_name">n_name</a></span> <span class="id">a</span>) <span class="id">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">Hsem</span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.find_node_now">find_node_now</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">simpl</span>; <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn.find_node_now">find_node_now</a></span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="id">simpl</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.Forall_sem_equation_global_tl">Forall_sem_equation_global_tl</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonProgram.html#not_Is_called_in_self">not_Is_called_in_self</a></span> <span class="kwd">in</span> <span class="id">Hord</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_now">find_unit_now</a></span>; <span class="id">eauto</span>. <span class="id">simpl</span>; <span class="id">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">Forall_sem_equation_global_tl</span>'; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2:<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_Ordered">remove_dup_regs_Ordered</a></span> <span class="kwd">in</span> <span class="id">Hord</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eapply</span> <span class="id"><a href="Velus.Common.CommonProgram.html#not_Is_called_in_self">not_Is_called_in_self</a></span> <span class="kwd">in</span> <span class="id">Hord</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">setoid_rewrite</span> <span class="id"><a href="Velus.Common.CommonProgram.html#find_unit_now">find_unit_now</a></span>; <span class="id">eauto</span>. <span class="id">simpl</span>; <span class="id">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_eqs_sem">remove_dup_regs_eqs_sem</a></span> <span class="kwd">in</span> <span class="id">H5</span>; [<span class="id">simpl</span>;<span class="id">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hord</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem.sem_node_cons">sem_node_cons</a></span> <span class="kwd">in</span> <span class="id">Hsem</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">sem_node_cons</span>'; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eapply</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS.remove_dup_regs_Ordered">remove_dup_regs_Ordered</a></span> <span class="kwd">in</span> <span class="id">Hord</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">Hord</span>; <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS">DRRCORRECTNESS</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="DrrCorrectnessFun">DrrCorrectnessFun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ids</span>   : <span class="id"><a href="Velus.Common.Common.html#IDS">IDS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Op</span>    : <span class="id"><a href="Velus.Operators.html#OPERATORS">OPERATORS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">OpAux</span> : <span class="id"><a href="Velus.Operators.html#OPERATORS_AUX">OPERATORS_AUX</a></span>      <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Cks</span>   : <span class="id"><a href="Velus.Clocks.html#CLOCKS">CLOCKS</a></span>             <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Str</span>   : <span class="id"><a href="Velus.IndexedStreams.html#INDEXEDSTREAMS">INDEXEDSTREAMS</a></span>     <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CESyn</span> : <span class="id"><a href="Velus.CoreExpr.CESyntax.html#CESYNTAX">CESYNTAX</a></span>           <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CESem</span> : <span class="id"><a href="Velus.CoreExpr.CESemantics.html#CESEMANTICS">CESEMANTICS</a></span>        <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str">Str</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Syn</span>   : <span class="id"><a href="Velus.NLustre.NLSyntax.html#NLSYNTAX">NLSYNTAX</a></span>           <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ord</span>   : <span class="id"><a href="Velus.NLustre.NLOrdered.html#NLORDERED">NLORDERED</a></span>          <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Sem</span>   : <span class="id"><a href="Velus.NLustre.NLIndexedSemantics.html#NLINDEXEDSEMANTICS">NLINDEXEDSEMANTICS</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str">Str</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem">CESem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DRR</span>   : <span class="id"><a href="Velus.NLustre.DupRegRem.DRR.html#DRR">DRR</a></span>                <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span>)<br/>
&lt;: <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS">DRRCORRECTNESS</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str">Str</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem">CESem</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem">Sem</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR">DRR</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRRCORRECTNESS">DRRCORRECTNESS</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ids">Ids</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Op">Op</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#OpAux">OpAux</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Cks">Cks</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Str">Str</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESyn">CESyn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#CESem">CESem</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Syn">Syn</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Ord">Ord</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#Sem">Sem</a></span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DRR">DRR</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="Velus.NLustre.DupRegRem.DRRCorrectness.html#DrrCorrectnessFun">DrrCorrectnessFun</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
